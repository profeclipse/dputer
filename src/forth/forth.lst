
; 64tass Turbo Assembler Macro V1.58.2974? listing file
; 64tass -q -Wmacro-prefix -Wshadow --tab-size=4 -L /Users/davidhunt/Projects/dputer/src/forth/forth.lst --no-monitor -I /Users/davidhunt/Projects/dputer/src/forth/../kernel -o /Users/davidhunt/Projects/dputer/src/forth/forth.bin /Users/davidhunt/Projects/dputer/src/forth/forth.s
; Sun Mar 12 21:40:52 2023

;Offset	;Hex			;Source

;******  Processing input file: /Users/davidhunt/Projects/dputer/src/forth/forth.s


;******  Processing file: /Users/davidhunt/Projects/dputer/src/forth/../kernel/kernel.lbl

=$fffe					IRQVEC			= $fffe
=$ff80					CHROUT			= $ff80
=$e9					BRK_PC_VECTOR	= $e9
=$ff86					CHRCHK			= $ff86
=$d2					STRIN_VECTOR	= $d2
=$d8					YSAVE			= $d8
=3						FILEIO_CMD_READ	= 3
=$da					ASAVE2			= $da
=$ef					KBD_RPTR		= $ef
=2						TERMIO_CMD_HOME	= 2
=$e18f					KGETSCRH		= $e18f
=1						TERMIO_CMD_CLS	= 1
=56321					TERMIO_IDATA	= 56321
=56343					FILEIO_CDATA_HI2= 56343
=$e072					KREADTERM		= $e072
=2						FILEIO_CMD_CLOSE= 2
=$e265					DONMI			= $e265
=$ff					INPUT_BUFFER_LEN= $ff
=$f5					HEX_ADDR_BUFFER	= $f5
=$e11b					KCLS			= $e11b
=56320					TERMIO_IREADY	= 56320
=$e0f4					KWRITESTR		= $e0f4
=$d0					STROUT_VECTOR	= $d0
=$ed					MON_BP_ENABLE	= $ed
=1						FILEIO_MODE_READ= 1
=$e16f					KSETCURXY		= $e16f
=56338					FILEIO_CFD		= 56338
=56342					FILEIO_CDATA_LO2= 56342
=$f1					IRQ_SAVE_A		= $f1
=$e0a1					KGETSTR			= $e0a1
=56337					FILEIO_CCMD		= 56337
=$ec					MON_FROM_BRK	= $ec
=$f3					IRQ_SAVE_Y		= $f3
=$f2					IRQ_SAVE_X		= $f2
=2						FILEIO_STATUS_ERR= 2
=$e8					BRK_SAVE_SP		= $e8
=$ff83					CHRIN			= $ff83
=5						FILEIO_CMD_SEEK	= 5
=$e3					MON_OPCODE_VECTOR= $e3
=$de00					INPUT_BUFFER	= $de00
=$e1c5					KGETCURY		= $e1c5
=$e1aa					KGETCURX		= $e1aa
=$f8					MON_COLD_START	= $f8
=10						FILEIO_CMD_RESIZE= 10
=$dd00					KBD_BUFFER		= $dd00
=$f252					KMONINIT		= $f252
=56339					FILEIO_CMODE	= 56339
=$d4					T1_VECTOR		= $d4
=3						TERMIO_CMD_CURSOR_X= 3
=$fffc					RESVEC			= $fffc
=56324					TERMIO_CREADY	= 56324
=$e000					KERNELSTART		= $e000
=7						FILEIO_CMD_FILEPOS= 7
=$e1					MON_ADDR_VECTOR	= $e1
=$e202					DOIRQ			= $e202
=$ff8c					KWHEXBYT		= $ff8c
=$e0e2					KWRITETERM		= $e0e2
=56325					TERMIO_CCMD		= 56325
=$f4					IRQ_SAVE_SP		= $f4
=$dc00					TERMIO_BASE		= $dc00
=$e174					KGETSCRW		= $e174
=56322					TERMIO_OREADY	= 56322
=$eb					BRK_STATUS_REG	= $eb
=$d7					XSAVE			= $d7
=$e7					BRK_SAVE_Y		= $e7
=1						FILEIO_CMD_OPEN	= 1
=$ff89					KMON			= $ff89
=$e09b					KGETCHAR		= $e09b
=$ee					KBD_WPTR		= $ee
=$dd					WIMT_VECTOR		= $dd
=56326					TERMIO_CDATA	= 56326
=$dc10					FILEIO_BASE		= $dc10
=$f7					HEX_BYTE_BUFFER	= $f7
=4						TERMIO_CMD_CURSOR_Y= 4
=$ff8f					KPUTSTR			= $ff8f
=$db					XSAVE2			= $db
=$dc					YSAVE2			= $dc
=$e113					KWRITECRLF		= $e113
=9						FILEIO_CMD_FLUSH= 9
=7						TERMIO_CMD_GETCUR_X= 7
=8						TERMIO_CMD_GETCUR_Y= 8
=$e5					BRK_SAVE_A		= $e5
=$dc1a					FILEIO_FILENAME	= $dc1a
=56340					FILEIO_CDATA_LO	= 56340
=1						FILEIO_STATUS_EOF= 1
=56341					FILEIO_CDATA_HI	= 56341
=$e266					MONITOR			= $e266
=$df					MON_CMD_VECTOR	= $df
=$00					USER_ZP			= $00
=$e1e0					KTERMINIT		= $e1e0
=$e089					KUNREADTERM		= $e089
=3						FILEIO_MODE_RW	= 3
=8						FILEIO_CMD_FILESIZ= 8
=$e130					KHOME			= $e130
=56323					TERMIO_ODATA	= 56323
=$e15a					KSETCURY		= $e15a
=$e145					KSETCURX		= $e145
=0						FILEIO_STATUS_OK= 0
=$e000					KRESET			= $e000
=6						TERMIO_CMD_SCREEN_H= 6
=$f0					MON_OPCODE		= $f0
=56336					FILEIO_CREADY	= 56336
=$d9					PSAVE			= $d9
=$fffa					NMIVEC			= $fffa
=$e6					BRK_SAVE_X		= $e6
=$d6					ASAVE			= $d6
=56344					FILEIO_CSTATUS	= 56344
=$e08e					KCHECKTERM		= $e08e
=6						FILEIO_CMD_DELETE= 6
=4						FILEIO_CMD_WRITE= 4
=2						FILEIO_MODE_WRITE= 2
=5						TERMIO_CMD_SCREEN_W= 5

;******  Return to file: /Users/davidhunt/Projects/dputer/src/forth/forth.s


;******  Processing file: /Users/davidhunt/Projects/dputer/src/forth/forth.inc

=10100					VERSIONNUM				= 010100
=55280					DSTACK					= TERMIO_BASE-$0410	; data stack   - D7F0-DBEF
=54256					RSTACK					= DSTACK-$0400		; return stack - D3F0-D7EF
=56302					DSTACK_TOP				= DSTACK+$03FE
=55278					RSTACK_TOP				= RSTACK+$03FE
=$00					SP						= USER_ZP	; data stack pointer
=2						RP						= SP+2		; return stack pointer
=4						IP						= RP+2		; instruction pointer
=6						CFA						= IP+2		; current cfa
=8						RCFA					= CFA+2		; "real" cfa
=10						UP						= RCFA+2	; user pointer (not used)
=12						GP0						= UP+2		; general purpose register 0
=14						GP1						= GP0+2		; general purpose register 1
=16						GP2						= GP1+2		; general purpose register 1
=18						GP3						= GP2+2		; general purpose register 1
=20						GP4						= GP3+2		; general purpose register 1
=22						GP5						= GP4+2		; general purpose register 1
=24						GP6						= GP5+2		; general purpose register 1
=26						GP7						= GP6+2		; general purpose register 1
=28						GP8						= GP7+2		; general purpose register 1
=30						GP9						= GP8+2		; general purpose register 1
=255					MAXBUFSIZE				= 255
=16						NUMVOCSDEF				= 16
=$ffff					THROW_ABORT				= $FFFF
=$fffe					THROW_ABORTQ			= $FFFE
=$fffc					THROW_STACKUNDER		= $FFFC
=$fff3					THROW_UNDEFINED			= $FFF3
=$fff4					THROW_COMPONLY			= $FFF4
=$fff0					THROW_NAMEREQD			= $FFF0
=$ffea					THROW_MISMATCH			= $FFEA
=$ffda					THROW_FILENOTFOUND		= $FFDA
=$fefc					THROW_NOTDEFER			= $FEFC
=$fefb					THROW_NOTVALUE			= $FEFB
=$fefa					THROW_OUTOFMEM			= $FEFA
=$fef9					THROW_FILECREATEFAIL	= $FEF9
=$fef8					THROW_FILEREADFAIL		= $FEF8
=$fef7					THROW_FILEWRITEFAIL		= $FEF7
=$fef6					THROW_EXECONLY			= $FEF6
=$fef5					THROW_LOCALSTWICE		= $FEF5
=$fef4					THROW_TOOMANYLOCALS		= $FEF4
=$fef3					THROW_LOCALSNOCLOSE		= $FEF3
=$fef2					THROW_STACKCHG			= $FEF2
=$fef1					THROW_ARGSNODASHDASH	= $FEF1
=$fef0					THROW_NOTLOCAL			= $FEF0
=$ffef					THROW_FILECLOSEFAIL		= $FFEF

;******  Return to file: /Users/davidhunt/Projects/dputer/src/forth/forth.s


;******  Processing file: /Users/davidhunt/Projects/dputer/src/forth/forth.mac

=0						PREVHEADER	.var 0
=0						PREVDEFER	.var 0

;******  Return to file: /Users/davidhunt/Projects/dputer/src/forth/forth.s

.0200					ENTRY:
.0200	4c bd 4a			jmp ICOLD
.0203					PUSHNEXT:
.0203	20 37 03			jsr dpush
.0206					NEXT:
.0206	b2 04				lda (IP)
.0208	85 06				sta CFA
.020a	a0 01				ldy #1
.020c	b1 04				lda (IP),y
.020e	85 07				sta CFA+1
.0210	20 0c 04			jsr incIP
.0213	90 00				bcc EXEC
.0215					EXEC:
.0215	b2 06				lda (CFA)
.0217	85 08				sta RCFA
.0219	a0 01				ldy #1
.021b	b1 06				lda (CFA),y
.021d	85 09				sta RCFA+1
.021f	6c 08 00			jmp (RCFA)
.0222					DOCOLON:
.0222	a5 04				lda IP
.0224	a6 05				ldx IP+1
.0226	20 c3 03			jsr rpush
.0229	18					clc
.022a	a5 06				lda CFA
.022c	69 02				adc #2
.022e	85 04				sta IP
.0230	a5 07				lda CFA+1
.0232	69 00				adc #0
.0234	85 05				sta IP+1
.0236	4c 06 02			jmp NEXT
.0239					DOVAR:
.0239	18					clc
.023a	a5 06				lda CFA
.023c	69 02				adc #2
.023e	a8					tay
.023f	a5 07				lda CFA+1
.0241	69 00				adc #0
.0243	aa					tax
.0244	98					tya
.0245	4c 03 02			jmp PUSHNEXT
.0248					DOCON:
.0248	a0 03				ldy #3
.024a	b1 06				lda (CFA),y
.024c	aa					tax
.024d	88					dey
.024e	b1 06				lda (CFA),y
.0250	4c 03 02			jmp PUSHNEXT
.0253					DO2CON:
.0253	a0 05				ldy #5
.0255	b1 06				lda (CFA),y
.0257	aa					tax
.0258	88					dey
.0259	b1 06				lda (CFA),y
.025b	20 37 03			jsr dpush
.025e	a0 03				ldy #3
.0260	b1 06				lda (CFA),y
.0262	aa					tax
.0263	88					dey
.0264	b1 06				lda (CFA),y
.0266	4c 03 02			jmp PUSHNEXT
.0269					DODOES:
.0269	a5 04				lda IP
.026b	a6 05				ldx IP+1
.026d	20 c3 03			jsr rpush
.0270	68					pla			; low byte of return addr
.0271	85 04				sta IP
.0273	68					pla			; high byte of return addr
.0274	85 05				sta IP+1
.0276	e6 04				inc IP		; add 1 to DOES> portion of word
.0278	d0 02				bne +
.027a	e6 05				inc IP+1
.027c	4c 39 02		+	jmp DOVAR
.027f					DODEFER:
.027f	a0 02				ldy #2
.0281	b1 06				lda (CFA),y
.0283	85 0c				sta GP0
.0285	c8					iny
.0286	b1 06				lda (CFA),y
.0288	85 0d				sta GP0+1
.028a	a5 0c				lda GP0
.028c	85 06				sta CFA
.028e	a5 0d				lda GP0+1
.0290	85 07				sta CFA+1
.0292	4c 15 02			jmp EXEC
.0295					DOVALUE:
.0295	a0 03				ldy #3
.0297	b1 06				lda (CFA),y
.0299	aa					tax
.029a	88					dey
.029b	b1 06				lda (CFA),y
.029d	4c 03 02			jmp PUSHNEXT
.02a0					DOVALUESTORE:
.02a0	a5 06				lda CFA
.02a2	85 0c				sta GP0
.02a4	a5 07				lda CFA+1
.02a6	85 0d				sta GP0+1
.02a8	38					sec
.02a9	a5 0c				lda GP0
.02ab	e9 02				sbc #2
.02ad	85 0c				sta GP0
.02af	b0 02				bcs +
.02b1	c6 0d				dec GP0+1
.02b3					+
.02b3	20 41 03			jsr dpop
.02b6	92 0c				sta (GP0)
.02b8	8a					txa
.02b9	a0 01				ldy #1
.02bb	91 0c				sta (GP0),y
.02bd	4c 06 02			jmp NEXT
.02c0					DOVALUEPSTORE:
.02c0	a5 06				lda CFA
.02c2	85 0c				sta GP0
.02c4	a5 07				lda CFA+1
.02c6	85 0d				sta GP0+1
.02c8	38					sec
.02c9	a5 0c				lda GP0
.02cb	e9 04				sbc #4
.02cd	85 0c				sta GP0
.02cf	a5 0d				lda GP0+1
.02d1	e9 00				sbc #0
.02d3	85 0d				sta GP0+1
.02d5	20 41 03			jsr dpop
.02d8	18					clc
.02d9	72 0c				adc (GP0)
.02db	92 0c				sta (GP0)
.02dd	8a					txa
.02de	a0 01				ldy #1
.02e0	71 0c				adc (GP0),y
.02e2	91 0c				sta (GP0),y
.02e4	4c 06 02			jmp NEXT
.02e7					DO2VALUE:
.02e7	a0 02				ldy #2			; get address of value
.02e9	b1 06				lda (CFA),y
.02eb	85 0c				sta GP0
.02ed	c8					iny
.02ee	b1 06				lda (CFA),y
.02f0	85 0d				sta GP0+1
.02f2	a0 03				ldy #3			; get value
.02f4	b1 0c				lda (GP0),y
.02f6	aa					tax
.02f7	88					dey
.02f8	b1 0c				lda (GP0),y
.02fa	20 37 03			jsr dpush
.02fd	88					dey
.02fe	b1 0c				lda (GP0),y
.0300	aa					tax
.0301	88					dey
.0302	b1 0c				lda (GP0),y
.0304	4c 03 02			jmp PUSHNEXT
.0307					DOVOC:
.0307	18					clc
.0308	a5 06				lda CFA
.030a	69 04				adc #4
.030c	85 06				sta CFA
.030e	90 02				bcc +
.0310	e6 07				inc CFA+1
.0312	a5 06			+	lda CFA
.0314	8d 18 2b			sta CONTEXT+2
.0317	a5 07				lda CFA+1
.0319	8d 19 2b			sta CONTEXT+3
.031c	4c 06 02			jmp NEXT
.031f					incSP
.031f	18					clc
.0320	a5 00				lda SP
.0322	69 02				adc #2
.0324	85 00				sta SP
.0326	90 02				bcc +
.0328	e6 01				inc SP+1
.032a	60				+	rts
.032b					decSP
.032b	38					sec
.032c	a5 00				lda SP
.032e	e9 02				sbc #2
.0330	85 00				sta SP
.0332	b0 02				bcs +
.0334	c6 01				dec SP+1
.0336	60				+	rts
.0337					dpush
.0337	92 00				sta (SP)
.0339	8a					txa
.033a	a0 01				ldy #1
.033c	91 00				sta (SP),y
.033e	4c 2b 03			jmp decSP
.0341					dpop
.0341	20 1f 03			jsr incSP
.0344	a0 01				ldy #1
.0346	b1 00				lda (SP),y
.0348	aa					tax
.0349	b2 00				lda (SP)
.034b	60					rts
.034c					dpopToGP0
.034c	20 1f 03			jsr incSP
.034f	a0 01				ldy #1
.0351	b1 00				lda (SP),y
.0353	85 0d				sta GP0+1
.0355	b2 00				lda (SP)
.0357	85 0c				sta GP0
.0359	60					rts
.035a					dpopToGP1
.035a	20 1f 03			jsr incSP
.035d	a0 01				ldy #1
.035f	b1 00				lda (SP),y
.0361	85 0f				sta GP1+1
.0363	b2 00				lda (SP)
.0365	85 0e				sta GP1
.0367	60					rts
.0368					dpopToGP2
.0368	20 1f 03			jsr incSP
.036b	a0 01				ldy #1
.036d	b1 00				lda (SP),y
.036f	85 11				sta GP2+1
.0371	b2 00				lda (SP)
.0373	85 10				sta GP2
.0375	60					rts
.0376					dpopToGP3
.0376	20 1f 03			jsr incSP
.0379	a0 01				ldy #1
.037b	b1 00				lda (SP),y
.037d	85 13				sta GP3+1
.037f	b2 00				lda (SP)
.0381	85 12				sta GP3
.0383	60					rts
.0384					dpopToGP4
.0384	20 1f 03			jsr incSP
.0387	a0 01				ldy #1
.0389	b1 00				lda (SP),y
.038b	85 15				sta GP4+1
.038d	b2 00				lda (SP)
.038f	85 14				sta GP4
.0391	60					rts
.0392					dpopToCFA
.0392	20 1f 03			jsr incSP
.0395	a0 01				ldy #1
.0397	b1 00				lda (SP),y
.0399	85 07				sta CFA+1
.039b	b2 00				lda (SP)
.039d	85 06				sta CFA
.039f	60					rts
.03a0					incRP
.03a0	18					clc
.03a1	a5 02				lda RP
.03a3	69 02				adc #2
.03a5	85 02				sta RP
.03a7	90 02				bcc +
.03a9	e6 03				inc RP+1
.03ab	60				+	rts
.03ac					decRP
.03ac	38					sec
.03ad	a5 02				lda RP
.03af	e9 02				sbc #2
.03b1	85 02				sta RP
.03b3	b0 02				bcs +
.03b5	c6 03				dec RP+1
.03b7	60				+	rts
.03b8					rpop
.03b8	20 a0 03			jsr incRP
.03bb	a0 01				ldy #1
.03bd	b1 02				lda (RP),y
.03bf	aa					tax
.03c0	b2 02				lda (RP)
.03c2	60					rts
.03c3					rpush
.03c3	92 02				sta (RP)
.03c5	a0 01				ldy #1
.03c7	8a					txa
.03c8	91 02				sta (RP),y
.03ca	20 ac 03			jsr decRP
.03cd	60					rts
.03ce					waitFileIO
.03ce	ad 10 dc			lda FILEIO_CREADY
.03d1	d0 fb				bne waitFileIO
.03d3	60					rts
.03d4					doFileIO
.03d4	a9 01				lda #1
.03d6	8d 10 dc			sta FILEIO_CREADY
.03d9	80 f3				bra waitFileIO
.03db					doWriteFile
.03db	a9 04				lda #FILEIO_CMD_WRITE
.03dd	8d 11 dc			sta FILEIO_CCMD
.03e0	a5 10			-	lda GP2
.03e2	05 11				ora GP2+1
.03e4	f0 20				beq +++
.03e6	b2 0e				lda (GP1)
.03e8	8d 14 dc			sta FILEIO_CDATA_LO
.03eb	20 d4 03			jsr doFileIO
.03ee	ad 18 dc			lda FILEIO_CSTATUS
.03f1	d0 13				bne +++
.03f3	e6 0e				inc GP1
.03f5	d0 02				bne +
.03f7	e6 0f				inc GP1+1
.03f9					+
.03f9	38					sec
.03fa	a5 10				lda GP2
.03fc	e9 01				sbc #1
.03fe	85 10				sta GP2
.0400	b0 de				bcs -
.0402	c6 11				dec GP2+1
.0404	80 da			+	bra -
.0406	ad 18 dc		+	lda FILEIO_CSTATUS
.0409	a2 00				ldx #0
.040b	60					rts
.040c					incIP
.040c	18					clc
.040d	a5 04				lda IP
.040f	69 02				adc #2
.0411	85 04				sta IP
.0413	90 02				bcc +
.0415	e6 05				inc IP+1
.0417	60				+	rts
.0418					incGP0
.0418	e6 0c				inc GP0
.041a	d0 02				bne +
.041c	e6 0d				inc GP0+1
.041e	60				+	rts
.041f					decGP0
.041f	38					sec
.0420	a5 0c				lda GP0
.0422	e9 01				sbc #1
.0424	85 0c				sta GP0
.0426	b0 02				bcs +
.0428	c6 0d				dec GP0+1
.042a	60				+	rts
.042b					incGP1
.042b	e6 0e				inc GP1
.042d	d0 02				bne +
.042f	e6 0f				inc GP1+1
.0431	60				+	rts
.0432					decGP1
.0432	38					sec
.0433	a5 0e				lda GP1
.0435	e9 01				sbc #1
.0437	85 0e				sta GP1
.0439	b0 02				bcs +
.043b	c6 0f				dec GP1+1
.043d	60				+	rts
.043e					incGP2
.043e	e6 10				inc GP2
.0440	d0 02				bne +
.0442	e6 11				inc GP2+1
.0444	60				+	rts
.0445					decGP2
.0445	38					sec
.0446	a5 10				lda GP2
.0448	e9 01				sbc #1
.044a	85 10				sta GP2
.044c	b0 02				bcs +
.044e	c6 11				dec GP2+1
.0450	60				+	rts
.0451					incGP3
.0451	e6 12				inc GP3
.0453	d0 02				bne +
.0455	e6 13				inc GP3+1
.0457	60				+	rts
.0458					decGP4
.0458	38					sec
.0459	a5 14				lda GP4
.045b	e9 01				sbc #1
.045d	85 14				sta GP4
.045f	b0 02				bcs +
.0461	c6 15				dec GP4+1
.0463	60				+	rts
.0464					FORTHKERNEL:
>0464	00 00				.word 0
>0466	07 66 6f 72			.ptext "forth.s"
>046a	74 68 2e 73
>046e	08 4c 4f 41		-	.ptext "LOADFILE"
>0472	44 46 49 4c 45
>0477	6e 04				.word -
>0479	00 00				.word PREVHEADER
=$046e						PREVHEADER ::= -
>047b	39 02			LOADFILE:	.word DOVAR
>047d	64 04				.word FORTHKERNEL
>047f	08 56 45 52		-	.ptext "VERSION#"
>0483	53 49 4f 4e 23
>0488	7f 04				.word -
>048a	6e 04				.word PREVHEADER
=$047f						PREVHEADER ::= -
>048c	48 02			VERSIONNUMBER:	.word DOCON
>048e	74 27				.word VERSIONNUM
>0490	09 4d 41 58		-	.ptext "MAXSTRING"
>0494	53 54 52 49 4e 47
>049a	90 04				.word -
>049c	7f 04				.word PREVHEADER
=$0490						PREVHEADER ::= -
>049e	48 02			MAXSTRING:	.word DOCON
>04a0	ff 00				.word 255
>04a2	0a 4d 41 58		-	.ptext "MAXCOUNTED"
>04a6	43 4f 55 4e 54 45 44
>04ad	a2 04				.word -
>04af	90 04				.word PREVHEADER
=$04a2						PREVHEADER ::= -
>04b1	48 02			MAXCOUNTED:	.word DOCON
>04b3	ff 00				.word 255
>04b5	0e 4d 41 58		-	.ptext "MAX-NAME-CHARS"
>04b9	2d 4e 41 4d 45 2d 43 48 41 52 53
>04c4	b5 04				.word -
>04c6	a2 04				.word PREVHEADER
=$04b5						PREVHEADER ::= -
>04c8	48 02			MAXNAMECHARS:	.word DOCON
>04ca	3f 00				.word 63
>04cc	01 30			-	.ptext "0"
>04ce	cc 04				.word -
>04d0	b5 04				.word PREVHEADER
=$04cc						PREVHEADER ::= -
>04d2	48 02			ZERO:	.word DOCON
>04d4	00 00				.word 0
>04d6	01 31			-	.ptext "1"
>04d8	d6 04				.word -
>04da	cc 04				.word PREVHEADER
=$04d6						PREVHEADER ::= -
>04dc	48 02			ONE:	.word DOCON
>04de	01 00				.word 1
>04e0	01 32			-	.ptext "2"
>04e2	e0 04				.word -
>04e4	d6 04				.word PREVHEADER
=$04e0						PREVHEADER ::= -
>04e6	48 02			TWO:	.word DOCON
>04e8	02 00				.word 2
>04ea	04 54 52 55		-	.ptext "TRUE"
>04ee	45
>04ef	ea 04				.word -
>04f1	e0 04				.word PREVHEADER
=$04ea						PREVHEADER ::= -
>04f3	48 02			TRUECON:	.word DOCON
>04f5	ff ff				.word $FFFF
>04f7	05 46 41 4c		-	.ptext "FALSE"
>04fb	53 45
>04fd	f7 04				.word -
>04ff	ea 04				.word PREVHEADER
=$04f7						PREVHEADER ::= -
>0501	48 02			FALSECON:	.word DOCON
>0503	00 00				.word 0
>0505	04 43 45 4c		-	.ptext "CELL"
>0509	4c
>050a	05 05				.word -
>050c	f7 04				.word PREVHEADER
=$0505						PREVHEADER ::= -
>050e	48 02			CELL:	.word DOCON
>0510	02 00				.word 2
>0512	02 42 4c		-	.ptext "BL"
>0515	12 05				.word -
>0517	05 05				.word PREVHEADER
=$0512						PREVHEADER ::= -
>0519	48 02			BL:	.word DOCON
>051b	20 00				.word 32
>051d	0a 54 4f 50		-	.ptext "TOP-OF-MEM"
>0521	2d 4f 46 2d 4d 45 4d
>0528	1d 05				.word -
>052a	12 05				.word PREVHEADER
=$051d						PREVHEADER ::= -
>052c	48 02			TOPOFMEM:	.word DOCON
>052e	f0 d3				.word RSTACK
>0530	07 44 4f 43		-	.ptext "DOCOLON"
>0534	4f 4c 4f 4e
>0538	30 05				.word -
>053a	1d 05				.word PREVHEADER
=$0530						PREVHEADER ::= -
>053c	48 02			DOCOLONCON:	.word DOCON
>053e	22 02				.word DOCOLON
>0540	05 44 4f 56		-	.ptext "DOVAR"
>0544	41 52
>0546	40 05				.word -
>0548	30 05				.word PREVHEADER
=$0540						PREVHEADER ::= -
>054a	48 02			DOVARCON:	.word DOCON
>054c	39 02				.word DOVAR
>054e	05 44 4f 43		-	.ptext "DOCON"
>0552	4f 4e
>0554	4e 05				.word -
>0556	40 05				.word PREVHEADER
=$054e						PREVHEADER ::= -
>0558	48 02			DOCONCON:	.word DOCON
>055a	48 02				.word DOCON
>055c	06 44 4f 32		-	.ptext "DO2CON"
>0560	43 4f 4e
>0563	5c 05				.word -
>0565	4e 05				.word PREVHEADER
=$055c						PREVHEADER ::= -
>0567	48 02			DO2CONCON:	.word DOCON
>0569	53 02				.word DO2CON
>056b	06 44 4f 44		-	.ptext "DODOES"
>056f	4f 45 53
>0572	6b 05				.word -
>0574	5c 05				.word PREVHEADER
=$056b						PREVHEADER ::= -
>0576	48 02			DODOESCON:	.word DOCON
>0578	69 02				.word DODOES
>057a	07 44 4f 44		-	.ptext "DODEFER"
>057e	45 46 45 52
>0582	7a 05				.word -
>0584	6b 05				.word PREVHEADER
=$057a						PREVHEADER ::= -
>0586	48 02			DODEFERCON:	.word DOCON
>0588	7f 02				.word DODEFER
>058a	07 44 4f 56		-	.ptext "DOVALUE"
>058e	41 4c 55 45
>0592	8a 05				.word -
>0594	7a 05				.word PREVHEADER
=$058a						PREVHEADER ::= -
>0596	48 02			DOVALUECON:	.word DOCON
>0598	95 02				.word DOVALUE
>059a	08 44 4f 56		-	.ptext "DOVALUE!"
>059e	41 4c 55 45 21
>05a3	9a 05				.word -
>05a5	8a 05				.word PREVHEADER
=$059a						PREVHEADER ::= -
>05a7	48 02			DOVALUESTORECON:	.word DOCON
>05a9	a0 02				.word DOVALUESTORE
>05ab	09 44 4f 56		-	.ptext "DOVALUE+!"
>05af	41 4c 55 45 2b 21
>05b5	ab 05				.word -
>05b7	9a 05				.word PREVHEADER
=$05ab						PREVHEADER ::= -
>05b9	48 02			DOVALUEPSTORECON:	.word DOCON
>05bb	c0 02				.word DOVALUEPSTORE
>05bd	08 44 4f 32		-	.ptext "DO2VALUE"
>05c1	56 41 4c 55 45
>05c6	bd 05				.word -
>05c8	ab 05				.word PREVHEADER
=$05bd						PREVHEADER ::= -
>05ca	48 02			DO2VALUECON:	.word DOCON
>05cc	e7 02				.word DO2VALUE
>05ce	05 44 4f 56		-	.ptext "DOVOC"
>05d2	4f 43
>05d4	ce 05				.word -
>05d6	bd 05				.word PREVHEADER
=$05ce						PREVHEADER ::= -
>05d8	48 02			DOVOCCON:	.word DOCON
>05da	07 03				.word DOVOC
>05dc	12 46 4f 52		-	.ptext "FORTH-KERNEL-START"
>05e0	54 48 2d 4b 45 52 4e 45 4c 2d 53 54 41 52 54
>05ef	dc 05				.word -
>05f1	ce 05				.word PREVHEADER
=$05dc						PREVHEADER ::= -
>05f3	48 02			FORTHKERNELSTARTCON:	.word DOCON
>05f5	00 02				.word ENTRY
>05f7	04 50 55 53		-	.ptext "PUSH"
>05fb	48
>05fc	f7 05				.word -
>05fe	dc 05				.word PREVHEADER
=$05f7						PREVHEADER ::= -
>0600	48 02			PUSHCON:	.word DOCON
>0602	37 03				.word dpush
>0604	03 50 4f 50		-	.ptext "POP"
>0608	04 06				.word -
>060a	f7 05				.word PREVHEADER
=$0604						PREVHEADER ::= -
>060c	48 02			POPCON:	.word DOCON
>060e	41 03				.word dpop
>0610	05 52 50 55		-	.ptext "RPUSH"
>0614	53 48
>0616	10 06				.word -
>0618	04 06				.word PREVHEADER
=$0610						PREVHEADER ::= -
>061a	48 02			RPUSHCON:	.word DOCON
>061c	c3 03				.word rpush
>061e	04 52 50 4f		-	.ptext "RPOP"
>0622	50
>0623	1e 06				.word -
>0625	10 06				.word PREVHEADER
=$061e						PREVHEADER ::= -
>0627	48 02			RPOPCON:	.word DOCON
>0629	b8 03				.word rpop
>062b	04 45 58 45		-	.ptext "EXEC"
>062f	43
>0630	2b 06				.word -
>0632	1e 06				.word PREVHEADER
=$062b						PREVHEADER ::= -
>0634	48 02			EXECCON:	.word DOCON
>0636	15 02				.word EXEC
>0638	04 4e 45 58		-	.ptext "NEXT"
>063c	54
>063d	38 06				.word -
>063f	2b 06				.word PREVHEADER
=$0638						PREVHEADER ::= -
>0641	48 02			NEXTCON:	.word DOCON
>0643	06 02				.word NEXT
>0645	08 50 55 53		-	.ptext "PUSHNEXT"
>0649	48 4e 45 58 54
>064e	45 06				.word -
>0650	38 06				.word PREVHEADER
=$0645						PREVHEADER ::= -
>0652	48 02			PUSHNEXTCON:	.word DOCON
>0654	03 02				.word PUSHNEXT
>0656	02 49 50		-	.ptext "IP"
>0659	56 06				.word -
>065b	45 06				.word PREVHEADER
=$0656						PREVHEADER ::= -
>065d	48 02			IPCON:	.word DOCON
>065f	04 00				.word IP
>0661	02 53 50		-	.ptext "SP"
>0664	61 06				.word -
>0666	56 06				.word PREVHEADER
=$0661						PREVHEADER ::= -
>0668	48 02			SPCON:	.word DOCON
>066a	00 00				.word SP
>066c	02 52 50		-	.ptext "RP"
>066f	6c 06				.word -
>0671	61 06				.word PREVHEADER
=$066c						PREVHEADER ::= -
>0673	48 02			RPCON:	.word DOCON
>0675	02 00				.word RP
>0677	03 43 46 41		-	.ptext "CFA"
>067b	77 06				.word -
>067d	6c 06				.word PREVHEADER
=$0677						PREVHEADER ::= -
>067f	48 02			CFACON:	.word DOCON
>0681	06 00				.word CFA
>0683	04 52 43 46		-	.ptext "RCFA"
>0687	41
>0688	83 06				.word -
>068a	77 06				.word PREVHEADER
=$0683						PREVHEADER ::= -
>068c	48 02			RCFACON:	.word DOCON
>068e	08 00				.word RCFA
>0690	06 55 4e 4e		-	.ptext "UNNEST"
>0694	45 53 54
>0697	90 06				.word -
>0699	83 06				.word PREVHEADER
=$0690						PREVHEADER ::= -
>069b	9d 06			UNNEST:	.word +
.069d					+
.069d	20 b8 03			jsr rpop
.06a0	85 04				sta IP
.06a2	86 05				stx IP+1
.06a4	4c 06 02			jmp NEXT
>06a7	06 28 45 58		-	.ptext "(EXIT)"
>06ab	49 54 29
>06ae	a7 06				.word -
>06b0	90 06				.word PREVHEADER
=$06a7						PREVHEADER ::= -
>06b2	b4 06			PEXITP:	.word +
.06b4					+
.06b4	80 e7				bra UNNEST+2
>06b6	06 42 52 41		-	.ptext "BRANCH"
>06ba	4e 43 48
>06bd	b6 06				.word -
>06bf	a7 06				.word PREVHEADER
=$06b6						PREVHEADER ::= -
>06c1	c3 06			BRANCH:	.word +
.06c3					+
.06c3	a0 01				ldy #1
.06c5	b1 04				lda (IP),y
.06c7	aa					tax
.06c8	b2 04				lda (IP)
.06ca	85 04				sta IP
.06cc	86 05				stx IP+1
.06ce	4c 06 02			jmp NEXT
>06d1	07 3f 42 52		-	.ptext "?BRANCH"
>06d5	41 4e 43 48
>06d9	d1 06				.word -
>06db	b6 06				.word PREVHEADER
=$06d1						PREVHEADER ::= -
>06dd	df 06			QBRANCH:	.word +
.06df					+
.06df	20 41 03			jsr dpop
.06e2	c9 00				cpa #0
.06e4	d0 06				bne +
.06e6	e0 00				cpx #0
.06e8	d0 02				bne +
.06ea	80 d7				bra BRANCH+2
.06ec	20 0c 04		+	jsr incIP
.06ef	4c 06 02			jmp NEXT
>06f2	07 28 42 45		-	.ptext "(BEGIN)"
>06f6	47 49 4e 29
>06fa	f2 06				.word -
>06fc	d1 06				.word PREVHEADER
=$06f2						PREVHEADER ::= -
>06fe	00 07			PBEGINP:	.word +
.0700					+
.0700	4c 06 02			jmp NEXT
>0703	06 28 54 48		-	.ptext "(THEN)"
>0707	45 4e 29
>070a	03 07				.word -
>070c	f2 06				.word PREVHEADER
=$0703						PREVHEADER ::= -
>070e	10 07			PTHENP:	.word +
.0710					+
.0710	4c 06 02			jmp NEXT
>0713	07 28 55 4e		-	.ptext "(UNTIL)"
>0717	54 49 4c 29
>071b	13 07				.word -
>071d	03 07				.word PREVHEADER
=$0713						PREVHEADER ::= -
>071f	21 07			PUNTILP:	.word +
.0721					+
.0721	4c df 06			jmp QBRANCH+2
>0724	07 28 41 47		-	.ptext "(AGAIN)"
>0728	41 49 4e 29
>072c	24 07				.word -
>072e	13 07				.word PREVHEADER
=$0724						PREVHEADER ::= -
>0730	32 07			PAGAINP:	.word +
.0732					+
.0732	4c c3 06			jmp BRANCH+2
>0735	07 28 57 48		-	.ptext "(WHILE)"
>0739	49 4c 45 29
>073d	35 07				.word -
>073f	24 07				.word PREVHEADER
=$0735						PREVHEADER ::= -
>0741	43 07			PWHILEP:	.word +
.0743					+
.0743	4c df 06			jmp QBRANCH+2
>0746	08 28 52 45		-	.ptext "(REPEAT)"
>074a	50 45 41 54 29
>074f	46 07				.word -
>0751	35 07				.word PREVHEADER
=$0746						PREVHEADER ::= -
>0753	55 07			PREPEATP:	.word +
.0755					+
.0755	4c c3 06			jmp BRANCH+2
>0758	06 28 43 41		-	.ptext "(CASE)"
>075c	53 45 29
>075f	58 07				.word -
>0761	46 07				.word PREVHEADER
=$0758						PREVHEADER ::= -
>0763	65 07			PCASEP:	.word +
.0765					+
.0765	4c 06 02			jmp NEXT
>0768	04 28 4f 46		-	.ptext "(OF)"
>076c	29
>076d	68 07				.word -
>076f	58 07				.word PREVHEADER
=$0768						PREVHEADER ::= -
>0771	73 07			POFP:	.word +
.0773					+
.0773	20 4c 03			jsr dpopToGP0
.0776	20 41 03			jsr dpop
.0779	c5 0c				cpa GP0
.077b	d0 09				bne +
.077d	e4 0d				cpx GP0+1
.077f	d0 05				bne +
.0781	20 0c 04			jsr incIP
.0784	80 11				bra ++
.0786	20 37 03		+	jsr dpush
.0789	b2 04				lda (IP)
.078b	85 0c				sta GP0
.078d	a0 01				ldy #1
.078f	b1 04				lda (IP),y
.0791	85 05				sta IP+1
.0793	a5 0c				lda GP0
.0795	85 04				sta IP
.0797	4c 06 02		+	jmp NEXT
>079a	07 28 45 4e		-	.ptext "(ENDOF)"
>079e	44 4f 46 29
>07a2	9a 07				.word -
>07a4	68 07				.word PREVHEADER
=$079a						PREVHEADER ::= -
>07a6	a8 07			PENDOFP:	.word +
.07a8					+
.07a8	b2 04				lda (IP)
.07aa	85 0c				sta GP0
.07ac	a0 01				ldy #1
.07ae	b1 04				lda (IP),y
.07b0	85 05				sta IP+1
.07b2	a5 0c				lda GP0
.07b4	85 04				sta IP
.07b6	4c 06 02			jmp NEXT
>07b9	09 28 45 4e		-	.ptext "(ENDCASE)"
>07bd	44 43 41 53 45 29
>07c3	b9 07				.word -
>07c5	9a 07				.word PREVHEADER
=$07b9						PREVHEADER ::= -
>07c7	c9 07			PENDCASEP:	.word +
.07c9					+
.07c9	20 1f 03			jsr incSP
.07cc	4c 06 02			jmp NEXT
>07cf	06 28 4c 4f		-	.ptext "(LOOP)"
>07d3	4f 50 29
>07d6	cf 07				.word -
>07d8	b9 07				.word PREVHEADER
=$07cf						PREVHEADER ::= -
>07da	dc 07			PLOOPP:	.word +
.07dc					+
.07dc	a0 02				ldy #2
.07de	18					clc
.07df	b1 02				lda (RP),y
.07e1	69 01				adc #1
.07e3	91 02				sta (RP),y
.07e5	c8					iny
.07e6	b1 02				lda (RP),y
.07e8	69 00				adc #0
.07ea	91 02				sta (RP),y
.07ec	b1 02				lda (RP),y
.07ee	30 11				bmi +
.07f0	b2 04				lda (IP)
.07f2	85 0c				sta GP0
.07f4	a0 01				ldy #1
.07f6	b1 04				lda (IP),y
.07f8	85 05				sta IP+1
.07fa	a5 0c				lda GP0
.07fc	85 04				sta IP
.07fe	4c 06 02			jmp NEXT
.0801	20 0c 04		+	jsr incIP
.0804	18					clc
.0805	a5 02				lda RP
.0807	69 06				adc #6
.0809	85 02				sta RP
.080b	90 02				bcc +
.080d	e6 03				inc RP+1
.080f	4c 06 02		+	jmp NEXT
>0812	07 28 2b 4c		-	.ptext "(+LOOP)"
>0816	4f 4f 50 29
>081a	12 08				.word -
>081c	cf 07				.word PREVHEADER
=$0812						PREVHEADER ::= -
>081e	20 08			PPLUSLOOPP:	.word +
.0820					+
.0820	20 4c 03			jsr dpopToGP0
.0823	a0 02				ldy #2
.0825	18					clc
.0826	b1 02				lda (RP),y
.0828	65 0c				adc GP0
.082a	91 02				sta (RP),y
.082c	c8					iny
.082d	b1 02				lda (RP),y
.082f	65 0d				adc GP0+1
.0831	91 02				sta (RP),y
.0833	b1 02				lda (RP),y
.0835	30 10				bmi +
.0837	b2 04				lda (IP)
.0839	85 0c				sta GP0
.083b	a0 01				ldy #1
.083d	b1 04				lda (IP),y
.083f	85 05				sta IP+1
.0841	a5 0c				lda GP0
.0843	85 04				sta IP
.0845	80 0e				bra ++
.0847	20 0c 04		+	jsr incIP
.084a	18					clc
.084b	a5 02				lda RP
.084d	69 06				adc #6
.084f	85 02				sta RP
.0851	90 02				bcc +
.0853	e6 03				inc RP+1
.0855	4c 06 02		+	jmp NEXT
>0858	04 28 44 4f		-	.ptext "(DO)"
>085c	29
>085d	58 08				.word -
>085f	12 08				.word PREVHEADER
=$0858						PREVHEADER ::= -
>0861	63 08			PDOP:	.word +
.0863					+
.0863					PDOPx
.0863	20 4c 03			jsr dpopToGP0
.0866	20 5a 03			jsr dpopToGP1
.0869	a0 01			-	ldy #1
.086b	b1 04				lda (IP),y
.086d	aa					tax
.086e	b2 04				lda (IP)
.0870	20 c3 03			jsr rpush
.0873	20 0c 04			jsr incIP
.0876	18					clc
.0877	a9 80				lda #$80
.0879	65 0f				adc GP1+1
.087b	85 0f				sta GP1+1
.087d	a5 0e				lda GP1
.087f	a6 0f				ldx GP1+1
.0881	20 c3 03			jsr rpush
.0884	38					sec
.0885	a5 0c				lda GP0
.0887	e5 0e				sbc GP1
.0889	a8					tay
.088a	a5 0d				lda GP0+1
.088c	e5 0f				sbc GP1+1
.088e	aa					tax
.088f	98					tya
.0890	20 c3 03			jsr rpush
.0893	4c 06 02			jmp NEXT
>0896	05 28 3f 44		-	.ptext "(?DO)"
>089a	4f 29
>089c	96 08				.word -
>089e	58 08				.word PREVHEADER
=$0896						PREVHEADER ::= -
>08a0	a2 08			PQDOP:	.word +
.08a2					+
.08a2	20 4c 03			jsr dpopToGP0
.08a5	20 5a 03			jsr dpopToGP1
.08a8	a5 0c				lda GP0
.08aa	c5 0e				cpa GP1
.08ac	d0 06				bne +
.08ae	a5 0d				lda GP0+1
.08b0	c5 0f				cpa GP1+1
.08b2	f0 03				beq ++
.08b4	4c 69 08		+	jmp -
.08b7	b2 04			+	lda (IP)
.08b9	85 0c				sta GP0
.08bb	a0 01				ldy #1
.08bd	b1 04				lda (IP),y
.08bf	85 05				sta IP+1
.08c1	a5 0c				lda GP0
.08c3	85 04				sta IP
.08c5	4c 06 02			jmp NEXT
>08c8	0e 28 28 4c		-	.ptext "((LOCALALLOC))"
>08cc	4f 43 41 4c 41 4c 4c 4f 43 29 29
>08d7	c8 08				.word -
>08d9	96 08				.word PREVHEADER
=$08c8						PREVHEADER ::= -
>08db	dd 08			PPLOCALALLOCPP:	.word +
.08dd					+
.08dd	20 41 03			jsr dpop
.08e0	85 0c				sta GP0
.08e2	86 0d				stx GP0+1
.08e4	ad 2a 20			lda LP+2
.08e7	ae 2b 20			ldx LP+3
.08ea	20 c3 03			jsr rpush
.08ed	a5 02				lda RP
.08ef	8d 2a 20			sta LP+2
.08f2	a5 03				lda RP+1
.08f4	8d 2b 20			sta LP+3
.08f7	38					sec
.08f8	a5 02				lda RP
.08fa	e5 0c				sbc GP0
.08fc	85 02				sta RP
.08fe	a5 03				lda RP+1
.0900	e5 0d				sbc GP0+1
.0902	85 03				sta RP+1
.0904	a5 02				lda RP
.0906	a6 03				ldx RP+1
.0908	20 37 03			jsr dpush
.090b	20 ac 03			jsr decRP
.090e	4c 06 02			jmp NEXT
>0911	0c 28 4c 4f		-	.ptext "(LOCALALLOC)"
>0915	43 41 4c 41 4c 4c 4f 43 29
>091e	11 09				.word -
>0920	c8 08				.word PREVHEADER
=$0911						PREVHEADER ::= -
>0922	7f 02			PLOCALALLOCP:	.word DODEFER
>0924	db 08				.word PPLOCALALLOCPP
>0926	00 00			-	.word PREVDEFER
>0928	db 08				.word PPLOCALALLOCPP
=$0926						PREVDEFER ::= -
>092a	0d 28 28 4c		-	.ptext "((LOCALFREE))"
>092e	4f 43 41 4c 46 52 45 45 29 29
>0938	2a 09				.word -
>093a	11 09				.word PREVHEADER
=$092a						PREVHEADER ::= -
>093c	3e 09			PPLOCALFREEPP:	.word +
.093e					+
.093e	ad 2a 20			lda LP+2
.0941	85 02				sta RP
.0943	ad 2b 20			lda LP+3
.0946	85 03				sta RP+1
.0948	20 b8 03			jsr rpop
.094b	8d 2a 20			sta LP+2
.094e	8e 2b 20			stx LP+3
.0951	4c 06 02			jmp NEXT
>0954	0b 28 4c 4f		-	.ptext "(LOCALFREE)"
>0958	43 41 4c 46 52 45 45 29
>0960	54 09				.word -
>0962	2a 09				.word PREVHEADER
=$0954						PREVHEADER ::= -
>0964	7f 02			PLOCALFREEP:	.word DODEFER
>0966	3c 09				.word PPLOCALFREEPP
>0968	26 09			-	.word PREVDEFER
>096a	3c 09				.word PPLOCALFREEPP
=$0968						PREVDEFER ::= -
>096c	03 4c 49 54		-	.ptext "LIT"
>0970	6c 09				.word -
>0972	54 09				.word PREVHEADER
=$096c						PREVHEADER ::= -
>0974	76 09			LIT:	.word +
.0976					+
.0976	a0 01				ldy #1
.0978	b1 04				lda (IP),y
.097a	aa					tax
.097b	b2 04				lda (IP)
.097d	20 37 03			jsr dpush
.0980	20 0c 04			jsr incIP
.0983	4c 06 02			jmp NEXT
>0986	07 50 45 52		-	.ptext "PERFORM"
>098a	46 4f 52 4d
>098e	86 09				.word -
>0990	6c 09				.word PREVHEADER
=$0986						PREVHEADER ::= -
>0992	94 09			PERFORM:	.word +
.0994					+
.0994	20 4c 03			jsr dpopToGP0
.0997	b2 0c				lda (GP0)
.0999	85 06				sta CFA
.099b	a0 01				ldy #1
.099d	b1 0c				lda (GP0),y
.099f	85 07				sta CFA+1
.09a1	4c 15 02			jmp EXEC
>09a4	07 45 58 45		-	.ptext "EXECUTE"
>09a8	43 55 54 45
>09ac	a4 09				.word -
>09ae	86 09				.word PREVHEADER
=$09a4						PREVHEADER ::= -
>09b0	b2 09			EXECUTE:	.word +
.09b2					+
.09b2	20 92 03			jsr dpopToCFA
.09b5	4c 15 02			jmp EXEC
>09b8	05 4c 45 41		-	.ptext "LEAVE"
>09bc	56 45
>09be	b8 09				.word -
>09c0	a4 09				.word PREVHEADER
=$09b8						PREVHEADER ::= -
>09c2	c4 09			LEAVE:	.word +
.09c4					+
.09c4	18					clc
.09c5	a5 02				lda RP
.09c7	69 06				adc #6
.09c9	85 02				sta RP
.09cb	90 02				bcc +
.09cd	e6 03				inc RP+1
.09cf	b2 02			+	lda (RP)
.09d1	85 04				sta IP
.09d3	a0 01				ldy #1
.09d5	b1 02				lda (RP),y
.09d7	85 05				sta IP+1
.09d9	4c 06 02			jmp NEXT
>09dc	06 3f 4c 45		-	.ptext "?LEAVE"
>09e0	41 56 45
>09e3	dc 09				.word -
>09e5	b8 09				.word PREVHEADER
=$09dc						PREVHEADER ::= -
>09e7	e9 09			QLEAVE:	.word +
.09e9					+
.09e9	20 41 03			jsr dpop
.09ec	c9 00				cpa #0
.09ee	f0 07				beq +
.09f0	e0 00				cpx #0
.09f2	f0 03				beq +
.09f4	4c c4 09			jmp LEAVE+2
.09f7	4c 06 02		+	jmp NEXT
>09fa	01 49			-	.ptext "I"
>09fc	fa 09				.word -
>09fe	dc 09				.word PREVHEADER
=$09fa						PREVHEADER ::= -
>0a00	02 0a			I:	.word +
.0a02					+
.0a02	a0 02				ldy #2
.0a04	b1 02				lda (RP),y
.0a06	85 0c				sta GP0
.0a08	c8					iny
.0a09	b1 02				lda (RP),y
.0a0b	85 0d				sta GP0+1
.0a0d	c8					iny
.0a0e	b1 02				lda (RP),y
.0a10	85 0e				sta GP1
.0a12	c8					iny
.0a13	b1 02				lda (RP),y
.0a15	85 0f				sta GP1+1
.0a17	18					clc
.0a18	a5 0c				lda GP0
.0a1a	65 0e				adc GP1
.0a1c	85 0c				sta GP0
.0a1e	a5 0d				lda GP0+1
.0a20	65 0f				adc GP1+1
.0a22	85 0d				sta GP0+1
.0a24	a5 0c				lda GP0
.0a26	a6 0d				ldx GP0+1
.0a28	4c 03 02			jmp PUSHNEXT
>0a2b	01 4a			-	.ptext "J"
>0a2d	2b 0a				.word -
>0a2f	fa 09				.word PREVHEADER
=$0a2b						PREVHEADER ::= -
>0a31	33 0a			J:	.word +
.0a33					+
.0a33	a0 08				ldy #8
.0a35	b1 02				lda (RP),y
.0a37	85 0c				sta GP0
.0a39	c8					iny
.0a3a	b1 02				lda (RP),y
.0a3c	85 0d				sta GP0+1
.0a3e	c8					iny
.0a3f	b1 02				lda (RP),y
.0a41	85 0e				sta GP1
.0a43	c8					iny
.0a44	b1 02				lda (RP),y
.0a46	85 0f				sta GP1+1
.0a48	18					clc
.0a49	a5 0c				lda GP0
.0a4b	65 0e				adc GP1
.0a4d	85 0c				sta GP0
.0a4f	a5 0d				lda GP0+1
.0a51	65 0f				adc GP1+1
.0a53	85 0d				sta GP0+1
.0a55	a5 0c				lda GP0
.0a57	a6 0d				ldx GP0+1
.0a59	4c 03 02			jmp PUSHNEXT
>0a5c	06 55 4e 4c		-	.ptext "UNLOOP"
>0a60	4f 4f 50
>0a63	5c 0a				.word -
>0a65	2b 0a				.word PREVHEADER
=$0a5c						PREVHEADER ::= -
>0a67	69 0a			UNLOOP:	.word +
.0a69					+
.0a69	18					clc
.0a6a	a5 02				lda RP
.0a6c	69 06				adc #6
.0a6e	85 02				sta RP
.0a70	90 06				bcc +
.0a72	a5 03				lda RP+1
.0a74	69 00				adc #0
.0a76	85 03				sta RP+1
.0a78	4c 06 02		+	jmp NEXT
>0a7b	04 4e 4f 4f		-	.ptext "NOOP"
>0a7f	50
>0a80	7b 0a				.word -
>0a82	5c 0a				.word PREVHEADER
=$0a7b						PREVHEADER ::= -
>0a84	86 0a			NOOP:	.word +
.0a86					+
.0a86	4c 06 02			jmp NEXT
>0a89	03 42 59 45		-	.ptext "BYE"
>0a8d	89 0a				.word -
>0a8f	7b 0a				.word PREVHEADER
=$0a89						PREVHEADER ::= -
>0a91	93 0a			BYE:	.word +
.0a93					+
.0a93	00 00				brk #0
.0a95	4c 06 02			jmp NEXT
>0a98	04 48 41 4c		-	.ptext "HALT"
>0a9c	54
>0a9d	98 0a				.word -
>0a9f	89 0a				.word PREVHEADER
=$0a98						PREVHEADER ::= -
>0aa1	a3 0a			HALT:	.word +
.0aa3					+
.0aa3	db					stp
>0aa4	05 28 28 22		-	.ptext '(("))'
>0aa8	29 29
>0aaa	a4 0a				.word -
>0aac	98 0a				.word PREVHEADER
=$0aa4						PREVHEADER ::= -
>0aae	b0 0a			PPQUOTEPP:	.word +
.0ab0					+
.0ab0	20 b8 03			jsr rpop
.0ab3	85 0c				sta GP0
.0ab5	86 0d				stx GP0+1
.0ab7	20 37 03			jsr dpush
.0aba	b2 0c				lda (GP0)			; get string length
.0abc	18					clc
.0abd	65 0c				adc GP0				; add it to return address
.0abf	85 0c				sta GP0
.0ac1	90 02				bcc +
.0ac3	e6 0d				inc GP0+1
.0ac5	e6 0c			+	inc GP0				; add 1 for count
.0ac7	d0 02				bne +
.0ac9	e6 0d				inc GP0+1
.0acb	a5 0c			+	lda GP0
.0acd	a6 0d				ldx GP0+1
.0acf	20 c3 03			jsr rpush
.0ad2	4c 06 02			jmp NEXT
>0ad5	04 28 2e 22		-	.ptext '(.")'
>0ad9	29
>0ada	d5 0a				.word -
>0adc	a4 0a				.word PREVHEADER
=$0ad5						PREVHEADER ::= -
>0ade	22 02			PDOTQUOTEP:	.word DOCOLON
>0ae0	ae 0a 4d 13			.word PPQUOTEPP,COUNT,DOTYPE
>0ae4	37 1d
>0ae6	9b 06				.word UNNEST
>0ae8	04 28 53 22		-	.ptext '(S")'
>0aec	29
>0aed	e8 0a				.word -
>0aef	d5 0a				.word PREVHEADER
=$0ae8						PREVHEADER ::= -
>0af1	22 02			PSQUOTEP:	.word DOCOLON
>0af3	ae 0a 4d 13			.word PPQUOTEPP,COUNT
>0af7	9b 06				.word UNNEST
>0af9	02 5f 28		-	.ptext "_("
>0afc	f9 0a				.word -
>0afe	e8 0a				.word PREVHEADER
=$0af9						PREVHEADER ::= -
>0b00	22 02			UNDERPAREN:	.word DOCOLON
>0b02	74 09 29 00			.word LIT,')',PARSE,TWODROP
>0b06	ea 27 3f 0f
>0b0a	9b 06				.word UNNEST
>0b0c	82				-	.byte len(".(") | $80
>0b0d	2e 28				.text ".("
>0b0f	0c 0b				.word -
>0b11	f9 0a				.word PREVHEADER
=$0b0c						PREVHEADER ::= -
>0b13	22 02			DOTPAREN:	.word DOCOLON
>0b15	74 09 29 00			.word LIT,')',PARSE,DOTYPE
>0b19	ea 27 37 1d
>0b1d	9b 06				.word UNNEST
>0b1f	03 48 4c 44		-	.ptext "HLD"
>0b23	1f 0b				.word -
>0b25	0c 0b				.word PREVHEADER
=$0b1f						PREVHEADER ::= -
>0b27	39 02			HLD:	.word DOVAR
>0b29	00 00 00 00			.fill 82,0
>0b2d	00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
;		...repeated 3 times (48 bytes)...
>0b6d	00 00 00 00 00 00 00 00 00 00 00 00 00 00
>0b7b	03 50 41 44		-	.ptext "PAD"
>0b7f	7b 0b				.word -
>0b81	1f 0b				.word PREVHEADER
=$0b7b						PREVHEADER ::= -
>0b83	95 02			PAD: .word DOVALUE
>0b85	79 0b				.word HLD+80+2
>0b87	a0 02				.word DOVALUESTORE
>0b89	c0 02				.word DOVALUEPSTORE
>0b8b	03 42 3e 43		-	.ptext "B>C"
>0b8f	8b 0b				.word -
>0b91	7b 0b				.word PREVHEADER
=$0b8b						PREVHEADER ::= -
>0b93	95 0b			BTOC:	.word +
.0b95					+
.0b95	a0 02				ldy #2
.0b97	b1 00				lda (SP),y
.0b99	c9 0a				cpa #10
.0b9b	90 03				blt +
.0b9d	18					clc
.0b9e	69 07				adc #7
.0ba0	18				+	clc
.0ba1	69 30				adc #'0'
.0ba3	91 00				sta (SP),y
.0ba5	a9 00				lda #0
.0ba7	c8					iny
.0ba8	91 00				sta (SP),y
.0baa	4c 06 02			jmp NEXT
>0bad	04 48 4f 4c		-	.ptext "HOLD"
>0bb1	44
>0bb2	ad 0b				.word -
>0bb4	8b 0b				.word PREVHEADER
=$0bad						PREVHEADER ::= -
>0bb6	22 02			HOLD:	.word DOCOLON
>0bb8	27 0b 23 11			.word HLD,FETCH,ONEMINUS,DUP,HLD,STORE,CSTORE
>0bbc	b0 16 bf 0d 27 0b bc 10 f6 10
>0bc6	9b 06				.word UNNEST
>0bc8	04 53 49 47		-	.ptext "SIGN"
>0bcc	4e
>0bcd	c8 0b				.word -
>0bcf	ad 0b				.word PREVHEADER
=$0bc8						PREVHEADER ::= -
>0bd1	22 02			DOSIGN:	.word DOCOLON
>0bd3	d3 17 dd 06			.word ZLESS,QBRANCH,+
>0bd7	e1 0b
>0bd9	74 09 2d 00				.word LIT,'-',HOLD
>0bdd	b6 0b
>0bdf	0e 07				.word PTHENP
>0be1	9b 06			+	.word UNNEST
>0be3	02 3c 23		-	.ptext "<#"
>0be6	e3 0b				.word -
>0be8	c8 0b				.word PREVHEADER
=$0be3						PREVHEADER ::= -
>0bea	22 02			BEGNUMBER:	.word DOCOLON
>0bec	83 0b 27 0b			.word PAD,HLD,STORE
>0bf0	bc 10
>0bf2	9b 06				.word UNNEST
>0bf4	01 23			-	.ptext "#"
>0bf6	f4 0b				.word -
>0bf8	e3 0b				.word PREVHEADER
=$0bf4						PREVHEADER ::= -
>0bfa	22 02			NUMBERSIGN:	.word DOCOLON
>0bfc	13 28 23 11			.word BASE,FETCH,ZERO,UDSLASHMOD,TWOSWAP,DROP,BTOC,HOLD
>0c00	d2 04 f4 19 e2 0f ea 0d 93 0b b6 0b
>0c0c	9b 06				.word UNNEST
>0c0e	02 23 53		-	.ptext "#S"
>0c11	0e 0c				.word -
>0c13	f4 0b				.word PREVHEADER
=$0c0e						PREVHEADER ::= -
>0c15	22 02			NUMBERSIGNS:	.word DOCOLON
.0c17					NUMBERSIGNSx
>0c17	fe 06				.word PBEGINP
>0c19	fa 0b 84 0f		_L1:	.word NUMBERSIGN,TWODUP,DOOR,ZEQUAL
>0c1d	fa 18 f0 17
>0c21	dd 06 19 0c			.word QBRANCH,_L1
>0c25	9b 06				.word UNNEST
>0c27	02 23 3e		-	.ptext "#>"
>0c2a	27 0c				.word -
>0c2c	0e 0c				.word PREVHEADER
=$0c27						PREVHEADER ::= -
>0c2e	22 02			NUMBEREND:	.word DOCOLON
>0c30	3f 0f 27 0b			.word TWODROP,HLD,FETCH,PAD,OVER,MINUS
>0c34	23 11 83 0b 33 0e 10 16
>0c3c	9b 06				.word UNNEST
>0c3e	04 28 44 2e		-	.ptext "(D.)"
>0c42	29
>0c43	3e 0c				.word -
>0c45	27 0c				.word PREVHEADER
=$0c3e						PREVHEADER ::= -
>0c47	22 02			PDDOTP:	.word DOCOLON
>0c49	01 0f 80 19			.word TUCK,DODABS,BEGNUMBER,NUMBERSIGNS,ROT,DOSIGN,NUMBEREND
>0c4d	ea 0b 15 0c 48 0e d1 0b 2e 0c
>0c57	9b 06				.word UNNEST
>0c59	01 2e			-	.ptext "."
>0c5b	59 0c				.word -
>0c5d	3e 0c				.word PREVHEADER
=$0c59						PREVHEADER ::= -
>0c5f	22 02			DOT:	.word DOCOLON
>0c61	55 1b 6e 0c			.word STOD,DDOT
>0c65	9b 06				.word UNNEST
>0c67	02 44 2e		-	.ptext "D."
>0c6a	67 0c				.word -
>0c6c	59 0c				.word PREVHEADER
=$0c67						PREVHEADER ::= -
>0c6e	22 02			DDOT:	.word DOCOLON
>0c70	47 0c 37 1d			.word PDDOTP,DOTYPE,SPACE
>0c74	f2 1e
>0c76	9b 06				.word UNNEST
>0c78	02 55 2e		-	.ptext "U."
>0c7b	78 0c				.word -
>0c7d	67 0c				.word PREVHEADER
=$0c78						PREVHEADER ::= -
>0c7f	22 02			UDOT:	.word DOCOLON
>0c81	d2 04 6e 0c			.word ZERO,DDOT
>0c85	9b 06				.word UNNEST
>0c87	03 53 50 30		-	.ptext "SP0"
>0c8b	87 0c				.word -
>0c8d	78 0c				.word PREVHEADER
=$0c87						PREVHEADER ::= -
>0c8f	39 02			SP0:	.word DOVAR
>0c91	00 00				.word 0
>0c93	03 52 50 30		-	.ptext "RP0"
>0c97	93 0c				.word -
>0c99	87 0c				.word PREVHEADER
=$0c93						PREVHEADER ::= -
>0c9b	39 02			RP0:	.word DOVAR
>0c9d	00 00				.word 0
>0c9f	03 53 50 40		-	.ptext "SP@"
>0ca3	9f 0c				.word -
>0ca5	93 0c				.word PREVHEADER
=$0c9f						PREVHEADER ::= -
>0ca7	a9 0c			SPFETCH:	.word +
.0ca9					+
.0ca9	a5 00				lda SP
.0cab	a6 01				ldx SP+1
.0cad	4c 03 02			jmp PUSHNEXT
>0cb0	03 53 50 21		-	.ptext "SP!"
>0cb4	b0 0c				.word -
>0cb6	9f 0c				.word PREVHEADER
=$0cb0						PREVHEADER ::= -
>0cb8	ba 0c			SPSTORE:	.word +
.0cba					+
.0cba	20 41 03			jsr dpop
.0cbd	85 00				sta SP
.0cbf	86 01				stx SP+1
.0cc1	4c 06 02			jmp NEXT
>0cc4	03 52 50 40		-	.ptext "RP@"
>0cc8	c4 0c				.word -
>0cca	b0 0c				.word PREVHEADER
=$0cc4						PREVHEADER ::= -
>0ccc	ce 0c			RPFETCH:	.word +
.0cce					+
.0cce	a5 02				lda RP
.0cd0	a6 03				ldx RP+1
.0cd2	4c 03 02			jmp PUSHNEXT
>0cd5	03 52 50 21		-	.ptext "RP!"
>0cd9	d5 0c				.word -
>0cdb	c4 0c				.word PREVHEADER
=$0cd5						PREVHEADER ::= -
>0cdd	df 0c			RPSTORE:	.word +
.0cdf					+
.0cdf	20 41 03			jsr dpop
.0ce2	85 02				sta RP
.0ce4	86 03				stx RP+1
.0ce6	4c 06 02			jmp NEXT
>0ce9	02 3e 52		-	.ptext ">R"
>0cec	e9 0c				.word -
>0cee	d5 0c				.word PREVHEADER
=$0ce9						PREVHEADER ::= -
>0cf0	f2 0c			TOR:	.word +
.0cf2					+
.0cf2	20 41 03			jsr dpop
.0cf5	20 c3 03			jsr rpush
.0cf8	4c 06 02			jmp NEXT
>0cfb	05 44 55 50		-	.ptext "DUP>R"
>0cff	3e 52
>0d01	fb 0c				.word -
>0d03	e9 0c				.word PREVHEADER
=$0cfb						PREVHEADER ::= -
>0d05	07 0d			DUPTOR:	.word +
.0d07					+
.0d07	a0 03				ldy #3
.0d09	b1 00				lda (SP),y
.0d0b	aa					tax
.0d0c	88					dey
.0d0d	b1 00				lda (SP),y
.0d0f	20 c3 03			jsr rpush
.0d12	4c 06 02			jmp NEXT
>0d15	02 52 40		-	.ptext "R@"
>0d18	15 0d				.word -
>0d1a	fb 0c				.word PREVHEADER
=$0d15						PREVHEADER ::= -
>0d1c	1e 0d			RFETCH:	.word +
.0d1e					+
.0d1e	a0 03				ldy #3
.0d20	b1 02				lda (RP),y
.0d22	aa					tax
.0d23	88					dey
.0d24	b1 02				lda (RP),y
.0d26	4c 03 02			jmp PUSHNEXT
>0d29	02 52 3e		-	.ptext "R>"
>0d2c	29 0d				.word -
>0d2e	15 0d				.word PREVHEADER
=$0d29						PREVHEADER ::= -
>0d30	32 0d			RFROM:	.word +
.0d32					+
.0d32	20 b8 03			jsr rpop
.0d35	4c 03 02			jmp PUSHNEXT
>0d38	06 52 3e 44		-	.ptext "R>DROP"
>0d3c	52 4f 50
>0d3f	38 0d				.word -
>0d41	29 0d				.word PREVHEADER
=$0d38						PREVHEADER ::= -
>0d43	45 0d			RFROMDROP:	.word +
.0d45					+
.0d45	20 a0 03			jsr incRP
.0d48	4c 06 02			jmp NEXT
>0d4b	03 32 3e 52		-	.ptext "2>R"
>0d4f	4b 0d				.word -
>0d51	38 0d				.word PREVHEADER
=$0d4b						PREVHEADER ::= -
>0d53	55 0d			TWOTOR:	.word +
.0d55					+
.0d55	20 4c 03			jsr dpopToGP0
.0d58	20 41 03			jsr dpop
.0d5b	20 c3 03			jsr rpush
.0d5e	a5 0c				lda GP0
.0d60	a6 0d				ldx GP0+1
.0d62	20 c3 03			jsr rpush
.0d65	4c 06 02			jmp NEXT
>0d68	03 32 52 3e		-	.ptext "2R>"
>0d6c	68 0d				.word -
>0d6e	4b 0d				.word PREVHEADER
=$0d68						PREVHEADER ::= -
>0d70	72 0d			TWORFROM:	.word +
.0d72					+
.0d72	20 b8 03			jsr rpop
.0d75	85 0c				sta GP0
.0d77	86 0d				stx GP0+1
.0d79	20 b8 03			jsr rpop
.0d7c	20 37 03			jsr dpush
.0d7f	a5 0c				lda GP0
.0d81	a6 0d				ldx GP0+1
.0d83	4c 03 02			jmp PUSHNEXT
>0d86	03 32 52 40		-	.ptext "2R@"
>0d8a	86 0d				.word -
>0d8c	68 0d				.word PREVHEADER
=$0d86						PREVHEADER ::= -
>0d8e	90 0d			TWORFETCH:	.word +
.0d90					+
.0d90	a0 05				ldy #5
.0d92	b1 02				lda (RP),y
.0d94	aa					tax
.0d95	88					dey
.0d96	b1 02				lda (RP),y
.0d98	20 37 03			jsr dpush
.0d9b	a0 03				ldy #3
.0d9d	b1 02				lda (RP),y
.0d9f	aa					tax
.0da0	88					dey
.0da1	b1 02				lda (RP),y
.0da3	4c 03 02			jmp PUSHNEXT
.0da6					doDup
.0da6	a0 02				ldy #2
.0da8	b1 00				lda (SP),y
.0daa	92 00				sta (SP)
.0dac	c8					iny
.0dad	b1 00				lda (SP),y
.0daf	a0 01				ldy #1
.0db1	91 00				sta (SP),y
.0db3	20 2b 03			jsr decSP
.0db6	60					rts
>0db7	03 44 55 50		-	.ptext "DUP"
>0dbb	b7 0d				.word -
>0dbd	86 0d				.word PREVHEADER
=$0db7						PREVHEADER ::= -
>0dbf	c1 0d			DUP:	.word +
.0dc1					+
.0dc1	20 a6 0d			jsr doDup
.0dc4	4c 06 02			jmp NEXT
>0dc7	04 3f 44 55		-	.ptext "?DUP"
>0dcb	50
>0dcc	c7 0d				.word -
>0dce	b7 0d				.word PREVHEADER
=$0dc7						PREVHEADER ::= -
>0dd0	d2 0d			QDUP:	.word +
.0dd2					+
.0dd2	a0 02				ldy #2
.0dd4	b1 00				lda (SP),y
.0dd6	c8					iny
.0dd7	11 00				ora (SP),y
.0dd9	f0 03				beq +
.0ddb	20 a6 0d			jsr doDup
.0dde	4c 06 02		+	jmp NEXT
>0de1	04 44 52 4f		-	.ptext "DROP"
>0de5	50
>0de6	e1 0d				.word -
>0de8	c7 0d				.word PREVHEADER
=$0de1						PREVHEADER ::= -
>0dea	ec 0d			DROP:	.word +
.0dec					+
.0dec	20 1f 03			jsr incSP
.0def	4c 06 02			jmp NEXT
>0df2	04 53 57 41		-	.ptext "SWAP"
>0df6	50
>0df7	f2 0d				.word -
>0df9	e1 0d				.word PREVHEADER
=$0df2						PREVHEADER ::= -
>0dfb	fd 0d			SWAP:	.word +
.0dfd					+
.0dfd	a0 02				ldy #2
.0dff	b1 00				lda (SP),y
.0e01	85 0c				sta GP0
.0e03	c8					iny
.0e04	b1 00				lda (SP),y
.0e06	85 0d				sta GP0+1
.0e08	c8					iny
.0e09	b1 00				lda (SP),y
.0e0b	85 0e				sta GP1
.0e0d	c8					iny
.0e0e	b1 00				lda (SP),y
.0e10	85 0f				sta GP1+1
.0e12	a0 02				ldy #2
.0e14	a5 0e				lda GP1
.0e16	91 00				sta (SP),y
.0e18	c8					iny
.0e19	a5 0f				lda GP1+1
.0e1b	91 00				sta (SP),y
.0e1d	c8					iny
.0e1e	a5 0c				lda GP0
.0e20	91 00				sta (SP),y
.0e22	c8					iny
.0e23	a5 0d				lda GP0+1
.0e25	91 00				sta (SP),y
.0e27	4c 06 02			jmp NEXT
>0e2a	04 4f 56 45		-	.ptext "OVER"
>0e2e	52
>0e2f	2a 0e				.word -
>0e31	f2 0d				.word PREVHEADER
=$0e2a						PREVHEADER ::= -
>0e33	35 0e			OVER:	.word +
.0e35					+
.0e35	a0 05				ldy #5
.0e37	b1 00				lda (SP),y
.0e39	aa					tax
.0e3a	88					dey
.0e3b	b1 00				lda (SP),y
.0e3d	4c 03 02			jmp PUSHNEXT
>0e40	03 52 4f 54		-	.ptext "ROT"
>0e44	40 0e				.word -
>0e46	2a 0e				.word PREVHEADER
=$0e40						PREVHEADER ::= -
>0e48	4a 0e			ROT:	.word +
.0e4a					+
.0e4a	a0 02				ldy #2
.0e4c	b1 00				lda (SP),y
.0e4e	85 12				sta GP3
.0e50	c8					iny
.0e51	b1 00				lda (SP),y
.0e53	85 13				sta GP3+1
.0e55	c8					iny
.0e56	b1 00				lda (SP),y
.0e58	85 10				sta GP2
.0e5a	c8					iny
.0e5b	b1 00				lda (SP),y
.0e5d	85 11				sta GP2+1
.0e5f	c8					iny
.0e60	b1 00				lda (SP),y
.0e62	85 0e				sta GP1
.0e64	c8					iny
.0e65	b1 00				lda (SP),y
.0e67	85 0f				sta GP1+1
.0e69	a0 02				ldy #2
.0e6b	a5 0e				lda GP1
.0e6d	91 00				sta (SP),y
.0e6f	c8					iny
.0e70	a5 0f				lda GP1+1
.0e72	91 00				sta (SP),y
.0e74	c8					iny
.0e75	a5 12				lda GP3
.0e77	91 00				sta (SP),y
.0e79	c8					iny
.0e7a	a5 13				lda GP3+1
.0e7c	91 00				sta (SP),y
.0e7e	c8					iny
.0e7f	a5 10				lda GP2
.0e81	91 00				sta (SP),y
.0e83	c8					iny
.0e84	a5 11				lda GP2+1
.0e86	91 00				sta (SP),y
.0e88	4c 06 02			jmp NEXT
>0e8b	04 2d 52 4f		-	.ptext "-ROT"
>0e8f	54
>0e90	8b 0e				.word -
>0e92	40 0e				.word PREVHEADER
=$0e8b						PREVHEADER ::= -
>0e94	96 0e			NROT:	.word +
.0e96					+
.0e96	a0 02				ldy #2
.0e98	b1 00				lda (SP),y
.0e9a	85 12				sta GP3
.0e9c	c8					iny
.0e9d	b1 00				lda (SP),y
.0e9f	85 13				sta GP3+1
.0ea1	c8					iny
.0ea2	b1 00				lda (SP),y
.0ea4	85 10				sta GP2
.0ea6	c8					iny
.0ea7	b1 00				lda (SP),y
.0ea9	85 11				sta GP2+1
.0eab	c8					iny
.0eac	b1 00				lda (SP),y
.0eae	85 0e				sta GP1
.0eb0	c8					iny
.0eb1	b1 00				lda (SP),y
.0eb3	85 0f				sta GP1+1
.0eb5	a0 02				ldy #2
.0eb7	a5 10				lda GP2
.0eb9	91 00				sta (SP),y
.0ebb	c8					iny
.0ebc	a5 11				lda GP2+1
.0ebe	91 00				sta (SP),y
.0ec0	c8					iny
.0ec1	a5 0e				lda GP1
.0ec3	91 00				sta (SP),y
.0ec5	c8					iny
.0ec6	a5 0f				lda GP1+1
.0ec8	91 00				sta (SP),y
.0eca	c8					iny
.0ecb	a5 12				lda GP3
.0ecd	91 00				sta (SP),y
.0ecf	c8					iny
.0ed0	a5 13				lda GP3+1
.0ed2	91 00				sta (SP),y
.0ed4	4c 06 02			jmp NEXT
>0ed7	03 4e 49 50		-	.ptext "NIP"
>0edb	d7 0e				.word -
>0edd	8b 0e				.word PREVHEADER
=$0ed7						PREVHEADER ::= -
>0edf	e1 0e			NIP:	.word +
.0ee1					+
.0ee1	a0 02				ldy #2
.0ee3	b1 00				lda (SP),y
.0ee5	48					pha
.0ee6	c8					iny
.0ee7	b1 00				lda (SP),y
.0ee9	aa					tax
.0eea	c8					iny
.0eeb	68					pla
.0eec	91 00				sta (SP),y
.0eee	c8					iny
.0eef	8a					txa
.0ef0	91 00				sta (SP),y
.0ef2	20 1f 03			jsr incSP
.0ef5	4c 06 02			jmp NEXT
>0ef8	04 54 55 43		-	.ptext "TUCK"
>0efc	4b
>0efd	f8 0e				.word -
>0eff	d7 0e				.word PREVHEADER
=$0ef8						PREVHEADER ::= -
>0f01	22 02			TUCK:	.word DOCOLON
>0f03	fb 0d 33 0e			.word SWAP,OVER
>0f07	9b 06				.word UNNEST
>0f09	04 50 49 43		-	.ptext "PICK"
>0f0d	4b
>0f0e	09 0f				.word -
>0f10	f8 0e				.word PREVHEADER
=$0f09						PREVHEADER ::= -
>0f12	14 0f			PICK:	.word +
.0f14					+
.0f14	20 4c 03			jsr dpopToGP0
.0f17	20 18 04			jsr incGP0
.0f1a	06 0c				asl GP0
.0f1c	26 0d				rol GP0+1
.0f1e	18					clc
.0f1f	a5 00				lda SP
.0f21	65 0c				adc GP0
.0f23	85 0c				sta GP0
.0f25	a5 01				lda SP+1
.0f27	65 0d				adc GP0+1
.0f29	85 0d				sta GP0+1
.0f2b	a0 01				ldy #1
.0f2d	b1 0c				lda (GP0),y
.0f2f	aa					tax
.0f30	b2 0c				lda (GP0)
.0f32	4c 03 02			jmp PUSHNEXT
>0f35	05 32 44 52		-	.ptext "2DROP"
>0f39	4f 50
>0f3b	35 0f				.word -
>0f3d	09 0f				.word PREVHEADER
=$0f35						PREVHEADER ::= -
>0f3f	41 0f			TWODROP:	.word +
.0f41					+
.0f41	18					clc
.0f42	a5 00				lda SP
.0f44	69 04				adc #4
.0f46	85 00				sta SP
.0f48	b0 03				bcs +
.0f4a	4c 06 02			jmp NEXT
.0f4d	e6 01			+	inc SP+1
.0f4f	4c 06 02			jmp NEXT
>0f52	04 52 4f 4c		-	.ptext "ROLL"
>0f56	4c
>0f57	52 0f				.word -
>0f59	35 0f				.word PREVHEADER
=$0f52						PREVHEADER ::= -
>0f5b	22 02			ROLL:	.word DOCOLON
>0f5d	f0 0c 1c 0d			.word TOR,RFETCH,PICK,SPFETCH,CELL,PLUS,DUP,CELL
>0f61	12 0f a7 0c 0e 05 b1 15 bf 0d 0e 05
>0f6d	b1 15 30 0d			.word PLUS,RFROM,CELL,STAR,MOVE,DROP,UNNEST
>0f71	0e 05 27 1a f0 11 ea 0d 9b 06
>0f7b	04 32 44 55		-	.ptext "2DUP"
>0f7f	50
>0f80	7b 0f				.word -
>0f82	52 0f				.word PREVHEADER
=$0f7b						PREVHEADER ::= -
>0f84	86 0f			TWODUP:	.word +
.0f86					+
.0f86	a0 05				ldy #5
.0f88	b1 00				lda (SP),y
.0f8a	85 0f				sta GP1+1
.0f8c	88					dey
.0f8d	b1 00				lda (SP),y
.0f8f	85 0e				sta GP1
.0f91	88					dey
.0f92	b1 00				lda (SP),y
.0f94	85 11				sta GP2+1
.0f96	88					dey
.0f97	b1 00				lda (SP),y
.0f99	85 10				sta GP2
.0f9b	38					sec
.0f9c	a5 00				lda SP
.0f9e	e9 04				sbc #4
.0fa0	85 00				sta SP
.0fa2	b0 02				bcs +
.0fa4	c6 01				dec SP+1
.0fa6	a0 05			+	ldy #5
.0fa8	a5 0f				lda GP1+1
.0faa	91 00				sta (SP),y
.0fac	88					dey
.0fad	a5 0e				lda GP1
.0faf	91 00				sta (SP),y
.0fb1	88					dey
.0fb2	a5 11				lda GP2+1
.0fb4	91 00				sta (SP),y
.0fb6	88					dey
.0fb7	a5 10				lda GP2
.0fb9	91 00				sta (SP),y
.0fbb	4c 06 02			jmp NEXT
>0fbe	05 32 4f 56		-	.ptext "2OVER"
>0fc2	45 52
>0fc4	be 0f				.word -
>0fc6	7b 0f				.word PREVHEADER
=$0fbe						PREVHEADER ::= -
>0fc8	22 02			TWOOVER:	.word DOCOLON
>0fca	74 09 03 00			.word LIT,3,PICK,LIT,3,PICK,UNNEST
>0fce	12 0f 74 09 03 00 12 0f 9b 06
>0fd8	05 32 53 57		-	.ptext "2SWAP"
>0fdc	41 50
>0fde	d8 0f				.word -
>0fe0	be 0f				.word PREVHEADER
=$0fd8						PREVHEADER ::= -
>0fe2	e4 0f			TWOSWAP:	.word +
.0fe4					+
.0fe4	a0 02				ldy #2
.0fe6	b1 00				lda (SP),y
.0fe8	85 14				sta GP4
.0fea	c8					iny
.0feb	b1 00				lda (SP),y
.0fed	85 15				sta GP4+1
.0fef	c8					iny
.0ff0	b1 00				lda (SP),y
.0ff2	85 12				sta GP3
.0ff4	c8					iny
.0ff5	b1 00				lda (SP),y
.0ff7	85 13				sta GP3+1
.0ff9	c8					iny
.0ffa	b1 00				lda (SP),y
.0ffc	85 10				sta GP2
.0ffe	c8					iny
.0fff	b1 00				lda (SP),y
.1001	85 11				sta GP2+1
.1003	c8					iny
.1004	b1 00				lda (SP),y
.1006	85 0e				sta GP1
.1008	c8					iny
.1009	b1 00				lda (SP),y
.100b	85 0f				sta GP1+1
.100d	a0 02				ldy #2
.100f	a5 10				lda GP2
.1011	91 00				sta (SP),y
.1013	c8					iny
.1014	a5 11				lda GP2+1
.1016	91 00				sta (SP),y
.1018	c8					iny
.1019	a5 0e				lda GP1
.101b	91 00				sta (SP),y
.101d	c8					iny
.101e	a5 0f				lda GP1+1
.1020	91 00				sta (SP),y
.1022	c8					iny
.1023	a5 14				lda GP4
.1025	91 00				sta (SP),y
.1027	c8					iny
.1028	a5 15				lda GP4+1
.102a	91 00				sta (SP),y
.102c	c8					iny
.102d	a5 12				lda GP3
.102f	91 00				sta (SP),y
.1031	c8					iny
.1032	a5 13				lda GP3+1
.1034	91 00				sta (SP),y
.1036	c8					iny
.1037	4c 06 02			jmp NEXT
>103a	05 44 45 50		-	.ptext "DEPTH"
>103e	54 48
>1040	3a 10				.word -
>1042	d8 0f				.word PREVHEADER
=$103a						PREVHEADER ::= -
>1044	22 02			DEPTH:	.word DOCOLON
>1046	a7 0c 8f 0c			.word SPFETCH,SP0,FETCH,SWAP,MINUS,TWO,SLASH
>104a	23 11 fb 0d 10 16 e6 04 06 1b
>1054	9b 06				.word UNNEST
.1056					memMove
.1056	a5 0f				lda GP1+1
.1058	c5 0d				cpa GP0+1
.105a	f0 04				beq +
.105c	b0 2e				bge moveUp			; dst is higher than src
.105e	80 0b				bra moveDown		; dst is lower than src
.1060	a5 0e			+	lda GP1				; high bytes are equal, check low bytes
.1062	c5 0c				cpa GP0
.1064	f0 04				beq +
.1066	b0 24				bge moveUp			; dst is higher than src
.1068	80 01				bra moveDown		; dst is lower than src
.106a	60				+	rts
.106b					moveDown
.106b	a0 00				ldy #0
.106d	a6 11				ldx GP2+1			; high byte of length
.106f	f0 0e				beq +
.1071	b1 0c			-	lda (GP0),y
.1073	91 0e				sta (GP1),y
.1075	c8					iny
.1076	d0 f9				bne -
.1078	e6 0d				inc GP0+1
.107a	e6 0f				inc GP1+1
.107c	ca					dex
.107d	d0 f2				bne -
.107f	a6 10			+	ldx GP2
.1081	f0 08				beq +
.1083	b1 0c			-	lda (GP0),y
.1085	91 0e				sta (GP1),y
.1087	c8					iny
.1088	ca					dex
.1089	d0 f8				bne -
.108b	60				+	rts
.108c					moveUp
.108c	a6 11				ldx GP2+1
.108e	18					clc
.108f	8a					txa
.1090	65 0d				adc GP0+1
.1092	85 0d				sta GP0+1
.1094	18					clc
.1095	8a					txa
.1096	65 0f				adc GP1+1
.1098	85 0f				sta GP1+1
.109a	e8					inx
.109b	a4 10				ldy GP2
.109d	f0 0e				beq ++
.109f	88					dey
.10a0	f0 07				beq +
.10a2	b1 0c			-	lda (GP0),y
.10a4	91 0e				sta (GP1),y
.10a6	88					dey
.10a7	d0 f9				bne -
.10a9	b1 0c			+	lda (GP0),y
.10ab	91 0e				sta (GP1),y
.10ad	88				+	dey
.10ae	c6 0d				dec GP0+1
.10b0	c6 0f				dec GP1+1
.10b2	ca					dex
.10b3	d0 ed				bne -
.10b5	60					rts
>10b6	01 21			-	.ptext "!"
>10b8	b6 10				.word -
>10ba	3a 10				.word PREVHEADER
=$10b6						PREVHEADER ::= -
>10bc	be 10			STORE:	.word +
.10be					+
.10be	20 5a 03			jsr dpopToGP1
.10c1	20 1f 03			jsr incSP
.10c4	b2 00				lda (SP)
.10c6	92 0e				sta (GP1)
.10c8	a0 01				ldy #1
.10ca	b1 00				lda (SP),y
.10cc	91 0e				sta (GP1),y
.10ce	4c 06 02			jmp NEXT
>10d1	02 2b 21		-	.ptext "+!"
>10d4	d1 10				.word -
>10d6	b6 10				.word PREVHEADER
=$10d1						PREVHEADER ::= -
>10d8	da 10			PLUSSTORE:	.word +
.10da					+
.10da	20 4c 03			jsr dpopToGP0
.10dd	20 41 03			jsr dpop
.10e0	18					clc
.10e1	72 0c				adc (GP0)
.10e3	92 0c				sta (GP0)
.10e5	a0 01				ldy #1
.10e7	8a					txa
.10e8	71 0c				adc (GP0),y
.10ea	91 0c				sta (GP0),y
.10ec	4c 06 02			jmp NEXT
>10ef	02 43 21		-	.ptext "C!"
>10f2	ef 10				.word -
>10f4	d1 10				.word PREVHEADER
=$10ef						PREVHEADER ::= -
>10f6	f8 10			CSTORE:	.word +
.10f8					+
.10f8	20 5a 03			jsr dpopToGP1
.10fb	20 1f 03			jsr incSP
.10fe	b2 00				lda (SP)
.1100	92 0e				sta (GP1)
.1102	4c 06 02			jmp NEXT
>1105	03 43 2b 21		-	.ptext "C+!"
>1109	05 11				.word -
>110b	ef 10				.word PREVHEADER
=$1105						PREVHEADER ::= -
>110d	0f 11			CPLUSSTORE:	.word +
.110f					+
.110f	20 4c 03			jsr dpopToGP0
.1112	20 41 03			jsr dpop
.1115	18					clc
.1116	72 0c				adc (GP0)
.1118	92 0c				sta (GP0)
.111a	4c 06 02			jmp NEXT
>111d	01 40			-	.ptext "@"
>111f	1d 11				.word -
>1121	05 11				.word PREVHEADER
=$111d						PREVHEADER ::= -
>1123	25 11			FETCH:	.word +
.1125					+
.1125	a0 02				ldy #2
.1127	b1 00				lda (SP),y
.1129	85 0c				sta GP0
.112b	c8					iny
.112c	b1 00				lda (SP),y
.112e	85 0d				sta GP0+1
.1130	b2 0c				lda (GP0)
.1132	a0 02				ldy #2
.1134	91 00				sta (SP),y
.1136	88					dey
.1137	b1 0c				lda (GP0),y
.1139	a0 03				ldy #3
.113b	91 00				sta (SP),y
.113d	4c 06 02			jmp NEXT
>1140	02 43 40		-	.ptext "C@"
>1143	40 11				.word -
>1145	1d 11				.word PREVHEADER
=$1140						PREVHEADER ::= -
>1147	49 11			CFETCH:	.word +
.1149					+
.1149	20 5a 03			jsr dpopToGP1
.114c	b2 0e				lda (GP1)
.114e	a2 00				ldx #0
.1150	4c 03 02			jmp PUSHNEXT
>1153	02 32 21		-	.ptext "2!"
>1156	53 11				.word -
>1158	40 11				.word PREVHEADER
=$1153						PREVHEADER ::= -
>115a	5c 11			TWOSTORE:	.word +
.115c					+
.115c	20 4c 03			jsr dpopToGP0
.115f	20 1f 03			jsr incSP
.1162	b2 00				lda (SP)
.1164	92 0c				sta (GP0)
.1166	a0 01				ldy #1
.1168	b1 00				lda (SP),y
.116a	91 0c				sta (GP0),y
.116c	c8					iny
.116d	b1 00				lda (SP),y
.116f	91 0c				sta (GP0),y
.1171	c8					iny
.1172	b1 00				lda (SP),y
.1174	91 0c				sta (GP0),y
.1176	20 1f 03			jsr incSP
.1179	4c 06 02			jmp NEXT
>117c	02 32 40		-	.ptext "2@"
>117f	7c 11				.word -
>1181	53 11				.word PREVHEADER
=$117c						PREVHEADER ::= -
>1183	85 11			TWOFETCH:	.word +
.1185					+
.1185	20 4c 03			jsr dpopToGP0
.1188	a0 03				ldy #3
.118a	b1 0c				lda (GP0),y
.118c	aa					tax
.118d	88					dey
.118e	b1 0c				lda (GP0),y
.1190	20 37 03			jsr dpush
.1193	a0 01				ldy #1
.1195	b1 0c				lda (GP0),y
.1197	aa					tax
.1198	b2 0c				lda (GP0)
.119a	4c 03 02			jmp PUSHNEXT
>119d	02 4f 4e		-	.ptext "ON"
>11a0	9d 11				.word -
>11a2	7c 11				.word PREVHEADER
=$119d						PREVHEADER ::= -
>11a4	a6 11			ON:	.word +
.11a6					+
.11a6	20 5a 03			jsr dpopToGP1
.11a9	a9 ff				lda #$FF
.11ab	92 0e				sta (GP1)
.11ad	a0 01				ldy #1
.11af	91 0e				sta (GP1),y
.11b1	4c 06 02			jmp NEXT
>11b4	03 4f 46 46		-	.ptext "OFF"
>11b8	b4 11				.word -
>11ba	9d 11				.word PREVHEADER
=$11b4						PREVHEADER ::= -
>11bc	be 11			OFF:	.word +
.11be					+
.11be	20 5a 03			jsr dpopToGP1
.11c1	a9 00				lda #0
.11c3	92 0e				sta (GP1)
.11c5	a0 01				ldy #1
.11c7	91 0e				sta (GP1),y
.11c9	4c 06 02			jmp NEXT
>11cc	06 54 4f 47		-	.ptext "TOGGLE"
>11d0	47 4c 45
>11d3	cc 11				.word -
>11d5	b4 11				.word PREVHEADER
=$11cc						PREVHEADER ::= -
>11d7	22 02			TOGGLE:	.word DOCOLON
>11d9	bf 0d 47 11			.word DUP,CFETCH,ROT,DOXOR,SWAP,CSTORE
>11dd	48 0e 16 19 fb 0d f6 10
>11e5	9b 06				.word UNNEST
>11e7	04 4d 4f 56		-	.ptext "MOVE"
>11eb	45
>11ec	e7 11				.word -
>11ee	cc 11				.word PREVHEADER
=$11e7						PREVHEADER ::= -
>11f0	f2 11			MOVE:	.word +
.11f2					+
.11f2	20 68 03			jsr dpopToGP2
.11f5	20 5a 03			jsr dpopToGP1
.11f8	20 4c 03			jsr dpopToGP0
.11fb	20 56 10			jsr memMove
.11fe	4c 06 02			jmp NEXT
>1201	05 43 4d 4f		-	.ptext "CMOVE"
>1205	56 45
>1207	01 12				.word -
>1209	e7 11				.word PREVHEADER
=$1201						PREVHEADER ::= -
>120b	0d 12			CMOVE:	.word +
.120d					+
.120d	20 68 03			jsr dpopToGP2
.1210	20 5a 03			jsr dpopToGP1
.1213	20 4c 03			jsr dpopToGP0
.1216	20 56 10			jsr memMove
.1219	4c 06 02			jmp NEXT
>121c	06 43 4d 4f		-	.ptext "CMOVE>"
>1220	56 45 3e
>1223	1c 12				.word -
>1225	01 12				.word PREVHEADER
=$121c						PREVHEADER ::= -
>1227	29 12			CMOVER:	.word +
.1229					+
.1229	20 68 03			jsr dpopToGP2
.122c	20 5a 03			jsr dpopToGP1
.122f	20 4c 03			jsr dpopToGP0
.1232	20 56 10			jsr memMove
.1235	4c 06 02			jmp NEXT
>1238	04 49 4e 43		-	.ptext "INCR"
>123c	52
>123d	38 12				.word -
>123f	1c 12				.word PREVHEADER
=$1238						PREVHEADER ::= -
>1241	22 02			INCR:	.word DOCOLON
>1243	bf 0d 23 11			.word DUP,FETCH,ONEPLUS,SWAP,STORE
>1247	74 16 fb 0d bc 10
>124d	9b 06				.word UNNEST
>124f	04 44 45 43		-	.ptext "DECR"
>1253	52
>1254	4f 12				.word -
>1256	38 12				.word PREVHEADER
=$124f						PREVHEADER ::= -
>1258	22 02			DECR:	.word DOCOLON
>125a	bf 0d 23 11			.word DUP,FETCH,ONEMINUS,SWAP,STORE
>125e	b0 16 fb 0d bc 10
>1264	9b 06				.word UNNEST
>1266	05 43 49 4e		-	.ptext "CINCR"
>126a	43 52
>126c	66 12				.word -
>126e	4f 12				.word PREVHEADER
=$1266						PREVHEADER ::= -
>1270	22 02			CINCR:	.word DOCOLON
>1272	bf 0d 47 11			.word DUP,CFETCH,ONEPLUS,SWAP,CSTORE
>1276	74 16 fb 0d f6 10
>127c	9b 06				.word UNNEST
>127e	05 43 44 45		-	.ptext "CDECR"
>1282	43 52
>1284	7e 12				.word -
>1286	66 12				.word PREVHEADER
=$127e						PREVHEADER ::= -
>1288	22 02			CDECR:	.word DOCOLON
>128a	bf 0d 47 11			.word DUP,CFETCH,ONEMINUS,SWAP,CSTORE
>128e	b0 16 fb 0d f6 10
>1294	9b 06				.word UNNEST
>1296	04 46 49 4c		-	.ptext "FILL"
>129a	4c
>129b	96 12				.word -
>129d	7e 12				.word PREVHEADER
=$1296						PREVHEADER ::= -
>129f	a1 12			FILL:	.word +
.12a1					+
.12a1	20 4c 03			jsr dpopToGP0
.12a4	20 5a 03			jsr dpopToGP1
.12a7	20 68 03			jsr dpopToGP2
.12aa	a5 0c				lda GP0
.12ac	a6 0f				ldx GP1+1
.12ae	f0 0c				beq +
.12b0	a0 00			-	ldy #0
.12b2	91 10			-	sta (GP2),y
.12b4	88					dey
.12b5	d0 fb				bne -
.12b7	e6 11				inc GP2+1
.12b9	ca					dex
.12ba	d0 f4				bne --
.12bc	a4 0e			+	ldy GP1
.12be	f0 05			-	beq +
.12c0	88					dey
.12c1	91 10				sta (GP2),y
.12c3	80 f9				bra -
.12c5	4c 06 02		+	jmp NEXT
>12c8	05 43 4c 49		-	.ptext "CLIP$"
>12cc	50 24
>12ce	c8 12				.word -
>12d0	96 12				.word PREVHEADER
=$12c8						PREVHEADER ::= -
>12d2	d4 12			CLIPSTRING:	.word +
.12d4					+
.12d4	a0 03				ldy #3
.12d6	b1 00				lda (SP),y
.12d8	10 09				bpl +
.12da	a9 00				lda #0			; length negative, so make zero
.12dc	91 00				sta (SP),y
.12de	88					dey
.12df	91 00				sta (SP),y
.12e1	80 0a				bra ++
.12e3	f0 08			+	beq +
.12e5	a9 00				lda #0			; length > 255, so clamp to 255
.12e7	91 00				sta (SP),y
.12e9	88					dey
.12ea	3a					dec a
.12eb	91 00				sta (SP),y
.12ed	4c 06 02		+	jmp NEXT
>12f0	05 50 4c 41		-	.ptext "PLACE"
>12f4	43 45
>12f6	f0 12				.word -
>12f8	c8 12				.word PREVHEADER
=$12f0						PREVHEADER ::= -
>12fa	22 02			PLACE:	.word DOCOLON
>12fc	fb 0d d2 12			.word SWAP,CLIPSTRING,SWAP,TWODUP,TWOTOR,CHARPLUS,SWAP
>1300	fb 0d 84 0f 53 0d 92 16 fb 0d
>130a	f0 11 70 0d			.word MOVE,TWORFROM,CSTORE
>130e	f6 10
>1310	9b 06				.word UNNEST
>1312	06 2b 50 4c		-	.ptext "+PLACE"
>1316	41 43 45
>1319	12 13				.word -
>131b	f0 12				.word PREVHEADER
=$1312						PREVHEADER ::= -
>131d	22 02			PLUSPLACE:	.word DOCOLON
>131f	f0 0c d2 12			.word TOR,CLIPSTRING,MAXCOUNTED,RFETCH,CFETCH,MINUS,MIN
>1323	b1 04 1c 0d 47 11 10 16 eb 1b
>132d	30 0d 84 0f			.word RFROM,TWODUP,TWOTOR,COUNT,CHARS,PLUS,SWAP,MOVE
>1331	53 0d 4d 13 a4 16 b1 15 fb 0d f0 11
>133d	70 0d 0d 11			.word TWORFROM,CPLUSSTORE
>1341	9b 06				.word UNNEST
>1343	05 43 4f 55		-	.ptext "COUNT"
>1347	4e 54
>1349	43 13				.word -
>134b	12 13				.word PREVHEADER
=$1343						PREVHEADER ::= -
>134d	4f 13			COUNT:	.word +
.134f					+
.134f	a0 02				ldy #2
.1351	b1 00				lda (SP),y
.1353	85 0c				sta GP0
.1355	c8					iny
.1356	b1 00				lda (SP),y
.1358	85 0d				sta GP0+1
.135a	b2 0c				lda (GP0)
.135c	aa					tax
.135d	e6 0c				inc GP0
.135f	d0 02				bne +
.1361	e6 0d				inc GP0+1
.1363	a5 0d			+	lda GP0+1
.1365	91 00				sta (SP),y
.1367	88					dey
.1368	a5 0c				lda GP0
.136a	91 00				sta (SP),y
.136c	8a					txa
.136d	a2 00				ldx #0
.136f	4c 03 02			jmp PUSHNEXT
>1372	04 53 4b 49		-	.ptext "SKIP"
>1376	50
>1377	72 13				.word -
>1379	43 13				.word PREVHEADER
=$1372						PREVHEADER ::= -
>137b	7d 13			SKIP:	.word +
.137d					+
.137d	20 4c 03			jsr dpopToGP0
.1380	20 5a 03			jsr dpopToGP1
.1383	20 68 03			jsr dpopToGP2
.1386	a5 0e			-	lda GP1
.1388	05 0f				ora GP1+1
.138a	f0 0e				beq +
.138c	b2 10				lda (GP2)
.138e	c5 0c				cpa GP0
.1390	d0 08				bne +
.1392	20 3e 04			jsr incGP2
.1395	20 32 04			jsr decGP1
.1398	80 ec				bra -
.139a	a5 10			+	lda GP2
.139c	a6 11				ldx GP2+1
.139e	20 37 03			jsr dpush
.13a1	a5 0e				lda GP1
.13a3	a6 0f				ldx GP1+1
.13a5	4c 03 02			jmp PUSHNEXT
>13a8	04 53 43 41		-	.ptext "SCAN"
>13ac	4e
>13ad	a8 13				.word -
>13af	72 13				.word PREVHEADER
=$13a8						PREVHEADER ::= -
>13b1	b3 13			SCAN:	.word +
.13b3					+
.13b3	20 4c 03			jsr dpopToGP0
.13b6	20 5a 03			jsr dpopToGP1
.13b9	20 68 03			jsr dpopToGP2
.13bc	a5 0e			-	lda GP1
.13be	05 0f				ora GP1+1
.13c0	f0 0e				beq +
.13c2	b2 10				lda (GP2)
.13c4	c5 0c				cpa GP0
.13c6	f0 08				beq +
.13c8	20 3e 04			jsr incGP2
.13cb	20 32 04			jsr decGP1
.13ce	80 ec				bra -
.13d0	a5 10			+	lda GP2
.13d2	a6 11				ldx GP2+1
.13d4	20 37 03			jsr dpush
.13d7	a5 0e				lda GP1
.13d9	a6 0f				ldx GP1+1
.13db	4c 03 02			jmp PUSHNEXT
.13de					doUpperCase
.13de	a5 10			-	lda GP2
.13e0	05 11				ora GP2+1
.13e2	f0 16				beq ++
.13e4	b2 0e				lda (GP1)
.13e6	c9 60				cmp #'a'-1
.13e8	90 08				blt +
.13ea	c9 7b				cmp #'z'+1
.13ec	b0 04				bge +
.13ee	29 df				and #$df
.13f0	92 0e				sta (GP1)
.13f2	20 2b 04		+	jsr incGP1
.13f5	20 45 04			jsr decGP2
.13f8	80 e4				bra -
.13fa	60				+	rts
>13fb	05 55 50 50		-	.ptext "UPPER"
>13ff	45 52
>1401	fb 13				.word -
>1403	a8 13				.word PREVHEADER
=$13fb						PREVHEADER ::= -
>1405	07 14			UPPER:	.word +
.1407					+
.1407	20 68 03			jsr dpopToGP2
.140a	20 5a 03			jsr dpopToGP1
.140d	20 de 13			jsr doUpperCase
.1410	4c 06 02			jmp NEXT
>1413	09 55 50 50		-	.ptext "UPPERCASE"
>1417	45 52 43 41 53 45
>141d	13 14				.word -
>141f	fb 13				.word PREVHEADER
=$1413						PREVHEADER ::= -
>1421	23 14			UPPERCASE:	.word +
.1423					+
.1423	a0 02				ldy #2
.1425	b1 00				lda (SP),y
.1427	85 0e				sta GP1
.1429	c8					iny
.142a	b1 00				lda (SP),y
.142c	85 0f				sta GP1+1
.142e	b2 0e				lda (GP1)
.1430	85 10				sta GP2
.1432	64 11				stz GP2+1
.1434	20 2b 04			jsr incGP1
.1437	20 de 13			jsr doUpperCase
.143a	4c 06 02			jmp NEXT
>143d	07 2f 53 54		-	.ptext "/STRING"
>1441	52 49 4e 47
>1445	3d 14				.word -
>1447	13 14				.word PREVHEADER
=$143d						PREVHEADER ::= -
>1449	22 02			SLASHSTRING:	.word DOCOLON
>144b	33 0e eb 1b			.word OVER,MIN,DUPTOR,MINUS,SWAP,RFROM,CHARS,PLUS,SWAP
>144f	05 0d 10 16 fb 0d 30 0d a4 16 b1 15 fb 0d
>145d	9b 06				.word UNNEST
.145f					doCompare
.145f	a5 10				lda GP2
.1461	45 14				eor GP4
.1463	d0 3a				bne _notEq
.1465	a5 11				lda GP2+1
.1467	45 15				eor GP4+1
.1469	d0 34				bne _notEq
.146b	80 14				bra _L2
.146d					_loop:
.146d	b2 0e				lda (GP1)
.146f	d2 12				cpa (GP3)
.1471	f0 02				beq _continue
.1473	80 2a				bra _notEq
.1475					_continue:
.1475	20 45 04			jsr decGP2
.1478	20 58 04			jsr decGP4
.147b	20 2b 04			jsr incGP1
.147e	20 51 04			jsr incGP3
.1481					_L2:
.1481	a5 10				lda GP2
.1483	05 11				ora GP2+1
.1485	85 0c				sta GP0				; u1 status
.1487	a5 14				lda GP4
.1489	05 15				ora GP4+1
.148b	85 0d				sta GP0+1			; u2 status
.148d	a2 00				ldx #0
.148f	a5 0c				lda GP0
.1491	05 0d				ora GP0+1
.1493	f0 15				beq _done			; both are zero
.1495	a5 0c				lda GP0
.1497	f0 08				beq _short1			; 1 is shorter
.1499	a5 0d				lda GP0+1
.149b	f0 09				beq _short2			; 2 is shorter
.149d	80 ce				bra _loop			; more characters
.149f					_notEq:
.149f	b0 05				bcs _short2
.14a1					_short1:
.14a1	a9 ff				lda #-1
.14a3	aa					tax
.14a4	80 04				bra _done
.14a6					_short2:
.14a6	a9 01				lda #1
.14a8	a2 00				ldx #0
.14aa					_done:
.14aa	60					rts
>14ab	07 43 4f 4d		-	.ptext "COMPARE"
>14af	50 41 52 45
>14b3	ab 14				.word -
>14b5	3d 14				.word PREVHEADER
=$14ab						PREVHEADER ::= -
>14b7	b9 14			COMPARE:	.word +
.14b9					+
.14b9	20 84 03			jsr dpopToGP4
.14bc	20 76 03			jsr dpopToGP3
.14bf	20 68 03			jsr dpopToGP2
.14c2	20 5a 03			jsr dpopToGP1
.14c5	20 5f 14			jsr doCompare
.14c8	4c 03 02			jmp PUSHNEXT
.14cb					mul32x32
=16							mul32x32mulnd = GP2
=12							mul32x32mulr  = GP0
=20							mul32x32prod  = GP4
.14cb	64 14				stz mul32x32prod+0
.14cd	64 15				stz mul32x32prod+1
.14cf	64 16				stz mul32x32prod+2
.14d1	64 17				stz mul32x32prod+3
.14d3	64 18				stz mul32x32prod+4
.14d5	64 19				stz mul32x32prod+5
.14d7	64 1a				stz mul32x32prod+6
.14d9	64 1b				stz mul32x32prod+7
.14db	18					clc
.14dc	a9 00				lda #0
.14de	a2 20				ldx #32
.14e0					shift:
.14e0	46 0f				lsr mul32x32mulr+3
.14e2	66 0e				ror mul32x32mulr+2
.14e4	66 0d				ror mul32x32mulr+1
.14e6	66 0c				ror mul32x32mulr+0
.14e8	90 17				bcc rotate
.14ea	18					clc
.14eb	a5 18				lda mul32x32prod+4
.14ed	65 10				adc mul32x32mulnd
.14ef	85 18				sta mul32x32prod+4
.14f1	a5 19				lda mul32x32prod+5
.14f3	65 11				adc mul32x32mulnd+1
.14f5	85 19				sta mul32x32prod+5
.14f7	a5 1a				lda mul32x32prod+6
.14f9	65 12				adc mul32x32mulnd+2
.14fb	85 1a				sta mul32x32prod+6
.14fd	a5 1b				lda mul32x32prod+7
.14ff	65 13				adc mul32x32mulnd+3
.1501					rotate:
.1501	6a					ror a
.1502	85 1b				sta mul32x32prod+7
.1504	66 1a				ror mul32x32prod+6
.1506	66 19				ror mul32x32prod+5
.1508	66 18				ror mul32x32prod+4
.150a	66 17				ror mul32x32prod+3
.150c	66 16				ror mul32x32prod+2
.150e	66 15				ror mul32x32prod+1
.1510	66 14				ror mul32x32prod
.1512	ca					dex
.1513	d0 cb				bne shift
.1515	18					clc
.1516	60					rts
.1517					mul16x16
=16							mul16x16mulnd = GP2
=12							mul16x16mulr  = GP0
=20							mul16x16prod  = GP4
.1517	64 14				stz mul16x16prod+0
.1519	64 15				stz mul16x16prod+1
.151b	64 16				stz mul16x16prod+2
.151d	64 17				stz mul16x16prod+3
.151f	18					clc
.1520	a9 00				lda #0
.1522	a2 10				ldx #16
.1524					shift:
.1524	66 0d				ror mul16x16mulr+1
.1526	66 0c				ror mul16x16mulr+0
.1528	90 0b				bcc rotate
.152a	18					clc
.152b	a5 16				lda mul16x16prod+2
.152d	65 10				adc mul16x16mulnd
.152f	85 16				sta mul16x16prod+2
.1531	a5 17				lda mul16x16prod+3
.1533	65 11				adc mul16x16mulnd+1
.1535					rotate:
.1535	6a					ror a
.1536	85 17				sta mul16x16prod+3
.1538	66 16				ror mul16x16prod+2
.153a	66 15				ror mul16x16prod+1
.153c	66 14				ror mul16x16prod
.153e	ca					dex
.153f	d0 e3				bne shift
.1541	18					clc
.1542	60					rts
.1543					div32x32
=12							div32x32dividend = GP0
=16							div32x32divisor  = GP2
=20							div32x32rem      = GP4
=24							div32x32temp     = GP6
.1543	64 14				stz div32x32rem
.1545	64 15				stz div32x32rem+1
.1547	64 16				stz div32x32rem+2
.1549	64 17				stz div32x32rem+3
.154b	a2 20				ldx #32
.154d	06 0c			-	asl div32x32dividend
.154f	26 0d				rol div32x32dividend+1
.1551	26 0e				rol div32x32dividend+2
.1553	26 0f				rol div32x32dividend+3
.1555	26 14				rol div32x32rem
.1557	26 15				rol div32x32rem+1
.1559	26 16				rol div32x32rem+2
.155b	26 17				rol div32x32rem+3
.155d	a5 14				lda div32x32rem
.155f	38					sec
.1560	e5 10				sbc div32x32divisor
.1562	a8					tay
.1563	a5 15				lda div32x32rem+1
.1565	e5 11				sbc div32x32divisor+1
.1567	85 18				sta div32x32temp
.1569	a5 16				lda div32x32rem+2
.156b	e5 12				sbc div32x32divisor+2
.156d	85 19				sta div32x32temp+1
.156f	a5 17				lda div32x32rem+3
.1571	e5 13				sbc div32x32divisor+3
.1573	90 0e				bcc +
.1575	85 17				sta div32x32rem+3
.1577	a5 19				lda div32x32temp+1
.1579	85 16				sta div32x32rem+2
.157b	a5 18				lda div32x32temp
.157d	85 15				sta div32x32rem+1
.157f	84 14				sty div32x32rem
.1581	e6 0c				inc div32x32dividend
.1583	ca				+	dex
.1584	d0 c7				bne -
.1586	60					rts
.1587					div16x16
=12							div16x16dividend = GP0
=16							div16x16divisor  = GP2
=20							div16x16rem      = GP4
=24							div16x16temp     = GP6
.1587	64 14				stz div16x16rem
.1589	64 15				stz div16x16rem+1
.158b	a2 10				ldx #16
.158d	06 0c			-	asl div16x16dividend
.158f	26 0d				rol div16x16dividend+1
.1591	26 14				rol div16x16rem
.1593	26 15				rol div16x16rem+1
.1595	a5 14				lda div16x16rem
.1597	38					sec
.1598	e5 10				sbc div16x16divisor
.159a	a8					tay
.159b	a5 15				lda div16x16rem+1
.159d	e5 11				sbc div16x16divisor+1
.159f	90 06				bcc +
.15a1	85 15				sta div16x16rem+1
.15a3	84 14				sty div16x16rem
.15a5	e6 0c				inc div16x16dividend
.15a7	ca				+	dex
.15a8	d0 e3				bne -
.15aa	60					rts
>15ab	01 2b			-	.ptext "+"
>15ad	ab 15				.word -
>15af	ab 14				.word PREVHEADER
=$15ab						PREVHEADER ::= -
>15b1	b3 15			PLUS:	.word +
.15b3					+
.15b3	18					clc
.15b4	a0 02				ldy #2
.15b6	b1 00				lda (SP),y
.15b8	a0 04				ldy #4
.15ba	71 00				adc (SP),y
.15bc	91 00				sta (SP),y
.15be	a0 03				ldy #3
.15c0	b1 00				lda (SP),y
.15c2	a0 05				ldy #5
.15c4	71 00				adc (SP),y
.15c6	91 00				sta (SP),y
.15c8	20 1f 03			jsr incSP
.15cb	4c 06 02			jmp NEXT
>15ce	02 44 2b		-	.ptext "D+"
>15d1	ce 15				.word -
>15d3	ab 15				.word PREVHEADER
=$15ce						PREVHEADER ::= -
>15d5	d7 15			DPLUS:	.word +
.15d7					+
.15d7	20 68 03			jsr dpopToGP2
.15da	20 5a 03			jsr dpopToGP1
.15dd	20 84 03			jsr dpopToGP4
.15e0	20 76 03			jsr dpopToGP3
.15e3	18					clc
.15e4	a5 0e				lda GP1
.15e6	65 12				adc GP3
.15e8	85 16				sta GP5
.15ea	a5 0f				lda GP1+1
.15ec	65 13				adc GP3+1
.15ee	85 17				sta GP5+1
.15f0	a5 10				lda GP2
.15f2	65 14				adc GP4
.15f4	85 18				sta GP6
.15f6	a5 11				lda GP2+1
.15f8	65 15				adc GP4+1
.15fa	85 19				sta GP6+1
.15fc	a5 16				lda GP5
.15fe	a6 17				ldx GP5+1
.1600	20 37 03			jsr dpush
.1603	a5 18				lda GP6
.1605	a6 19				ldx GP6+1
.1607	4c 03 02			jmp PUSHNEXT
>160a	01 2d			-	.ptext "-"
>160c	0a 16				.word -
>160e	ce 15				.word PREVHEADER
=$160a						PREVHEADER ::= -
>1610	12 16			MINUS:	.word +
.1612					+
.1612	38					sec
.1613	a0 04				ldy #4
.1615	b1 00				lda (SP),y
.1617	a0 02				ldy #2
.1619	f1 00				sbc (SP),y
.161b	a0 04				ldy #4
.161d	91 00				sta (SP),y
.161f	a0 05				ldy #5
.1621	b1 00				lda (SP),y
.1623	a0 03				ldy #3
.1625	f1 00				sbc (SP),y
.1627	a0 05				ldy #5
.1629	91 00				sta (SP),y
.162b	20 1f 03			jsr incSP
.162e	4c 06 02			jmp NEXT
>1631	02 44 2d		-	.ptext "D-"
>1634	31 16				.word -
>1636	0a 16				.word PREVHEADER
=$1631						PREVHEADER ::= -
>1638	3a 16			DMINUS:	.word +
.163a					+
.163a	20 84 03			jsr dpopToGP4
.163d	20 76 03			jsr dpopToGP3
.1640	20 68 03			jsr dpopToGP2
.1643	20 5a 03			jsr dpopToGP1
.1646	38					sec
.1647	a5 0e				lda GP1
.1649	e5 12				sbc GP3
.164b	85 16				sta GP5
.164d	a5 0f				lda GP1+1
.164f	e5 13				sbc GP3+1
.1651	85 17				sta GP5+1
.1653	a5 10				lda GP2
.1655	e5 14				sbc GP4
.1657	85 18				sta GP6
.1659	a5 11				lda GP2+1
.165b	e5 15				sbc GP4+1
.165d	85 19				sta GP6+1
.165f	a5 16				lda GP5
.1661	a6 17				ldx GP5+1
.1663	20 37 03			jsr dpush
.1666	a5 18				lda GP6
.1668	a6 19				ldx GP6+1
.166a	4c 03 02			jmp PUSHNEXT
>166d	02 31 2b		-	.ptext "1+"
>1670	6d 16				.word -
>1672	31 16				.word PREVHEADER
=$166d						PREVHEADER ::= -
>1674	76 16			ONEPLUS:	.word +
.1676					+
.1676	a0 02				ldy #2
.1678	b1 00				lda (SP),y
.167a	1a					inc a
.167b	91 00				sta (SP),y
.167d	d0 06				bne +
.167f	c8					iny
.1680	b1 00				lda (SP),y
.1682	1a					inc a
.1683	91 00				sta (SP),y
.1685	4c 06 02		+	jmp NEXT
>1688	05 43 48 41		-	.ptext "CHAR+"
>168c	52 2b
>168e	88 16				.word -
>1690	6d 16				.word PREVHEADER
=$1688						PREVHEADER ::= -
>1692	7f 02			CHARPLUS:	.word DODEFER
>1694	74 16				.word ONEPLUS
>1696	68 09			-	.word PREVDEFER
>1698	74 16				.word ONEPLUS
=$1696						PREVDEFER ::= -
>169a	05 43 48 41		-	.ptext "CHARS"
>169e	52 53
>16a0	9a 16				.word -
>16a2	88 16				.word PREVHEADER
=$169a						PREVHEADER ::= -
>16a4	a6 16			CHARS:	.word +
.16a6					+
.16a6	4c 06 02			jmp NEXT
>16a9	02 31 2d		-	.ptext "1-"
>16ac	a9 16				.word -
>16ae	9a 16				.word PREVHEADER
=$16a9						PREVHEADER ::= -
>16b0	b2 16			ONEMINUS:	.word +
.16b2					+
.16b2	a0 02				ldy #2
.16b4	38					sec
.16b5	b1 00				lda (SP),y
.16b7	e9 01				sbc #1
.16b9	91 00				sta (SP),y
.16bb	b0 06				bcs +
.16bd	c8					iny
.16be	b1 00				lda (SP),y
.16c0	3a					dec a
.16c1	91 00				sta (SP),y
.16c3	4c 06 02		+	jmp NEXT
>16c6	05 43 48 41		-	.ptext "CHAR-"
>16ca	52 2d
>16cc	c6 16				.word -
>16ce	a9 16				.word PREVHEADER
=$16c6						PREVHEADER ::= -
>16d0	7f 02			CHARMINUS:	.word DODEFER
>16d2	b0 16				.word ONEMINUS
>16d4	96 16			-	.word PREVDEFER
>16d6	b0 16				.word ONEMINUS
=$16d4						PREVDEFER ::= -
>16d8	02 32 2b		-	.ptext "2+"
>16db	d8 16				.word -
>16dd	c6 16				.word PREVHEADER
=$16d8						PREVHEADER ::= -
>16df	e1 16			TWOPLUS:	.word +
.16e1					+
.16e1	a0 02				ldy #2
.16e3	18					clc
.16e4	b1 00				lda (SP),y
.16e6	69 02				adc #2
.16e8	91 00				sta (SP),y
.16ea	90 06				bcc +
.16ec	c8					iny
.16ed	b1 00				lda (SP),y
.16ef	1a					inc a
.16f0	91 00				sta (SP),y
.16f2	4c 06 02		+	jmp NEXT
>16f5	02 32 2d		-	.ptext "2-"
>16f8	f5 16				.word -
>16fa	d8 16				.word PREVHEADER
=$16f5						PREVHEADER ::= -
>16fc	fe 16			TWOMINUS:	.word +
.16fe					+
.16fe	a0 02				ldy #2
.1700	38					sec
.1701	b1 00				lda (SP),y
.1703	e9 02				sbc #2
.1705	91 00				sta (SP),y
.1707	b0 06				bcs +
.1709	c8					iny
.170a	b1 00				lda (SP),y
.170c	3a					dec a
.170d	91 00				sta (SP),y
.170f	4c 06 02		+	jmp NEXT
>1712	02 32 2a		-	.ptext "2*"
>1715	12 17				.word -
>1717	f5 16				.word PREVHEADER
=$1712						PREVHEADER ::= -
>1719	1b 17			TWOSTAR:	.word +
.171b					+
.171b	a0 02				ldy #2
.171d	b1 00				lda (SP),y
.171f	0a					asl a
.1720	91 00				sta (SP),y
.1722	c8					iny
.1723	b1 00				lda (SP),y
.1725	2a					rol a
.1726	91 00				sta (SP),y
.1728	4c 06 02			jmp NEXT
>172b	02 32 2f		-	.ptext "2/"
>172e	2b 17				.word -
>1730	12 17				.word PREVHEADER
=$172b						PREVHEADER ::= -
>1732	34 17			TWOSLASH:	.word +
.1734					+
.1734	a0 03				ldy #3
.1736	b1 00				lda (SP),y
.1738	c9 80				cmp #$80
.173a	6a					ror a
.173b	91 00				sta (SP),y
.173d	88					dey
.173e	b1 00				lda (SP),y
.1740	6a					ror a
.1741	91 00				sta (SP),y
.1743	4c 06 02			jmp NEXT
>1746	06 4c 53 48		-	.ptext "LSHIFT"
>174a	49 46 54
>174d	46 17				.word -
>174f	2b 17				.word PREVHEADER
=$1746						PREVHEADER ::= -
>1751	53 17			LSHIFT:	.word +
.1753					+
.1753	20 4c 03			jsr dpopToGP0
.1756	20 5a 03			jsr dpopToGP1
.1759	18					clc
.175a	a6 0c				ldx GP0
.175c	f0 07			-	beq +
.175e	06 0e				asl GP1
.1760	26 0f				rol GP1+1
.1762	ca					dex
.1763	80 f7				bra -
.1765	a5 0e			+	lda GP1
.1767	a6 0f				ldx GP1+1
.1769	4c 03 02			jmp PUSHNEXT
>176c	06 52 53 48		-	.ptext "RSHIFT"
>1770	49 46 54
>1773	6c 17				.word -
>1775	46 17				.word PREVHEADER
=$176c						PREVHEADER ::= -
>1777	79 17			RSHIFT:	.word +
.1779					+
.1779	20 4c 03			jsr dpopToGP0
.177c	20 5a 03			jsr dpopToGP1
.177f	18					clc
.1780	a6 0c				ldx GP0
.1782	f0 07			-	beq +
.1784	46 0f				lsr GP1+1
.1786	66 0e				ror GP1
.1788	ca					dex
.1789	80 f7				bra -
.178b	a5 0e			+	lda GP1
.178d	a6 0f				ldx GP1+1
.178f	4c 03 02			jmp PUSHNEXT
>1792	01 3d			-	.ptext "="
>1794	92 17				.word -
>1796	6c 17				.word PREVHEADER
=$1792						PREVHEADER ::= -
>1798	9a 17			EQUAL:	.word +
.179a					+
.179a	20 1f 03			jsr incSP
.179d	a2 00				ldx #0
.179f	a0 01				ldy #1
.17a1	b1 00				lda (SP),y
.17a3	a0 03				ldy #3
.17a5	51 00				eor (SP),y
.17a7	d0 09				bne +
.17a9	b2 00				lda (SP)
.17ab	a0 02				ldy #2
.17ad	51 00				eor (SP),y
.17af	d0 01				bne +
.17b1	ca					dex
.17b2	8a				+	txa
.17b3	a0 02				ldy #2
.17b5	91 00				sta (SP),y
.17b7	c8					iny
.17b8	91 00				sta (SP),y
.17ba	4c 06 02			jmp NEXT
>17bd	02 3c 3e		-	.ptext "<>"
>17c0	bd 17				.word -
>17c2	92 17				.word PREVHEADER
=$17bd						PREVHEADER ::= -
>17c4	22 02			NOTEQUAL:	.word DOCOLON
>17c6	98 17 f0 17			.word EQUAL,ZEQUAL
>17ca	9b 06				.word UNNEST
>17cc	02 30 3c		-	.ptext "0<"
>17cf	cc 17				.word -
>17d1	bd 17				.word PREVHEADER
=$17cc						PREVHEADER ::= -
>17d3	d5 17			ZLESS:	.word +
.17d5					+
.17d5	a2 00				ldx #0
.17d7	a0 03				ldy #3
.17d9	b1 00				lda (SP),y
.17db	29 80				and #$80
.17dd	f0 01				beq +
.17df	ca					dex
.17e0	8a				+	txa
.17e1	91 00				sta (SP),y
.17e3	88					dey
.17e4	91 00				sta (SP),y
.17e6	4c 06 02			jmp NEXT
>17e9	02 30 3d		-	.ptext "0="
>17ec	e9 17				.word -
>17ee	cc 17				.word PREVHEADER
=$17e9						PREVHEADER ::= -
>17f0	f2 17			ZEQUAL:	.word +
.17f2					+
.17f2	a2 00				ldx #0
.17f4	a0 02				ldy #2
.17f6	b1 00				lda (SP),y
.17f8	c8					iny
.17f9	11 00				ora (SP),y
.17fb	d0 01				bne +
.17fd	ca					dex
.17fe	8a				+	txa
.17ff	91 00				sta (SP),y
.1801	88					dey
.1802	91 00				sta (SP),y
.1804	4c 06 02			jmp NEXT
>1807	02 30 3e		-	.ptext "0>"
>180a	07 18				.word -
>180c	e9 17				.word PREVHEADER
=$1807						PREVHEADER ::= -
>180e	10 18			ZGREATER:	.word +
.1810					+
.1810	a2 00				ldx #0
.1812	a0 03				ldy #3
.1814	b1 00				lda (SP),y
.1816	30 08				bmi ++		; hi is negative, so not 0>
.1818	d0 05				bne +		; hi is positive, so is 0>
.181a	88					dey
.181b	b1 00				lda (SP),y
.181d	f0 01				beq ++		; lo is zero, so not 0>
.181f	ca				+	dex
.1820	8a				+	txa
.1821	a0 03				ldy #3
.1823	91 00				sta (SP),y
.1825	88					dey
.1826	91 00				sta (SP),y
.1828	4c 06 02			jmp NEXT
>182b	01 3c			-	.ptext "<"
>182d	2b 18				.word -
>182f	07 18				.word PREVHEADER
=$182b						PREVHEADER ::= -
>1831	22 02			LESS:	.word DOCOLON
>1833	10 16 d3 17			.word MINUS,ZLESS,UNNEST
>1837	9b 06
>1839	01 3e			-	.ptext ">"
>183b	39 18				.word -
>183d	2b 18				.word PREVHEADER
=$1839						PREVHEADER ::= -
>183f	22 02			GREATER:	.word DOCOLON
>1841	fb 0d 10 16			.word SWAP,MINUS,ZLESS,UNNEST
>1845	d3 17 9b 06
>1849	02 55 3c		-	.ptext "U<"
>184c	49 18				.word -
>184e	39 18				.word PREVHEADER
=$1849						PREVHEADER ::= -
>1850	52 18			ULESS:	.word +
.1852					+
.1852	20 68 03			jsr dpopToGP2
.1855	20 5a 03			jsr dpopToGP1
.1858	a2 ff				ldx #$ff
.185a	a5 0f				lda GP1+1
.185c	c5 11				cpa GP2+1
.185e	90 09				bcc ++
.1860	d0 06				bne +
.1862	a5 0e				lda GP1
.1864	c5 10				cpa GP2
.1866	90 01				bcc ++
.1868	e8				+	inx
.1869	8a				+	txa
.186a	4c 03 02			jmp PUSHNEXT
>186d	02 55 3e		-	.ptext "U>"
>1870	6d 18				.word -
>1872	49 18				.word PREVHEADER
=$186d						PREVHEADER ::= -
>1874	22 02			UGREATER:	.word DOCOLON
>1876	fb 0d 50 18			.word SWAP,ULESS
>187a	9b 06				.word UNNEST
>187c	06 4e 45 47		-	.ptext "NEGATE"
>1880	41 54 45
>1883	7c 18				.word -
>1885	6d 18				.word PREVHEADER
=$187c						PREVHEADER ::= -
>1887	89 18			NEGATE:	.word +
.1889					+
.1889	a0 02				ldy #2
.188b	38					sec
.188c	a9 00				lda #0
.188e	f1 00				sbc (SP),y
.1890	91 00				sta (SP),y
.1892	c8					iny
.1893	a9 00				lda #0
.1895	f1 00				sbc (SP),y
.1897	91 00				sta (SP),y
.1899	4c 06 02			jmp NEXT
>189c	07 44 4e 45		-	.ptext "DNEGATE"
>18a0	47 41 54 45
>18a4	9c 18				.word -
>18a6	7c 18				.word PREVHEADER
=$189c						PREVHEADER ::= -
>18a8	aa 18			DNEGATE:	.word +
.18aa					+
.18aa	20 5a 03			jsr dpopToGP1
.18ad	20 4c 03			jsr dpopToGP0
.18b0	38					sec
.18b1	a9 00				lda #0
.18b3	e5 0c				sbc GP0
.18b5	85 0c				sta GP0
.18b7	a9 00				lda #0
.18b9	e5 0d				sbc GP0+1
.18bb	85 0d				sta GP0+1
.18bd	a9 00				lda #0
.18bf	e5 0e				sbc GP1
.18c1	85 0e				sta GP1
.18c3	a9 00				lda #0
.18c5	e5 0f				sbc GP1+1
.18c7	85 0f				sta GP1+1
.18c9	a5 0c				lda GP0
.18cb	a6 0d				ldx GP0+1
.18cd	20 37 03			jsr dpush
.18d0	a5 0e				lda GP1
.18d2	a6 0f				ldx GP1+1
.18d4	4c 03 02			jmp PUSHNEXT
>18d7	03 41 4e 44		-	.ptext "AND"
>18db	d7 18				.word -
>18dd	9c 18				.word PREVHEADER
=$18d7						PREVHEADER ::= -
>18df	e1 18			DOAND:	.word +
.18e1					+
.18e1	20 4c 03			jsr dpopToGP0
.18e4	20 5a 03			jsr dpopToGP1
.18e7	a5 0d				lda GP0+1
.18e9	25 0f				and GP1+1
.18eb	aa					tax
.18ec	a5 0c				lda GP0
.18ee	25 0e				and GP1
.18f0	4c 03 02			jmp PUSHNEXT
>18f3	02 4f 52		-	.ptext "OR"
>18f6	f3 18				.word -
>18f8	d7 18				.word PREVHEADER
=$18f3						PREVHEADER ::= -
>18fa	fc 18			DOOR:	.word +
.18fc					+
.18fc	20 4c 03			jsr dpopToGP0
.18ff	20 5a 03			jsr dpopToGP1
.1902	a5 0d				lda GP0+1
.1904	05 0f				ora GP1+1
.1906	aa					tax
.1907	a5 0c				lda GP0
.1909	05 0e				ora GP1
.190b	4c 03 02			jmp PUSHNEXT
>190e	03 58 4f 52		-	.ptext "XOR"
>1912	0e 19				.word -
>1914	f3 18				.word PREVHEADER
=$190e						PREVHEADER ::= -
>1916	18 19			DOXOR:	.word +
.1918					+
.1918	20 4c 03			jsr dpopToGP0
.191b	20 5a 03			jsr dpopToGP1
.191e	a5 0d				lda GP0+1
.1920	45 0f				eor GP1+1
.1922	aa					tax
.1923	a5 0c				lda GP0
.1925	45 0e				eor GP1
.1927	4c 03 02			jmp PUSHNEXT
>192a	06 49 4e 56		-	.ptext "INVERT"
>192e	45 52 54
>1931	2a 19				.word -
>1933	0e 19				.word PREVHEADER
=$192a						PREVHEADER ::= -
>1935	37 19			INVERT:	.word +
.1937					+
.1937	a9 ff				lda #-1
.1939	aa					tax
.193a	20 37 03			jsr dpush
.193d	4c 18 19			jmp DOXOR+2
>1940	02 2b 2d		-	.ptext "+-"
>1943	40 19				.word -
>1945	2a 19				.word PREVHEADER
=$1940						PREVHEADER ::= -
>1947	22 02			PLUSMINUS:	.word DOCOLON
>1949	d3 17 dd 06			.word ZLESS,QBRANCH,+,NEGATE
>194d	51 19 87 18
>1951	9b 06			+	.word UNNEST
>1953	03 44 2b 2d		-	.ptext "D+-"
>1957	53 19				.word -
>1959	40 19				.word PREVHEADER
=$1953						PREVHEADER ::= -
>195b	22 02			DPLUSMINUS:	.word DOCOLON
>195d	d3 17 dd 06			.word ZLESS,QBRANCH,+,DNEGATE
>1961	65 19 a8 18
>1965	9b 06			+	.word UNNEST
>1967	03 41 42 53		-	.ptext "ABS"
>196b	67 19				.word -
>196d	53 19				.word PREVHEADER
=$1967						PREVHEADER ::= -
>196f	22 02			DOABS:	.word DOCOLON
>1971	bf 0d 47 19			.word DUP,PLUSMINUS
>1975	9b 06				.word UNNEST
>1977	04 44 41 42		-	.ptext "DABS"
>197b	53
>197c	77 19				.word -
>197e	67 19				.word PREVHEADER
=$1977						PREVHEADER ::= -
>1980	22 02			DODABS:	.word DOCOLON
>1982	bf 0d 5b 19			.word DUP,DPLUSMINUS
>1986	9b 06				.word UNNEST
>1988	02 55 2a		-	.ptext "U*"
>198b	88 19				.word -
>198d	77 19				.word PREVHEADER
=$1988						PREVHEADER ::= -
>198f	91 19			USTAR:	.word +
.1991					+
.1991	20 4c 03			jsr dpopToGP0
.1994	20 68 03			jsr dpopToGP2
.1997	20 17 15			jsr mul16x16
.199a	a5 14				lda GP4
.199c	a6 15				ldx GP4+1
.199e	4c 03 02			jmp PUSHNEXT
>19a1	03 55 4d 2a		-	.ptext "UM*"
>19a5	a1 19				.word -
>19a7	88 19				.word PREVHEADER
=$19a1						PREVHEADER ::= -
>19a9	ab 19			UMSTAR:	.word +
.19ab					+
.19ab	20 4c 03			jsr dpopToGP0
.19ae	20 68 03			jsr dpopToGP2
.19b1	20 17 15			jsr mul16x16
.19b4	a5 14				lda GP4
.19b6	a6 15				ldx GP4+1
.19b8	20 37 03			jsr dpush
.19bb	a5 16				lda GP5
.19bd	a6 17				ldx GP5+1
.19bf	4c 03 02			jmp PUSHNEXT
>19c2	03 55 44 2a		-	.ptext "UD*"
>19c6	c2 19				.word -
>19c8	a1 19				.word PREVHEADER
=$19c2						PREVHEADER ::= -
>19ca	cc 19			UDSTAR:	.word +
.19cc					+
.19cc	20 5a 03			jsr dpopToGP1
.19cf	20 4c 03			jsr dpopToGP0
.19d2	20 76 03			jsr dpopToGP3
.19d5	20 68 03			jsr dpopToGP2
.19d8	20 cb 14			jsr mul32x32
.19db	a5 14				lda GP4
.19dd	a6 15				ldx GP4+1
.19df	20 37 03			jsr dpush
.19e2	a5 16				lda GP5
.19e4	a6 17				ldx GP5+1
.19e6	4c 03 02			jmp PUSHNEXT
>19e9	06 55 44 2f		-	.ptext "UD/MOD"
>19ed	4d 4f 44
>19f0	e9 19				.word -
>19f2	c2 19				.word PREVHEADER
=$19e9						PREVHEADER ::= -
>19f4	f6 19			UDSLASHMOD:	.word +
.19f6					+
.19f6	20 76 03			jsr dpopToGP3
.19f9	20 68 03			jsr dpopToGP2
.19fc	20 5a 03			jsr dpopToGP1
.19ff	20 4c 03			jsr dpopToGP0
.1a02	20 43 15			jsr div32x32
.1a05	a5 14				lda GP4				; drem
.1a07	a6 15				ldx GP4+1
.1a09	20 37 03			jsr dpush
.1a0c	a5 16				lda GP5
.1a0e	a6 17				ldx GP5+1
.1a10	20 37 03			jsr dpush
.1a13	a5 0c				lda GP0				; d
.1a15	a6 0d				ldx GP0+1
.1a17	20 37 03			jsr dpush
.1a1a	a5 0e				lda GP1
.1a1c	a6 0f				ldx GP1+1
.1a1e	4c 03 02			jmp PUSHNEXT
>1a21	01 2a			-	.ptext "*"
>1a23	21 1a				.word -
>1a25	e9 19				.word PREVHEADER
=$1a21						PREVHEADER ::= -
>1a27	22 02			STAR:	.word DOCOLON
>1a29	84 0f 16 19			.word TWODUP,DOXOR,TOR,DOABS,SWAP,DOABS,USTAR,RFROM,PLUSMINUS
>1a2d	f0 0c 6f 19 fb 0d 6f 19 8f 19 30 0d 47 19
>1a3b	9b 06				.word UNNEST
>1a3d	02 4d 2a		-	.ptext "M*"
>1a40	3d 1a				.word -
>1a42	21 1a				.word PREVHEADER
=$1a3d						PREVHEADER ::= -
>1a44	22 02			MSTAR:	.word DOCOLON
>1a46	84 0f 16 19			.word TWODUP,DOXOR,TOR,DOABS,SWAP,DOABS,UMSTAR,RFROM,DPLUSMINUS
>1a4a	f0 0c 6f 19 fb 0d 6f 19 a9 19 30 0d 5b 19
>1a58	9b 06				.word UNNEST
>1a5a	06 55 4d 2f		-	.ptext "UM/MOD"
>1a5e	4d 4f 44
>1a61	5a 1a				.word -
>1a63	3d 1a				.word PREVHEADER
=$1a5a						PREVHEADER ::= -
>1a65	67 1a			UMSLASHMOD:	.word +
.1a67					+
.1a67	64 12				stz GP3
.1a69	64 13				stz GP3+1
.1a6b	20 68 03			jsr dpopToGP2
.1a6e	20 5a 03			jsr dpopToGP1
.1a71	20 4c 03			jsr dpopToGP0
.1a74	20 43 15			jsr div32x32
.1a77	a5 14				lda GP4
.1a79	a6 15				ldx GP4+1
.1a7b	20 37 03			jsr dpush
.1a7e	a5 0c				lda GP0
.1a80	a6 0d				ldx GP0+1
.1a82	4c 03 02			jmp PUSHNEXT
>1a85	03 55 4d 2f		-	.ptext "UM/"
>1a89	85 1a				.word -
>1a8b	5a 1a				.word PREVHEADER
=$1a85						PREVHEADER ::= -
>1a8d	22 02			UMSLASH:	.word DOCOLON
>1a8f	65 1a e2 0f			.word UMSLASHMOD,TWOSWAP,TWODROP,UNNEST
>1a93	3f 0f 9b 06
>1a97	05 55 4d 4d		-	.ptext "UMMOD"
>1a9b	4f 44
>1a9d	97 1a				.word -
>1a9f	85 1a				.word PREVHEADER
=$1a97						PREVHEADER ::= -
>1aa1	22 02			UMMOD:	.word DOCOLON
>1aa3	65 1a 3f 0f			.word UMSLASHMOD,TWODROP,UNNEST
>1aa7	9b 06
>1aa9	02 55 2f		-	.ptext "U/"
>1aac	a9 1a				.word -
>1aae	97 1a				.word PREVHEADER
=$1aa9						PREVHEADER ::= -
>1ab0	b2 1a			USLASH:	.word +
.1ab2					+
.1ab2	20 68 03			jsr dpopToGP2
.1ab5	20 4c 03			jsr dpopToGP0
.1ab8	20 87 15			jsr div16x16
.1abb	a5 0c				lda GP0
.1abd	a6 0d				ldx GP0+1
.1abf	4c 03 02			jmp PUSHNEXT
>1ac2	05 55 2f 4d		-	.ptext "U/MOD"
>1ac6	4f 44
>1ac8	c2 1a				.word -
>1aca	a9 1a				.word PREVHEADER
=$1ac2						PREVHEADER ::= -
>1acc	ce 1a			USLASHMOD:	.word +
.1ace					+
.1ace	20 68 03			jsr dpopToGP2
.1ad1	20 4c 03			jsr dpopToGP0
.1ad4	20 87 15			jsr div16x16
.1ad7	a5 14				lda GP4
.1ad9	a6 15				ldx GP4+1
.1adb	20 37 03			jsr dpush
.1ade	a5 0c				lda GP0
.1ae0	a6 0d				ldx GP0+1
.1ae2	4c 03 02			jmp PUSHNEXT
>1ae5	04 55 4d 4f		-	.ptext "UMOD"
>1ae9	44
>1aea	e5 1a				.word -
>1aec	c2 1a				.word PREVHEADER
=$1ae5						PREVHEADER ::= -
>1aee	f0 1a			UMOD:	.word +
.1af0					+
.1af0	20 68 03			jsr dpopToGP2
.1af3	20 4c 03			jsr dpopToGP0
.1af6	20 87 15			jsr div16x16
.1af9	a5 14				lda GP4
.1afb	a6 15				ldx GP4+1
.1afd	4c 03 02			jmp PUSHNEXT
>1b00	01 2f			-	.ptext "/"
>1b02	00 1b				.word -
>1b04	e5 1a				.word PREVHEADER
=$1b00						PREVHEADER ::= -
>1b06	22 02			SLASH:	.word DOCOLON
>1b08	84 0f 16 19			.word TWODUP,DOXOR,TOR,DOABS,USLASH,RFROM,PLUSMINUS
>1b0c	f0 0c 6f 19 b0 1a 30 0d 47 19
>1b16	9b 06				.word UNNEST
>1b18	03 4d 4f 44		-	.ptext "MOD"
>1b1c	18 1b				.word -
>1b1e	00 1b				.word PREVHEADER
=$1b18						PREVHEADER ::= -
>1b20	22 02			MOD:	.word DOCOLON
>1b22	84 0f 16 19			.word TWODUP,DOXOR,TOR,DOABS,UMOD,RFROM,PLUSMINUS
>1b26	f0 0c 6f 19 ee 1a 30 0d 47 19
>1b30	9b 06				.word UNNEST
>1b32	04 2f 4d 4f		-	.ptext "/MOD"
>1b36	44
>1b37	32 1b				.word -
>1b39	18 1b				.word PREVHEADER
=$1b32						PREVHEADER ::= -
>1b3b	22 02			SLASHMOD:	.word DOCOLON
>1b3d	84 0f 16 19			.word TWODUP,DOXOR,TOR,DOABS,USLASHMOD,RFROM,PLUSMINUS
>1b41	f0 0c 6f 19 cc 1a 30 0d 47 19
>1b4b	9b 06				.word UNNEST
>1b4d	03 53 3e 44		-	.ptext "S>D"
>1b51	4d 1b				.word -
>1b53	32 1b				.word PREVHEADER
=$1b4d						PREVHEADER ::= -
>1b55	22 02			STOD:	.word DOCOLON
>1b57	bf 0d d3 17			.word DUP,ZLESS
>1b5b	9b 06				.word UNNEST
>1b5d	03 55 3e 44		-	.ptext "U>D"
>1b61	5d 1b				.word -
>1b63	4d 1b				.word PREVHEADER
=$1b5d						PREVHEADER ::= -
>1b65	22 02			UTOD:	.word DOCOLON
>1b67	d2 04				.word ZERO
>1b69	9b 06				.word UNNEST
>1b6b	05 2a 2f 4d		-	.ptext "*/MOD"
>1b6f	4f 44
>1b71	6b 1b				.word -
>1b73	5d 1b				.word PREVHEADER
=$1b6b						PREVHEADER ::= -
>1b75	22 02			STARSLASHMOD:	.word DOCOLON
>1b77	f0 0c 44 1a			.word TOR,MSTAR,DUP,ZLESS,TOR
>1b7b	bf 0d d3 17 f0 0c
>1b81	80 19 30 0d			.word DODABS,RFROM,RFROM,SWAP,TOR,DUP,ZLESS,TOR,DOABS
>1b85	30 0d fb 0d f0 0c bf 0d d3 17 f0 0c 6f 19
>1b93	65 1a 30 0d			.word UMSLASHMOD,RFROM,RFROM,DOXOR,PLUSMINUS
>1b97	30 0d 16 19 47 19
>1b9d	9b 06				.word UNNEST
>1b9f	02 2a 2f		-	.ptext "*/"
>1ba2	9f 1b				.word -
>1ba4	6b 1b				.word PREVHEADER
=$1b9f						PREVHEADER ::= -
>1ba6	22 02			STARSLASH:	.word DOCOLON
>1ba8	75 1b fb 0d			.word STARSLASHMOD,SWAP,DROP
>1bac	ea 0d
>1bae	9b 06				.word UNNEST
>1bb0	06 53 4d 2f		-	.ptext "SM/REM"
>1bb4	52 45 4d
>1bb7	b0 1b				.word -
>1bb9	9f 1b				.word PREVHEADER
=$1bb0						PREVHEADER ::= -
>1bbb	22 02			SMSSLASHREM:	.word DOCOLON
>1bbd	bf 0d d3 17			.word DUP,ZLESS,TOR,TOR,DUP,ZLESS,RFROM,SWAP,TOR,TOR
>1bc1	f0 0c f0 0c bf 0d d3 17 30 0d fb 0d f0 0c f0 0c
>1bd1	80 19 30 0d			.word DODABS,RFROM,DOABS,UMSLASHMOD
>1bd5	6f 19 65 1a
>1bd9	30 0d 30 0d			.word RFROM,RFROM,DOXOR,PLUSMINUS
>1bdd	16 19 47 19
>1be1	9b 06				.word UNNEST
>1be3	03 4d 49 4e		-	.ptext "MIN"
>1be7	e3 1b				.word -
>1be9	b0 1b				.word PREVHEADER
=$1be3						PREVHEADER ::= -
>1beb	22 02			MIN:	.word DOCOLON
>1bed	84 0f 3f 18			.word TWODUP,GREATER
>1bf1	dd 06 f9 1b			.word QBRANCH,+,SWAP,PTHENP
>1bf5	fb 0d 0e 07
>1bf9	ea 0d			+	.word DROP
>1bfb	9b 06				.word UNNEST
>1bfd	03 4d 41 58		-	.ptext "MAX"
>1c01	fd 1b				.word -
>1c03	e3 1b				.word PREVHEADER
=$1bfd						PREVHEADER ::= -
>1c05	22 02			MAX:	.word DOCOLON
>1c07	84 0f 31 18			.word TWODUP,LESS
>1c0b	dd 06 13 1c			.word QBRANCH,+,SWAP,PTHENP
>1c0f	fb 0d 0e 07
>1c13	ea 0d			+	.word DROP
>1c15	9b 06				.word UNNEST
>1c17	04 30 4d 41		-	.ptext "0MAX"
>1c1b	58
>1c1c	17 1c				.word -
>1c1e	fd 1b				.word PREVHEADER
=$1c17						PREVHEADER ::= -
>1c20	22 02			ZMAX:	.word DOCOLON
>1c22	d2 04 05 1c			.word ZERO,MAX
>1c26	9b 06				.word UNNEST
>1c28	05 43 45 4c		-	.ptext "CELL+"
>1c2c	4c 2b
>1c2e	28 1c				.word -
>1c30	17 1c				.word PREVHEADER
=$1c28						PREVHEADER ::= -
>1c32	7f 02			CELLPLUS:	.word DODEFER
>1c34	df 16				.word TWOPLUS
>1c36	d4 16			-	.word PREVDEFER
>1c38	df 16				.word TWOPLUS
=$1c36						PREVDEFER ::= -
>1c3a	05 43 45 4c		-	.ptext "CELL-"
>1c3e	4c 2d
>1c40	3a 1c				.word -
>1c42	28 1c				.word PREVHEADER
=$1c3a						PREVHEADER ::= -
>1c44	7f 02			CELLMINUS:	.word DODEFER
>1c46	fc 16				.word TWOMINUS
>1c48	36 1c			-	.word PREVDEFER
>1c4a	fc 16				.word TWOMINUS
=$1c48						PREVDEFER ::= -
>1c4c	05 43 45 4c		-	.ptext "CELLS"
>1c50	4c 53
>1c52	4c 1c				.word -
>1c54	3a 1c				.word PREVHEADER
=$1c4c						PREVHEADER ::= -
>1c56	22 02			CELLS:	.word DOCOLON
>1c58	19 17				.word TWOSTAR
>1c5a	9b 06				.word UNNEST
>1c5c	06 43 45 4c		-	.ptext "CELLS+"
>1c60	4c 53 2b
>1c63	5c 1c				.word -
>1c65	4c 1c				.word PREVHEADER
=$1c5c						PREVHEADER ::= -
>1c67	22 02			CELLSPLUS:	.word DOCOLON
>1c69	56 1c b1 15			.word CELLS,PLUS
>1c6d	9b 06				.word UNNEST
>1c6f	06 43 45 4c		-	.ptext "CELLS-"
>1c73	4c 53 2d
>1c76	6f 1c				.word -
>1c78	5c 1c				.word PREVHEADER
=$1c6f						PREVHEADER ::= -
>1c7a	22 02			CELLSMINUS:	.word DOCOLON
>1c7c	56 1c 10 16			.word CELLS,MINUS
>1c80	9b 06				.word UNNEST
>1c82	06 42 4f 55		-	.ptext "BOUNDS"
>1c86	4e 44 53
>1c89	82 1c				.word -
>1c8b	6f 1c				.word PREVHEADER
=$1c82						PREVHEADER ::= -
>1c8d	22 02			BOUNDS:	.word DOCOLON
>1c8f	33 0e b1 15			.word OVER,PLUS,SWAP
>1c93	fb 0d
>1c95	9b 06				.word UNNEST
>1c97	07 42 45 54		-	.ptext "BETWEEN"
>1c9b	57 45 45 4e
>1c9f	97 1c				.word -
>1ca1	82 1c				.word PREVHEADER
=$1c97						PREVHEADER ::= -
>1ca3	22 02			BETWEEN:	.word DOCOLON
>1ca5	74 09 02 00			.word LIT,2,PICK,MIN,TOR,MAX,RFROM,EQUAL
>1ca9	12 0f eb 1b f0 0c 05 1c 30 0d 98 17
>1cb5	9b 06				.word UNNEST
>1cb7	06 57 49 54		-	.ptext "WITHIN"
>1cbb	48 49 4e
>1cbe	b7 1c				.word -
>1cc0	97 1c				.word PREVHEADER
=$1cb7						PREVHEADER ::= -
>1cc2	22 02			WITHIN:	.word DOCOLON
>1cc4	74 09 02 00			.word LIT,2,PICK,SWAP,ULESS,NROT,TWODUP,EQUAL,NROT
>1cc8	12 0f fb 0d 50 18 94 0e 84 0f 98 17 94 0e
>1cd6	3f 18 fa 18			.word GREATER,DOOR,DOAND,UNNEST
>1cda	df 18 9b 06
>1cde	06 28 45 4d		-	.ptext "(EMIT)"
>1ce2	49 54 29
>1ce5	de 1c				.word -
>1ce7	b7 1c				.word PREVHEADER
=$1cde						PREVHEADER ::= -
>1ce9	eb 1c			PEMITP:	.word +
.1ceb					+
.1ceb	20 41 03			jsr dpop
.1cee	20 e2 e0			jsr KWRITETERM
.1cf1	4c 06 02			jmp NEXT
>1cf4	04 45 4d 49		-	.ptext "EMIT"
>1cf8	54
>1cf9	f4 1c				.word -
>1cfb	de 1c				.word PREVHEADER
=$1cf4						PREVHEADER ::= -
>1cfd	7f 02			EMIT:	.word DODEFER
>1cff	e9 1c				.word PEMITP
>1d01	48 1c			-	.word PREVDEFER
>1d03	e9 1c				.word PEMITP
=$1d01						PREVDEFER ::= -
>1d05	06 28 54 59		-	.ptext "(TYPE)"
>1d09	50 45 29
>1d0c	05 1d				.word -
>1d0e	f4 1c				.word PREVHEADER
=$1d05						PREVHEADER ::= -
>1d10	12 1d			PTYPEP:	.word +
.1d12					+
.1d12	20 4c 03			jsr dpopToGP0
.1d15	20 5a 03			jsr dpopToGP1
.1d18	a5 0c			-	lda GP0
.1d1a	05 0d				ora GP0+1
.1d1c	f0 0d				beq +
.1d1e	b2 0e				lda (GP1)
.1d20	20 e2 e0			jsr KWRITETERM
.1d23	20 2b 04			jsr incGP1
.1d26	20 1f 04			jsr decGP0
.1d29	80 ed				bra -
.1d2b	4c 06 02		+	jmp NEXT
>1d2e	04 54 59 50		-	.ptext "TYPE"
>1d32	45
>1d33	2e 1d				.word -
>1d35	05 1d				.word PREVHEADER
=$1d2e						PREVHEADER ::= -
>1d37	7f 02			DOTYPE:	.word DODEFER
>1d39	10 1d				.word PTYPEP
>1d3b	01 1d			-	.word PREVDEFER
>1d3d	10 1d				.word PTYPEP
=$1d3b						PREVDEFER ::= -
>1d3f	05 28 43 4c		-	.ptext "(CLS)"
>1d43	53 29
>1d45	3f 1d				.word -
>1d47	2e 1d				.word PREVHEADER
=$1d3f						PREVHEADER ::= -
>1d49	4b 1d			PCLSP:	.word +
.1d4b					+
.1d4b	20 1b e1			jsr KCLS
.1d4e	4c 06 02			jmp NEXT
>1d51	03 43 4c 53		-	.ptext "CLS"
>1d55	51 1d				.word -
>1d57	3f 1d				.word PREVHEADER
=$1d51						PREVHEADER ::= -
>1d59	7f 02			CLS:	.word DODEFER
>1d5b	49 1d				.word PCLSP
>1d5d	3b 1d			-	.word PREVDEFER
>1d5f	49 1d				.word PCLSP
=$1d5d						PREVDEFER ::= -
>1d61	08 28 47 4f		-	.ptext "(GOTOXY)"
>1d65	54 4f 58 59 29
>1d6a	61 1d				.word -
>1d6c	51 1d				.word PREVHEADER
=$1d61						PREVHEADER ::= -
>1d6e	70 1d			PGOTOXYP:	.word +
.1d70					+
.1d70	20 41 03			jsr dpop
.1d73	85 0c				sta GP0
.1d75	20 41 03			jsr dpop
.1d78	aa					tax
.1d79	a4 0c				ldy GP0
.1d7b	20 6f e1			jsr KSETCURXY
.1d7e	4c 06 02			jmp NEXT
>1d81	06 47 4f 54		-	.ptext "GOTOXY"
>1d85	4f 58 59
>1d88	81 1d				.word -
>1d8a	61 1d				.word PREVHEADER
=$1d81						PREVHEADER ::= -
>1d8c	7f 02			GOTOXY:	.word DODEFER
>1d8e	6e 1d				.word PGOTOXYP
>1d90	5d 1d			-	.word PREVDEFER
>1d92	6e 1d				.word PGOTOXYP
=$1d90						PREVDEFER ::= -
>1d94	07 28 47 45		-	.ptext "(GETXY)"
>1d98	54 58 59 29
>1d9c	94 1d				.word -
>1d9e	81 1d				.word PREVHEADER
=$1d94						PREVHEADER ::= -
>1da0	a2 1d			PGETXYP:	.word +
.1da2					+
.1da2	20 aa e1			jsr KGETCURX
.1da5	a2 00				ldx #0
.1da7	20 37 03			jsr dpush
.1daa	20 c5 e1			jsr KGETCURY
.1dad	a2 00				ldx #0
.1daf	4c 03 02			jmp PUSHNEXT
>1db2	05 47 45 54		-	.ptext "GETXY"
>1db6	58 59
>1db8	b2 1d				.word -
>1dba	94 1d				.word PREVHEADER
=$1db2						PREVHEADER ::= -
>1dbc	7f 02			GETXY:	.word DODEFER
>1dbe	a0 1d				.word PGETXYP
>1dc0	90 1d			-	.word PREVDEFER
>1dc2	a0 1d				.word PGETXYP
=$1dc0						PREVDEFER ::= -
>1dc4	0b 28 47 45		-	.ptext "(GETCOLROW)"
>1dc8	54 43 4f 4c 52 4f 57 29
>1dd0	c4 1d				.word -
>1dd2	b2 1d				.word PREVHEADER
=$1dc4						PREVHEADER ::= -
>1dd4	d6 1d			PGETCOLROWP:	.word +
.1dd6					+
.1dd6	20 74 e1			jsr KGETSCRW
.1dd9	a2 00				ldx #0
.1ddb	20 37 03			jsr dpush
.1dde	20 8f e1			jsr KGETSCRH
.1de1	a2 00				ldx #0
.1de3	4c 03 02			jmp PUSHNEXT
>1de6	09 47 45 54		-	.ptext "GETCOLROW"
>1dea	43 4f 4c 52 4f 57
>1df0	e6 1d				.word -
>1df2	c4 1d				.word PREVHEADER
=$1de6						PREVHEADER ::= -
>1df4	7f 02			GETCOLROW:	.word DODEFER
>1df6	d4 1d				.word PGETCOLROWP
>1df8	c0 1d			-	.word PREVDEFER
>1dfa	d4 1d				.word PGETCOLROWP
=$1df8						PREVDEFER ::= -
>1dfc	04 43 4f 4c		-	.ptext "COLS"
>1e00	53
>1e01	fc 1d				.word -
>1e03	e6 1d				.word PREVHEADER
=$1dfc						PREVHEADER ::= -
>1e05	22 02			COLS:	.word DOCOLON
>1e07	f4 1d ea 0d			.word GETCOLROW,DROP
>1e0b	9b 06				.word UNNEST
>1e0d	04 52 4f 57		-	.ptext "ROWS"
>1e11	53
>1e12	0d 1e				.word -
>1e14	fc 1d				.word PREVHEADER
=$1e0d						PREVHEADER ::= -
>1e16	22 02			ROWS:	.word DOCOLON
>1e18	f4 1d fb 0d			.word GETCOLROW,SWAP,DROP
>1e1c	ea 0d
>1e1e	9b 06				.word UNNEST
.1e20					doAccept
.1e20	64 0c				stz GP0				; n2
.1e22	64 0d				stz GP0+1
.1e24					nextch:
.1e24	20 83 ff			jsr CHRIN
.1e27	c9 08				cmp #$08
.1e29	f0 04				beq bksp
.1e2b	c9 7f				cmp #$7f
.1e2d	d0 13				bne notbksp
.1e2f					bksp:
.1e2f	a5 0c				lda GP0
.1e31	05 0d				ora GP0+1
.1e33	f0 ef				beq nextch
.1e35	20 1f 04			jsr decGP0
.1e38	20 32 04			jsr decGP1
.1e3b	a9 08				lda #$08
.1e3d	20 80 ff			jsr CHROUT
.1e40	80 e2				bra nextch
.1e42					notbksp:
.1e42	c9 0d				cmp #$0d
.1e44	f0 26				beq done
.1e46	c9 0a				cmp #$0a
.1e48	f0 22				beq done
.1e4a	aa					tax
.1e4b	a5 10				lda GP2
.1e4d	c5 0c				cpa GP0
.1e4f	d0 0d				bne storeChar
.1e51	a5 11				lda GP2+1
.1e53	c5 0d				cpa GP0+1
.1e55	d0 07				bne storeChar
.1e57	a9 07				lda #$07
.1e59	20 80 ff			jsr CHROUT
.1e5c	80 c6				bra nextch
.1e5e					storeChar:
.1e5e	8a					txa
.1e5f	92 0e				sta (GP1)
.1e61	20 80 ff			jsr CHROUT
.1e64	20 2b 04			jsr incGP1
.1e67	20 18 04			jsr incGP0
.1e6a	80 b8				bra nextch
.1e6c					done:
.1e6c	60					rts
>1e6d	08 28 41 43		-	.ptext "(ACCEPT)"
>1e71	43 45 50 54 29
>1e76	6d 1e				.word -
>1e78	0d 1e				.word PREVHEADER
=$1e6d						PREVHEADER ::= -
>1e7a	7c 1e			PACCEPTP:	.word +
.1e7c					+
.1e7c	20 68 03			jsr dpopToGP2
.1e7f	20 5a 03			jsr dpopToGP1
.1e82	20 20 1e			jsr doAccept
.1e85	a5 0c				lda GP0
.1e87	a6 0d				ldx GP0+1
.1e89	4c 03 02			jmp PUSHNEXT
>1e8c	06 41 43 43		-	.ptext "ACCEPT"
>1e90	45 50 54
>1e93	8c 1e				.word -
>1e95	6d 1e				.word PREVHEADER
=$1e8c						PREVHEADER ::= -
>1e97	7f 02			ACCEPT:	.word DODEFER
>1e99	7a 1e				.word PACCEPTP
>1e9b	f8 1d			-	.word PREVDEFER
>1e9d	7a 1e				.word PACCEPTP
=$1e9b						PREVDEFER ::= -
>1e9f	06 28 4b 45		-	.ptext "(KEY?)"
>1ea3	59 3f 29
>1ea6	9f 1e				.word -
>1ea8	8c 1e				.word PREVHEADER
=$1e9f						PREVHEADER ::= -
>1eaa	ac 1e			PKEYQP:	.word +
.1eac					+
.1eac	20 8e e0			jsr KCHECKTERM
.1eaf	aa					tax
.1eb0	4c 03 02			jmp PUSHNEXT
>1eb3	04 4b 45 59		-	.ptext "KEY?"
>1eb7	3f
>1eb8	b3 1e				.word -
>1eba	9f 1e				.word PREVHEADER
=$1eb3						PREVHEADER ::= -
>1ebc	7f 02			KEYQ:	.word DODEFER
>1ebe	aa 1e				.word PKEYQP
>1ec0	9b 1e			-	.word PREVDEFER
>1ec2	aa 1e				.word PKEYQP
=$1ec0						PREVDEFER ::= -
>1ec4	05 28 4b 45		-	.ptext "(KEY)"
>1ec8	59 29
>1eca	c4 1e				.word -
>1ecc	b3 1e				.word PREVHEADER
=$1ec4						PREVHEADER ::= -
>1ece	d0 1e			PKEYP:	.word +
.1ed0					+
.1ed0	20 9b e0			jsr KGETCHAR
.1ed3	a2 00				ldx #0
.1ed5	4c 03 02			jmp PUSHNEXT
>1ed8	03 4b 45 59		-	.ptext "KEY"
>1edc	d8 1e				.word -
>1ede	c4 1e				.word PREVHEADER
=$1ed8						PREVHEADER ::= -
>1ee0	7f 02			KEY:	.word DODEFER
>1ee2	ce 1e				.word PKEYP
>1ee4	c0 1e			-	.word PREVDEFER
>1ee6	ce 1e				.word PKEYP
=$1ee4						PREVDEFER ::= -
>1ee8	05 53 50 41		-	.ptext "SPACE"
>1eec	43 45
>1eee	e8 1e				.word -
>1ef0	d8 1e				.word PREVHEADER
=$1ee8						PREVHEADER ::= -
>1ef2	22 02			SPACE:	.word DOCOLON
>1ef4	19 05 fd 1c			.word BL,EMIT
>1ef8	9b 06				.word UNNEST
>1efa	08 53 50 43		-	.ptext "SPCS-MAX"
>1efe	53 2d 4d 41 58
>1f03	fa 1e				.word -
>1f05	e8 1e				.word PREVHEADER
=$1efa						PREVHEADER ::= -
>1f07	48 02			SPCSMAX:	.word DOCON
>1f09	80 00				.word 128
>1f0b	04 53 50 43		-	.ptext "SPCS"
>1f0f	53
>1f10	0b 1f				.word -
>1f12	fa 1e				.word PREVHEADER
=$1f0b						PREVHEADER ::= -
>1f14	39 02			SPCS:	.word DOVAR
>1f16	20 20 20 20			.fill 128,32
>1f1a	20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20
;		...repeated 6 times (96 bytes)...
>1f8a	20 20 20 20 20 20 20 20 20 20 20 20
>1f96	06 53 50 41		-	.ptext "SPACES"
>1f9a	43 45 53
>1f9d	96 1f				.word -
>1f9f	0b 1f				.word PREVHEADER
=$1f96						PREVHEADER ::= -
>1fa1	22 02			SPACES:	.word DOCOLON
>1fa3	fe 06				.word PBEGINP
>1fa5	bf 0d 0e 18		-		.word DUP,ZGREATER
>1fa9	41 07 bf 1f			.word PWHILEP,+
>1fad	bf 0d 07 1f				.word DUP,SPCSMAX,MIN,SPCS,OVER,DOTYPE,MINUS
>1fb1	eb 1b 14 1f 33 0e 37 1d 10 16
>1fbb	53 07 a5 1f			.word PREPEATP,-
>1fbf	ea 0d 9b 06		+	.word DROP,UNNEST
>1fc3	04 28 43 52		-	.ptext "(CR)"
>1fc7	29
>1fc8	c3 1f				.word -
>1fca	96 1f				.word PREVHEADER
=$1fc3						PREVHEADER ::= -
>1fcc	22 02			PCRP:	.word DOCOLON
>1fce	74 09 0a 00			.word LIT,10,EMIT
>1fd2	fd 1c
>1fd4	9b 06				.word UNNEST
>1fd6	02 43 52		-	.ptext "CR"
>1fd9	d6 1f				.word -
>1fdb	c3 1f				.word PREVHEADER
=$1fd6						PREVHEADER ::= -
>1fdd	7f 02			CR:	.word DODEFER
>1fdf	cc 1f				.word PCRP
>1fe1	e4 1e			-	.word PREVDEFER
>1fe3	cc 1f				.word PCRP
=$1fe1						PREVDEFER ::= -
>1fe5	04 28 4d 53		-	.ptext "(MS)"
>1fe9	29
>1fea	e5 1f				.word -
>1fec	d6 1f				.word PREVHEADER
=$1fe5						PREVHEADER ::= -
>1fee	f0 1f			PMSP:	.word +
.1ff0					+
.1ff0	20 41 03			jsr dpop
.1ff3	85 0c				sta GP0
.1ff5	86 0d				stx GP0+1
.1ff7	05 0d				ora GP0+1
.1ff9	f0 14				beq +
.1ffb	a9 00			-	lda #0
.1ffd	a0 96				ldy #150
.1fff	c0 01			-	cpy #1
.2001	88					dey
.2002	e9 00				sbc #0
.2004	b0 f9				bcs -
.2006	20 1f 04			jsr decGP0
.2009	a5 0c				lda GP0
.200b	05 0d				ora GP0+1
.200d	d0 ec				bne --
.200f	4c 06 02		+	jmp NEXT
>2012	02 4d 53		-	.ptext "MS"
>2015	12 20				.word -
>2017	e5 1f				.word PREVHEADER
=$2012						PREVHEADER ::= -
>2019	7f 02			MS:	.word DODEFER
>201b	ee 1f				.word PMSP
>201d	e1 1f			-	.word PREVDEFER
>201f	ee 1f				.word PMSP
=$201d						PREVDEFER ::= -
>2021	02 4c 50		-	.ptext "LP"
>2024	21 20				.word -
>2026	12 20				.word PREVHEADER
=$2021						PREVHEADER ::= -
>2028	39 02			LP:	.word DOVAR
>202a	00 00				.word 0
>202c	07 48 41 4e		-	.ptext "HANDLER"
>2030	44 4c 45 52
>2034	2c 20				.word -
>2036	21 20				.word PREVHEADER
=$202c						PREVHEADER ::= -
>2038	39 02			HANDLER:	.word DOVAR
>203a	00 00				.word 0
>203c	05 43 41 54		-	.ptext "CATCH"
>2040	43 48
>2042	3c 20				.word -
>2044	2c 20				.word PREVHEADER
=$203c						PREVHEADER ::= -
>2046	22 02			CATCH:	.word DOCOLON
>2048	a7 0c f0 0c			.word SPFETCH,TOR,LP,FETCH,TOR,HANDLER,FETCH,TOR,RPFETCH,HANDLER
>204c	28 20 23 11 f0 0c 38 20 23 11 f0 0c cc 0c 38 20
>205c	bc 10 b0 09			.word STORE,EXECUTE
>2060	30 0d 38 20			.word RFROM,HANDLER,STORE,RFROM,DROP,RFROM,DROP,ZERO
>2064	bc 10 30 0d ea 0d 30 0d ea 0d d2 04
>2070	9b 06				.word UNNEST
>2072	05 54 48 52		-	.ptext "THROW"
>2076	4f 57
>2078	72 20				.word -
>207a	3c 20				.word PREVHEADER
=$2072						PREVHEADER ::= -
>207c	22 02			THROW:	.word DOCOLON
>207e	d0 0d				.word QDUP
>2080	dd 06 a4 20			.word QBRANCH,+
>2084	38 20 23 11			.word	HANDLER,FETCH,RPSTORE,RFROM,HANDLER,STORE,RFROM,LP,STORE
>2088	dd 0c 30 0d 38 20 bc 10 30 0d 28 20 bc 10
>2096	30 0d fb 0d			.word	RFROM,SWAP,TOR,SPSTORE,DROP,RFROM
>209a	f0 0c b8 0c ea 0d 30 0d
>20a2	0e 07				.word PTHENP
>20a4	9b 06			+	.word UNNEST
>20a6	06 3f 54 48		-	.ptext "?THROW"
>20aa	52 4f 57
>20ad	a6 20				.word -
>20af	72 20				.word PREVHEADER
=$20a6						PREVHEADER ::= -
>20b1	22 02			QTHROW:	.word DOCOLON
>20b3	fb 0d				.word SWAP
>20b5	dd 06 bf 20			.word QBRANCH,+
>20b9	7c 20				.word	THROW
>20bb	c1 06 c3 20			.word BRANCH,++
>20bf	ea 0d			+	.word	DROP
>20c1	0e 07				.word PTHENP
>20c3	9b 06			+	.word UNNEST
>20c5	0b 54 48 52		-	.ptext "THROW_ABORT"
>20c9	4f 57 5f 41 42 4f 52 54
>20d1	c5 20				.word -
>20d3	a6 20				.word PREVHEADER
=$20c5						PREVHEADER ::= -
>20d5	48 02			THROWABORT:	.word DOCON
>20d7	ff ff				.word THROW_ABORT
>20d9	0c 54 48 52		-	.ptext "THROW_ABORT?"
>20dd	4f 57 5f 41 42 4f 52 54 3f
>20e6	d9 20				.word -
>20e8	c5 20				.word PREVHEADER
=$20d9						PREVHEADER ::= -
>20ea	48 02			THROWABORTQ:	.word DOCON
>20ec	fe ff				.word THROW_ABORTQ
>20ee	0e 54 48 52		-	.ptext "THROW_COMPONLY"
>20f2	4f 57 5f 43 4f 4d 50 4f 4e 4c 59
>20fd	ee 20				.word -
>20ff	d9 20				.word PREVHEADER
=$20ee						PREVHEADER ::= -
>2101	48 02			THROWCOMPONLY:	.word DOCON
>2103	f4 ff				.word THROW_COMPONLY
>2105	0e 54 48 52		-	.ptext "THROW_EXECONLY"
>2109	4f 57 5f 45 58 45 43 4f 4e 4c 59
>2114	05 21				.word -
>2116	ee 20				.word PREVHEADER
=$2105						PREVHEADER ::= -
>2118	48 02			THROWEXECONLY:	.word DOCON
>211a	f6 fe				.word THROW_EXECONLY
>211c	13 54 48 52		-	.ptext "THROW_FILECLOSEFAIL"
>2120	4f 57 5f 46 49 4c 45 43 4c 4f 53 45 46 41 49 4c
>2130	1c 21				.word -
>2132	05 21				.word PREVHEADER
=$211c						PREVHEADER ::= -
>2134	48 02			THROWFILECLOSEFAIL:	.word DOCON
>2136	ef ff				.word THROW_FILECLOSEFAIL
>2138	14 54 48 52		-	.ptext "THROW_FILECREATEFAIL"
>213c	4f 57 5f 46 49 4c 45 43 52 45 41 54 45 46 41 49
>214c	4c
>214d	38 21				.word -
>214f	1c 21				.word PREVHEADER
=$2138						PREVHEADER ::= -
>2151	48 02			THROWFILECREATEFAIL:	.word DOCON
>2153	f9 fe				.word THROW_FILECREATEFAIL
>2155	12 54 48 52		-	.ptext "THROW_FILENOTFOUND"
>2159	4f 57 5f 46 49 4c 45 4e 4f 54 46 4f 55 4e 44
>2168	55 21				.word -
>216a	38 21				.word PREVHEADER
=$2155						PREVHEADER ::= -
>216c	48 02			THROWFILENOTFOUND:	.word DOCON
>216e	da ff				.word THROW_FILENOTFOUND
>2170	12 54 48 52		-	.ptext "THROW_FILEREADFAIL"
>2174	4f 57 5f 46 49 4c 45 52 45 41 44 46 41 49 4c
>2183	70 21				.word -
>2185	55 21				.word PREVHEADER
=$2170						PREVHEADER ::= -
>2187	48 02			THROWFILEREADFAIL:	.word DOCON
>2189	f8 fe				.word THROW_FILEREADFAIL
>218b	13 54 48 52		-	.ptext "THROW_FILEWRITEFAIL"
>218f	4f 57 5f 46 49 4c 45 57 52 49 54 45 46 41 49 4c
>219f	8b 21				.word -
>21a1	70 21				.word PREVHEADER
=$218b						PREVHEADER ::= -
>21a3	48 02			THROWFILEWRITEFAIL:	.word DOCON
>21a5	f7 fe				.word THROW_FILEWRITEFAIL
>21a7	0e 54 48 52		-	.ptext "THROW_MISMATCH"
>21ab	4f 57 5f 4d 49 53 4d 41 54 43 48
>21b6	a7 21				.word -
>21b8	8b 21				.word PREVHEADER
=$21a7						PREVHEADER ::= -
>21ba	48 02			THROWMISMATCH:	.word DOCON
>21bc	ea ff				.word THROW_MISMATCH
>21be	0e 54 48 52		-	.ptext "THROW_NAMEREQD"
>21c2	4f 57 5f 4e 41 4d 45 52 45 51 44
>21cd	be 21				.word -
>21cf	a7 21				.word PREVHEADER
=$21be						PREVHEADER ::= -
>21d1	48 02			THROWNAMEREQD:	.word DOCON
>21d3	f0 ff				.word THROW_NAMEREQD
>21d5	0e 54 48 52		-	.ptext "THROW_NOTDEFER"
>21d9	4f 57 5f 4e 4f 54 44 45 46 45 52
>21e4	d5 21				.word -
>21e6	be 21				.word PREVHEADER
=$21d5						PREVHEADER ::= -
>21e8	48 02			THROWNOTDEFER:	.word DOCON
>21ea	fc fe				.word THROW_NOTDEFER
>21ec	0e 54 48 52		-	.ptext "THROW_NOTVALUE"
>21f0	4f 57 5f 4e 4f 54 56 41 4c 55 45
>21fb	ec 21				.word -
>21fd	d5 21				.word PREVHEADER
=$21ec						PREVHEADER ::= -
>21ff	48 02			THROWNOTVALUE:	.word DOCON
>2201	fb fe				.word THROW_NOTVALUE
>2203	0e 54 48 52		-	.ptext "THROW_OUTOFMEM"
>2207	4f 57 5f 4f 55 54 4f 46 4d 45 4d
>2212	03 22				.word -
>2214	ec 21				.word PREVHEADER
=$2203						PREVHEADER ::= -
>2216	48 02			THROWOUTOFMEM:	.word DOCON
>2218	fa fe				.word THROW_OUTOFMEM
>221a	0e 54 48 52		-	.ptext "THROW_STACKCHG"
>221e	4f 57 5f 53 54 41 43 4b 43 48 47
>2229	1a 22				.word -
>222b	03 22				.word PREVHEADER
=$221a						PREVHEADER ::= -
>222d	48 02			THROWSTACKCHG:	.word DOCON
>222f	f2 fe				.word THROW_STACKCHG
>2231	10 54 48 52		-	.ptext "THROW_STACKUNDER"
>2235	4f 57 5f 53 54 41 43 4b 55 4e 44 45 52
>2242	31 22				.word -
>2244	1a 22				.word PREVHEADER
=$2231						PREVHEADER ::= -
>2246	48 02			THROWSTACKUNDER:	.word DOCON
>2248	fc ff				.word THROW_STACKUNDER
>224a	0f 54 48 52		-	.ptext "THROW_UNDEFINED"
>224e	4f 57 5f 55 4e 44 45 46 49 4e 45 44
>225a	4a 22				.word -
>225c	31 22				.word PREVHEADER
=$224a						PREVHEADER ::= -
>225e	48 02			THROWUNDEFINED:	.word DOCON
>2260	f3 ff				.word THROW_UNDEFINED
.2262					TMSG01:
>2262	00 00				.word 0
>2264	fc ff				.sint THROW_STACKUNDER
>2266	0f 73 74 61			.ptext "stack underflow"
>226a	63 6b 20 75 6e 64 65 72 66 6c 6f 77
.2276					TMSG02:
>2276	62 22				.word TMSG01
>2278	f3 ff				.sint THROW_UNDEFINED
>227a	0c 69 73 20			.ptext "is undefined"
>227e	75 6e 64 65 66 69 6e 65 64
.2287					TMSG03:
>2287	76 22				.word TMSG02
>2289	f4 ff				.sint THROW_COMPONLY
>228b	13 69 73 20			.ptext "is compilation only"
>228f	63 6f 6d 70 69 6c 61 74 69 6f 6e 20 6f 6e 6c 79
.229f					TMSG04:
>229f	87 22				.word TMSG03
>22a1	f0 ff				.sint THROW_NAMEREQD
>22a3	0f 72 65 71			.ptext "requires a name"
>22a7	75 69 72 65 73 20 61 20 6e 61 6d 65
.22b3					TMSG05:
>22b3	9f 22				.word TMSG04
>22b5	ea ff				.sint THROW_MISMATCH
>22b7	1a 63 6f 6e			.ptext "control structure mismatch"
>22bb	74 72 6f 6c 20 73 74 72 75 63 74 75 72 65 20 6d
>22cb	69 73 6d 61 74 63 68
.22d2					TMSG06:
>22d2	b3 22				.word TMSG05
>22d4	da ff				.sint THROW_FILENOTFOUND
>22d6	0e 66 69 6c			.ptext "file not found"
>22da	65 20 6e 6f 74 20 66 6f 75 6e 64
.22e5					TMSG40:
>22e5	d2 22				.word TMSG06
>22e7	fc fe				.sint THROW_NOTDEFER
>22e9	0b 6e 6f 74			.ptext "not defered"
>22ed	20 64 65 66 65 72 65 64
.22f5					TMSG41:
>22f5	e5 22				.word TMSG40
>22f7	fb fe				.sint THROW_NOTVALUE
>22f9	09 6e 6f 74			.ptext "not value"
>22fd	20 76 61 6c 75 65
.2303					TMSG42:
>2303	f5 22				.word TMSG41
>2305	fa fe				.sint THROW_OUTOFMEM
>2307	0d 6f 75 74			.ptext "out of memory"
>230b	20 6f 66 20 6d 65 6d 6f 72 79
.2315					TMSG43:
>2315	03 23				.word TMSG42
>2317	f9 fe				.sint THROW_FILECREATEFAIL
>2319	12 66 69 6c			.ptext "file create failed"
>231d	65 20 63 72 65 61 74 65 20 66 61 69 6c 65 64
.232c					TMSG44:
>232c	15 23				.word TMSG43
>232e	f8 fe				.sint THROW_FILEREADFAIL
>2330	10 66 69 6c			.ptext "file read failed"
>2334	65 20 72 65 61 64 20 66 61 69 6c 65 64
.2341					TMSG45:
>2341	2c 23				.word TMSG44
>2343	f7 fe				.sint THROW_FILEWRITEFAIL
>2345	11 66 69 6c			.ptext "file write failed"
>2349	65 20 77 72 69 74 65 20 66 61 69 6c 65 64
.2357					TMSG46:
>2357	41 23				.word TMSG45
>2359	f6 fe				.sint THROW_EXECONLY
>235b	11 69 73 20			.ptext "is execution only"
>235f	65 78 65 63 75 74 69 6f 6e 20 6f 6e 6c 79
.236d					TMSG47:
>236d	57 23				.word TMSG46
>236f	f5 fe				.sint THROW_LOCALSTWICE
>2371	14 6c 6f 63			.ptext "locals defined twice"
>2375	61 6c 73 20 64 65 66 69 6e 65 64 20 74 77 69 63
>2385	65
.2386					TMSG48:
>2386	6d 23				.word TMSG47
>2388	f4 fe				.sint THROW_TOOMANYLOCALS
>238a	0f 74 6f 6f			.ptext "too many locals"
>238e	20 6d 61 6e 79 20 6c 6f 63 61 6c 73
.239a					TMSG49:
>239a	86 23				.word TMSG48
>239c	f3 fe				.sint THROW_LOCALSNOCLOSE
>239e	10 6c 6f 63			.ptext "locals missing }"
>23a2	61 6c 73 20 6d 69 73 73 69 6e 67 20 7d
.23af					TMSG50:
>23af	9a 23				.word TMSG49
>23b1	f2 fe				.sint THROW_STACKCHG
>23b3	0d 73 74 61			.ptext "stack changed"
>23b7	63 6b 20 63 68 61 6e 67 65 64
.23c1					TMSG51:
>23c1	af 23				.word TMSG50
>23c3	f1 fe				.sint THROW_ARGSNODASHDASH
>23c5	11 6c 6f 63			.ptext "locals missing --"
>23c9	61 6c 73 20 6d 69 73 73 69 6e 67 20 2d 2d
.23d7					TMSG52:
>23d7	c1 23				.word TMSG51
>23d9	f0 fe				.sint THROW_NOTLOCAL
>23db	0e 69 73 20			.ptext "is not a LOCAL"
>23df	6e 6f 74 20 61 20 4c 4f 43 41 4c
.23ea					TMSG53:
>23ea	d7 23				.word TMSG52
>23ec	ef ff				.sint THROW_FILECLOSEFAIL
>23ee	11 66 69 6c			.ptext "file close failed"
>23f2	65 20 63 6c 6f 73 65 20 66 61 69 6c 65 64
>2400	0e 54 48 52		-	.ptext "THROW_MESSAGES"
>2404	4f 57 5f 4d 45 53 53 41 47 45 53
>240f	00 24				.word -
>2411	4a 22				.word PREVHEADER
=$2400						PREVHEADER ::= -
>2413	39 02			THROWMSGS:	.word DOVAR
>2415	ea 23				.word TMSG53
>2417	07 4e 55 4c		-	.ptext "NULLMSG"
>241b	4c 4d 53 47
>241f	17 24				.word -
>2421	00 24				.word PREVHEADER
=$2417						PREVHEADER ::= -
>2423	39 02			NULLMSG:	.word DOVAR
>2425	00 00				.word 0
>2427	03 4d 53 47		-	.ptext "MSG"
>242b	27 24				.word -
>242d	17 24				.word PREVHEADER
=$2427						PREVHEADER ::= -
>242f	39 02			MSG:	.word DOVAR
>2431	23 24				.word NULLMSG
>2433	07 50 54 52		-	.ptext "PTRNULL"
>2437	4e 55 4c 4c
>243b	33 24				.word -
>243d	27 24				.word PREVHEADER
=$2433						PREVHEADER ::= -
>243f	39 02			PTRNULL:	.word DOVAR
>2441	00 00				.word 0
>2443	0a 4c 41 53		-	.ptext "LAST-ERROR"
>2447	54 2d 45 52 52 4f 52
>244e	43 24				.word -
>2450	33 24				.word PREVHEADER
=$2443						PREVHEADER ::= -
>2452	95 02			LASTERROR: .word DOVALUE
>2454	00 00				.word 0
>2456	a0 02				.word DOVALUESTORE
>2458	c0 02				.word DOVALUEPSTORE
>245a	03 54 49 42		-	.ptext "TIB"
>245e	5a 24				.word -
>2460	43 24				.word PREVHEADER
=$245a						PREVHEADER ::= -
>2462	39 02			TIB:	.word DOVAR
>2464	00 00 00 00			.fill 256,0
>2468	00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
;		...repeated 14 times (224 bytes)...
>2558	00 00 00 00 00 00 00 00 00 00 00 00
>2564	08 28 53 4f		-	.ptext "(SOURCE)"
>2568	55 52 43 45 29
>256d	64 25				.word -
>256f	5a 24				.word PREVHEADER
=$2564						PREVHEADER ::= -
>2571	39 02			PSOURCEP:	.word DOVAR
>2573	00 00				.word 0
>2575	64 24				.word TIB+2
>2577	06 53 4f 55		-	.ptext "SOURCE"
>257b	52 43 45
>257e	77 25				.word -
>2580	64 25				.word PREVHEADER
=$2577						PREVHEADER ::= -
>2582	22 02			SOURCE:	.word DOCOLON
>2584	71 25 83 11			.word PSOURCEP,TWOFETCH
>2588	9b 06				.word UNNEST
>258a	04 23 54 49		-	.ptext "#TIB"
>258e	42
>258f	8a 25				.word -
>2591	77 25				.word PREVHEADER
=$258a						PREVHEADER ::= -
>2593	48 02			HASHTIB:	.word DOCON
>2595	73 25				.word PSOURCEP+2
>2597	03 3e 49 4e		-	.ptext ">IN"
>259b	97 25				.word -
>259d	8a 25				.word PREVHEADER
=$2597						PREVHEADER ::= -
>259f	39 02			TOIN:	.word DOVAR
>25a1	00 00				.word 0
>25a3	09 53 4f 55		-	.ptext "SOURCE-ID"
>25a7	52 43 45 2d 49 44
>25ad	a3 25				.word -
>25af	97 25				.word PREVHEADER
=$25a3						PREVHEADER ::= -
>25b1	95 02			SOURCEID: .word DOVALUE
>25b3	00 00				.word 0
>25b5	a0 02				.word DOVALUESTORE
>25b7	c0 02				.word DOVALUEPSTORE
>25b9	0f 53 4f 55		-	.ptext "SOURCE-POSITION"
>25bd	52 43 45 2d 50 4f 53 49 54 49 4f 4e
>25c9	b9 25				.word -
>25cb	a3 25				.word PREVHEADER
=$25b9						PREVHEADER ::= -
>25cd	95 02			SOURCEPOSITION: .word DOVALUE
>25cf	00 00				.word 0
>25d1	a0 02				.word DOVALUESTORE
>25d3	c0 02				.word DOVALUEPSTORE
>25d5	0c 28 53 41		-	.ptext "(SAVE-INPUT)"
>25d9	56 45 2d 49 4e 50 55 54 29
>25e2	d5 25				.word -
>25e4	b9 25				.word PREVHEADER
=$25d5						PREVHEADER ::= -
>25e6	e8 25			PSAVEINPUTP:	.word +
.25e8					+
.25e8	20 41 03			jsr dpop
.25eb	20 c3 03			jsr rpush
.25ee	20 41 03			jsr dpop
.25f1	20 c3 03			jsr rpush
.25f4	20 41 03			jsr dpop
.25f7	20 c3 03			jsr rpush
.25fa	20 41 03			jsr dpop
.25fd	20 c3 03			jsr rpush
.2600	20 41 03			jsr dpop
.2603	20 c3 03			jsr rpush
.2606	20 41 03			jsr dpop
.2609	20 c3 03			jsr rpush
.260c	4c 06 02			jmp NEXT
>260f	0f 28 52 45		-	.ptext "(RESTORE-INPUT)"
>2613	53 54 4f 52 45 2d 49 4e 50 55 54 29
>261f	0f 26				.word -
>2621	d5 25				.word PREVHEADER
=$260f						PREVHEADER ::= -
>2623	25 26			PRESTOREINPUTP:	.word +
.2625					+
.2625	20 b8 03			jsr rpop
.2628	20 37 03			jsr dpush
.262b	20 b8 03			jsr rpop
.262e	20 37 03			jsr dpush
.2631	20 b8 03			jsr rpop
.2634	20 37 03			jsr dpush
.2637	20 b8 03			jsr rpop
.263a	20 37 03			jsr dpush
.263d	20 b8 03			jsr rpop
.2640	20 37 03			jsr dpush
.2643	20 b8 03			jsr rpop
.2646	20 37 03			jsr dpush
.2649	4c 06 02			jmp NEXT
>264c	05 51 55 45		-	.ptext "QUERY"
>2650	52 59
>2652	4c 26				.word -
>2654	0f 26				.word PREVHEADER
=$264c						PREVHEADER ::= -
>2656	22 02			QUERY:	.word DOCOLON
>2658	62 24 bf 0d			.word TIB,DUP,MAXSTRING,ACCEPT,PSOURCEP,TWOSTORE
>265c	9e 04 97 1e 71 25 5a 11
>2664	9f 25 bc 11			.word TOIN,OFF,ZERO,SOURCEID+4,ZERO,SOURCEPOSITION+4
>2668	d2 04 b5 25 d2 04 d1 25
>2670	9b 06				.word UNNEST
>2672	06 50 4f 43		-	.ptext "POCKET"
>2676	4b 45 54
>2679	72 26				.word -
>267b	4c 26				.word PREVHEADER
=$2672						PREVHEADER ::= -
>267d	39 02			POCKET:	.word DOVAR
>267f	00 00 00 00			.fill 256,0
>2683	00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
;		...repeated 14 times (224 bytes)...
>2773	00 00 00 00 00 00 00 00 00 00 00 00
>277f	04 57 4f 52		-	.ptext "WORD"
>2783	44
>2784	7f 27				.word -
>2786	72 26				.word PREVHEADER
=$277f						PREVHEADER ::= -
>2788	22 02			DOWORD:	.word DOCOLON
>278a	f0 0c 9f 25			.word TOR,TOIN,FETCH,DUP,PSOURCEP,TWOPLUS,FETCH,PLUS
>278e	23 11 bf 0d 71 25 df 16 23 11 b1 15
>279a	71 25 23 11			.word PSOURCEP,FETCH,ROT,MINUS,DUP,ZGREATER
>279e	48 0e 10 16 bf 0d 0e 18
>27a6	dd 06 cc 27			.word QBRANCH,+
>27aa	1c 0d 7b 13				.word RFETCH,SKIP,TWODUP,RFROM,SCAN
>27ae	84 0f 30 0d b1 13
>27b4	71 25 23 11				.word PSOURCEP,FETCH,OVER,MINUS,ONEPLUS,TOIN,STORE
>27b8	33 0e 10 16 74 16 9f 25 bc 10
>27c2	fb 0d ea 0d				.word SWAP,DROP,MINUS
>27c6	10 16
>27c8	c1 06 d8 27			.word BRANCH,++
>27cc	3f 0f 30 0d		+		.word TWODROP,RFROM,DROP,ZERO,ZERO
>27d0	ea 0d d2 04 d2 04
>27d6	0e 07				.word PTHENP
>27d8	7d 26 fa 12		+	.word POCKET,PLACE,POCKET,UNNEST
>27dc	7d 26 9b 06
>27e0	05 50 41 52		-	.ptext "PARSE"
>27e4	53 45
>27e6	e0 27				.word -
>27e8	7f 27				.word PREVHEADER
=$27e0						PREVHEADER ::= -
>27ea	22 02			PARSE:	.word DOCOLON
>27ec	f0 0c 82 25			.word TOR,SOURCE,TOIN,FETCH,SLASHSTRING,TWODUP,RFROM,SCAN
>27f0	9f 25 23 11 49 14 84 0f 30 0d b1 13
>27fc	df 0e 10 16			.word NIP,MINUS,DUP,ONEPLUS,TOIN,PLUSSTORE
>2800	bf 0d 74 16 9f 25 d8 10
>2808	9b 06				.word UNNEST
>280a	04 42 41 53		-	.ptext "BASE"
>280e	45
>280f	0a 28				.word -
>2811	e0 27				.word PREVHEADER
=$280a						PREVHEADER ::= -
>2813	39 02			BASE:	.word DOVAR
>2815	00 00				.word 0
>2817	07 44 45 43		-	.ptext "DECIMAL"
>281b	49 4d 41 4c
>281f	17 28				.word -
>2821	0a 28				.word PREVHEADER
=$2817						PREVHEADER ::= -
>2823	22 02			DECIMAL:	.word DOCOLON
>2825	74 09 0a 00			.word LIT,10,BASE,STORE
>2829	13 28 bc 10
>282d	9b 06				.word UNNEST
>282f	03 48 45 58		-	.ptext "HEX"
>2833	2f 28				.word -
>2835	17 28				.word PREVHEADER
=$282f						PREVHEADER ::= -
>2837	22 02			HEX:	.word DOCOLON
>2839	74 09 10 00			.word LIT,16,BASE,STORE
>283d	13 28 bc 10
>2841	9b 06				.word UNNEST
>2843	06 42 49 4e		-	.ptext "BINARY"
>2847	41 52 59
>284a	43 28				.word -
>284c	2f 28				.word PREVHEADER
=$2843						PREVHEADER ::= -
>284e	22 02			BINARY:	.word DOCOLON
>2850	74 09 02 00			.word LIT,2,BASE,STORE
>2854	13 28 bc 10
>2858	9b 06				.word UNNEST
>285a	07 3f 44 4f		-	.ptext "?DOUBLE"
>285e	55 42 4c 45
>2862	5a 28				.word -
>2864	43 28				.word PREVHEADER
=$285a						PREVHEADER ::= -
>2866	95 02			DOUBLEQ: .word DOVALUE
>2868	00 00				.word FALSE
>286a	a0 02				.word DOVALUESTORE
>286c	c0 02				.word DOVALUEPSTORE
>286e	0b 44 50 2d		-	.ptext "DP-LOCATION"
>2872	4c 4f 43 41 54 49 4f 4e
>287a	6e 28				.word -
>287c	5a 28				.word PREVHEADER
=$286e						PREVHEADER ::= -
>287e	95 02			DPLOCATION: .word DOVALUE
>2880	01 00				.word TRUE
>2882	a0 02				.word DOVALUESTORE
>2884	c0 02				.word DOVALUEPSTORE
>2886	05 44 49 47		-	.ptext "DIGIT"
>288a	49 54
>288c	86 28				.word -
>288e	6e 28				.word PREVHEADER
=$2886						PREVHEADER ::= -
>2890	92 28			DIGIT:	.word +
.2892					+
.2892	20 4c 03			jsr dpopToGP0
.2895	20 5a 03			jsr dpopToGP1
.2898	a5 0e				lda GP1
.289a	38					sec
.289b	e9 30				sbc #48
.289d	90 1a				bcc ++
.289f	c9 09				cpa #9
.28a1	90 08				bcc +
.28a3	f0 06				beq +
.28a5	e9 07				sbc #7
.28a7	c9 0a				cpa #10
.28a9	90 0e				bcc ++
.28ab	c5 0c			+	cpa GP0
.28ad	b0 0a				bcs +
.28af	a2 00				ldx #0
.28b1	20 37 03			jsr dpush
.28b4	a9 ff				lda #-1
.28b6	aa					tax
.28b7	80 0a				bra ++
.28b9	a5 0e			+	lda GP1
.28bb	a2 00				ldx #0
.28bd	20 37 03			jsr dpush
.28c0	a9 00				lda #0
.28c2	aa					tax
.28c3	4c 03 02		+	jmp PUSHNEXT
>28c6	07 3e 4e 55		-	.ptext ">NUMBER"
>28ca	4d 42 45 52
>28ce	c6 28				.word -
>28d0	86 28				.word PREVHEADER
=$28c6						PREVHEADER ::= -
>28d2	22 02			TONUMBER:	.word DOCOLON
.28d4					TONUMBERx
>28d4	84 0f				.word TWODUP
>28d6	8d 1c				.word BOUNDS
>28d8	a0 08 16 29			.word PQDOP,_L1
>28dc	33 0e 47 11		_L4:	.word OVER,CFETCH,BASE,FETCH,DIGIT
>28e0	13 28 23 11 90 28
>28e6	dd 06 0c 29				.word QBRANCH,_L2
>28ea	94 0e 53 0d					.word NROT,TWOTOR,TOR,BASE,FETCH,STOD,UDSTAR
>28ee	f0 0c 13 28 23 11 55 1b ca 19
>28f8	30 0d 55 1b					.word RFROM,STOD,DPLUS
>28fc	d5 15
>28fe	70 0d fb 0d					.word TWORFROM,SWAP,ONEPLUS,SWAP,ONEMINUS
>2902	74 16 fb 0d b0 16
>2908	c1 06 12 29				.word BRANCH,_L3
>290c	ea 0d c2 09		_L2:		.word DROP,LEAVE
>2910	0e 07					.word PTHENP
>2912	da 07 dc 28		_L3:.word PLOOPP,_L4
>2916	9b 06			_L1:.word UNNEST
>2918	07 4e 55 4d		-	.ptext "NUMBER?"
>291c	42 45 52 3f
>2920	18 29				.word -
>2922	c6 28				.word PREVHEADER
=$2918						PREVHEADER ::= -
>2924	22 02			NUMBERQ:	.word DOCOLON
.2926					NUMBERQx
>2926	01 05 6a 28			.word FALSECON,DOUBLEQ+4,LIT,$FFFF,DPLOCATION+4
>292a	74 09 ff ff 82 28
>2930	33 0e 47 11			.word OVER,CFETCH,LIT,'-',EQUAL,OVER,ZGREATER,DOAND,DUPTOR
>2934	74 09 2d 00 98 17 33 0e 0e 18 df 18 05 0d
>2942	dd 06 4c 29			.word QBRANCH,_L1
>2946	dc 04 49 14			.word	ONE,SLASHSTRING
>294a	0e 07				.word PTHENP
>294c	bf 0d f0 17		_L1:.word DUP,ZEQUAL
>2950	dd 06 62 29			.word QBRANCH,_L2
>2954	43 0d 3f 0f			.word	RFROMDROP,TWODROP,ZERO,ZERO,FALSECON,PEXITP
>2958	d2 04 d2 04 01 05 b2 06
>2960	0e 07				.word PTHENP
>2962	d2 04 d2 04		_L2:.word ZERO,ZERO,TWOSWAP,TONUMBER,OVER,CFETCH,LIT,'.',EQUAL
>2966	e2 0f d2 28 33 0e 47 11 74 09 2e 00 98 17
>2974	33 0e 0e 18			.word OVER,ZGREATER,DOAND
>2978	df 18
>297a	dd 06 9a 29			.word QBRANCH,_L3
>297e	bf 0d b0 16			.word	DUP,ONEMINUS,DPLOCATION+4,ONE,SLASHSTRING
>2982	82 28 dc 04 49 14
>2988	d2 28 bf 0d			.word	TONUMBER,DUP,ZEQUAL
>298c	f0 17
>298e	dd 06 98 29			.word	QBRANCH,_L4
>2992	f3 04 6a 28			.word		TRUECON,DOUBLEQ+4
>2996	0e 07				.word	PTHENP
>2998	0e 07			_L4:.word PTHENP
>299a	df 0e f0 17		_L3:.word NIP,ZEQUAL,RFROM
>299e	30 0d
>29a0	dd 06 ac 29			.word QBRANCH,_L5
>29a4	f0 0c a8 18			.word	TOR,DNEGATE,RFROM
>29a8	30 0d
>29aa	0e 07				.word PTHENP
>29ac	9b 06			_L5:.word UNNEST
>29ae	08 3f 4d 49		-	.ptext "?MISSING"
>29b2	53 53 49 4e 47
>29b7	ae 29				.word -
>29b9	18 29				.word PREVHEADER
=$29ae						PREVHEADER ::= -
>29bb	22 02			QMISSING:	.word DOCOLON
>29bd	5e 22 b1 20			.word THROWUNDEFINED,QTHROW
>29c1	9b 06				.word UNNEST
>29c3	08 28 4e 55		-	.ptext "(NUMBER)"
>29c7	4d 42 45 52 29
>29cc	c3 29				.word -
>29ce	ae 29				.word PREVHEADER
=$29c3						PREVHEADER ::= -
>29d0	22 02			PNUMBERP:	.word DOCOLON
>29d2	4d 13 5a 2b			.word COUNT,FINDBUFFER,PLACE
>29d6	fa 12
>29d8	5a 2b a8 2d			.word FINDBUFFER,QUPPERCASE,COUNT,NUMBERQ,ZEQUAL,QMISSING
>29dc	4d 13 24 29 f0 17 bb 29
>29e4	9b 06				.word UNNEST
>29e6	06 4e 55 4d		-	.ptext "NUMBER"
>29ea	42 45 52
>29ed	e6 29				.word -
>29ef	c3 29				.word PREVHEADER
=$29e6						PREVHEADER ::= -
>29f1	7f 02			NUMBER:	.word DODEFER
>29f3	d0 29				.word PNUMBERP
>29f5	1d 20			-	.word PREVDEFER
>29f7	d0 29				.word PNUMBERP
=$29f5						PREVDEFER ::= -
.29f9					doNtoLink
.29f9	85 0c				sta GP0
.29fb	86 0d				stx GP0+1
.29fd	b2 0c				lda (GP0)
.29ff	29 3f				and #63
.2a01	18					clc
.2a02	65 0c				adc GP0
.2a04	85 0c				sta GP0
.2a06	90 02				bcc +
.2a08	e6 0d				inc GP0+1
.2a0a	18				+	clc
.2a0b	a9 03				lda #3
.2a0d	65 0c				adc GP0
.2a0f	85 0c				sta GP0
.2a11	90 02				bcc +
.2a13	e6 0d				inc GP0+1
.2a15	a5 0c			+	lda GP0
.2a17	a6 0d				ldx GP0+1
.2a19	60					rts
>2a1a	06 4e 3e 4c		-	.ptext "N>LINK"
>2a1e	49 4e 4b
>2a21	1a 2a				.word -
>2a23	e6 29				.word PREVHEADER
=$2a1a						PREVHEADER ::= -
>2a25	27 2a			NTOLINK:	.word +
.2a27					+
.2a27	20 41 03			jsr dpop
.2a2a	20 f9 29			jsr doNtoLink
.2a2d	4c 03 02			jmp PUSHNEXT
>2a30	09 4e 46 41		-	.ptext "NFA-COUNT"
>2a34	2d 43 4f 55 4e 54
>2a3a	30 2a				.word -
>2a3c	1a 2a				.word PREVHEADER
=$2a30						PREVHEADER ::= -
>2a3e	22 02			NFACOUNT:	.word DOCOLON
>2a40	bf 0d 74 16			.word DUP,ONEPLUS,SWAP,CFETCH,MAXNAMECHARS,DOAND
>2a44	fb 0d 47 11 c8 04 df 18
>2a4c	9b 06				.word UNNEST
>2a4e	05 4e 41 4d		-	.ptext "NAME>"
>2a52	45 3e
>2a54	4e 2a				.word -
>2a56	30 2a				.word PREVHEADER
=$2a4e						PREVHEADER ::= -
>2a58	22 02			NAMETO:	.word DOCOLON
>2a5a	3e 2a b1 15			.word NFACOUNT,PLUS,TWO,CELLSPLUS
>2a5e	e6 04 67 1c
>2a62	9b 06				.word UNNEST
>2a64	05 3e 4e 41		-	.ptext ">NAME"
>2a68	4d 45
>2a6a	64 2a				.word -
>2a6c	4e 2a				.word PREVHEADER
=$2a64						PREVHEADER ::= -
>2a6e	22 02			TONAME:	.word DOCOLON
>2a70	e6 04 7a 1c			.word TWO,CELLSMINUS,FETCH
>2a74	23 11
>2a76	9b 06				.word UNNEST
>2a78	05 42 4f 44		-	.ptext "BODY>"
>2a7c	59 3e
>2a7e	78 2a				.word -
>2a80	64 2a				.word PREVHEADER
=$2a78						PREVHEADER ::= -
>2a82	22 02			BODYTO:	.word DOCOLON
>2a84	44 1c				.word CELLMINUS
>2a86	9b 06				.word UNNEST
>2a88	05 3e 42 4f		-	.ptext ">BODY"
>2a8c	44 59
>2a8e	88 2a				.word -
>2a90	78 2a				.word PREVHEADER
=$2a88						PREVHEADER ::= -
>2a92	22 02			TOBODY:	.word DOCOLON
>2a94	32 1c				.word CELLPLUS
>2a96	9b 06				.word UNNEST
>2a98	08 56 43 46		-	.ptext "VCFA>VOC"
>2a9c	41 3e 56 4f 43
>2aa1	98 2a				.word -
>2aa3	88 2a				.word PREVHEADER
=$2a98						PREVHEADER ::= -
>2aa5	22 02			VCFATOVOC:	.word DOCOLON
>2aa7	e6 04 67 1c			.word TWO,CELLSPLUS
>2aab	9b 06				.word UNNEST
>2aad	08 56 4f 43		-	.ptext "VOC>VCFA"
>2ab1	3e 56 43 46 41
>2ab6	ad 2a				.word -
>2ab8	98 2a				.word PREVHEADER
=$2aad						PREVHEADER ::= -
>2aba	22 02			VOCTOVCFA:	.word DOCOLON
>2abc	e6 04 7a 1c			.word TWO,CELLSMINUS
>2ac0	9b 06				.word UNNEST
>2ac2	09 56 4c 49		-	.ptext "VLINK>VOC"
>2ac6	4e 4b 3e 56 4f 43
>2acc	c2 2a				.word -
>2ace	ad 2a				.word PREVHEADER
=$2ac2						PREVHEADER ::= -
>2ad0	22 02			VLINKTOVOC:	.word DOCOLON
>2ad2	32 1c				.word CELLPLUS
>2ad4	9b 06				.word UNNEST
>2ad6	09 56 4f 43		-	.ptext "VOC>VLINK"
>2ada	3e 56 4c 49 4e 4b
>2ae0	d6 2a				.word -
>2ae2	c2 2a				.word PREVHEADER
=$2ad6						PREVHEADER ::= -
>2ae4	22 02			VOCTOVLINK:	.word DOCOLON
>2ae6	44 1c				.word CELLMINUS
>2ae8	9b 06				.word UNNEST
>2aea	05 23 56 4f		-	.ptext "#VOCS"
>2aee	43 53
>2af0	ea 2a				.word -
>2af2	d6 2a				.word PREVHEADER
=$2aea						PREVHEADER ::= -
>2af4	48 02			NUMVOCS:	.word DOCON
>2af6	10 00				.word NUMVOCSDEF
>2af8	05 46 4f 52		-	.ptext "FORTH"
>2afc	54 48
>2afe	f8 2a				.word -
>2b00	ea 2a				.word PREVHEADER
=$2af8						PREVHEADER ::= -
.2b02					FORTH:
>2b02	07 03				.word DOVOC
>2b04	00 00				.word 0
>2b06	ac 4a				.word COLDNFA
>2b08	00 00				.word 0
>2b0a	07 43 4f 4e		-	.ptext "CONTEXT"
>2b0e	54 45 58 54
>2b12	0a 2b				.word -
>2b14	f8 2a				.word PREVHEADER
=$2b0a						PREVHEADER ::= -
>2b16	39 02			CONTEXT:	.word DOVAR
>2b18	06 2b				.word FORTH+4
>2b1a	00 00 00 00			.fill NUMVOCSDEF*2,0
>2b1e	00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
>2b2e	00 00 00 00 00 00 00 00 00 00 00 00
>2b3a	07 43 55 52		-	.ptext "CURRENT"
>2b3e	52 45 4e 54
>2b42	3a 2b				.word -
>2b44	0a 2b				.word PREVHEADER
=$2b3a						PREVHEADER ::= -
>2b46	39 02			CURRENT:	.word DOVAR
>2b48	06 2b				.word FORTH+4
>2b4a	0b 46 49 4e		-	.ptext "FIND-BUFFER"
>2b4e	44 2d 42 55 46 46 45 52
>2b56	4a 2b				.word -
>2b58	3a 2b				.word PREVHEADER
=$2b4a						PREVHEADER ::= -
>2b5a	39 02			FINDBUFFER:	.word DOVAR
>2b5c	00 00 00 00			.fill 256,0
>2b60	00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
;		...repeated 14 times (224 bytes)...
>2c50	00 00 00 00 00 00 00 00 00 00 00 00
.2c5c					doSearch1Wordlist
.2c5c					s1wbegin:
.2c5c	a5 12				lda GP3						; end of wordlist?
.2c5e	05 13				ora GP3+1
.2c60	d0 02				bne s1w0					; no, continue
.2c62	80 65				bra s1wno					; yes, no match for you
.2c64					s1w0:
.2c64	b2 12				lda (GP3)					; len2 = (wlst) & 63
.2c66	29 3f				and #63
.2c68	c5 10				cpa GP2
.2c6a	d0 1a				bne s1wnext					; not same, so don't match
.2c6c	18					clc
.2c6d	a5 12				lda GP3
.2c6f	69 01				adc #1
.2c71	85 16				sta GP5
.2c73	a5 13				lda GP3+1
.2c75	69 00				adc #0
.2c77	85 17				sta GP5+1
.2c79	a4 10				ldy GP2
.2c7b					s1w1:
.2c7b	88					dey
.2c7c	30 20				bmi s1wmatch
.2c7e	b1 0e				lda (GP1),y					; (wlst) == (addr2)?
.2c80	d1 16				cpa (GP5),y
.2c82	d0 02				bne s1wnext
.2c84	80 f5				bra s1w1
.2c86					s1wnext:
.2c86	a5 12				lda GP3						; wlst => lfa
.2c88	a6 13				ldx GP3+1
.2c8a	20 f9 29			jsr doNtoLink
.2c8d	85 12				sta GP3
.2c8f	86 13				stx GP3+1
.2c91	a0 01				ldy #1						; wlst = (lfa)
.2c93	b1 12				lda (GP3),y
.2c95	aa					tax
.2c96	b2 12				lda (GP3)
.2c98	85 12				sta GP3
.2c9a	86 13				stx GP3+1
.2c9c	80 be				bra s1wbegin				; check next word in wordlist
.2c9e					s1wmatch:
.2c9e	b2 12				lda (GP3)					; a = (wlst) & 63
.2ca0	85 14				sta GP4						; save for later
.2ca2	29 3f				and #63
.2ca4	18					clc							; wlst += len
.2ca5	65 12				adc GP3
.2ca7	85 12				sta GP3
.2ca9	90 02				bcc s1wmatcha
.2cab	e6 13				inc GP3+1
.2cad					s1wmatcha:
.2cad	18					clc							; wlst -> cfa (1 for count, 2 for nla, 2 for lfa
.2cae	a5 12				lda GP3
.2cb0	69 05				adc #5
.2cb2	85 12				sta GP3
.2cb4	90 02				bcc s1wmatchb
.2cb6	e6 13				inc GP3+1
.2cb8					s1wmatchb:
.2cb8	38					sec							; sec -> match
.2cb9	a5 14				lda GP4
.2cbb	29 80				and #$80					; immediate?
.2cbd	d0 04				bne s1wimmed
.2cbf	3a					dec a						; regular word
.2cc0	aa					tax
.2cc1	80 07				bra s1wend
.2cc3					s1wimmed:
.2cc3	a9 01				lda #1						; immediate word
.2cc5	a2 00				ldx #0
.2cc7	80 01				bra s1wend
.2cc9					s1wno:
.2cc9	18					clc							; clc -> no match
.2cca					s1wend:
.2cca	85 10				sta GP2
.2ccc	86 11				stx GP2+1
.2cce	60					rts
>2ccf	13 53 45 41		-	.ptext "SEARCH-ONE-WORDLIST"
>2cd3	52 43 48 2d 4f 4e 45 2d 57 4f 52 44 4c 49 53 54
>2ce3	cf 2c				.word -
>2ce5	4a 2b				.word PREVHEADER
=$2ccf						PREVHEADER ::= -
>2ce7	e9 2c			SEARCH1WORDLIST:	.word +
.2ce9					+
.2ce9	20 76 03			jsr dpopToGP3
.2cec	20 68 03			jsr dpopToGP2
.2cef	20 5a 03			jsr dpopToGP1
.2cf2	20 5c 2c			jsr doSearch1Wordlist
.2cf5	90 0d				bcc +
.2cf7	a5 12				lda GP3
.2cf9	a6 13				ldx GP3+1
.2cfb	20 37 03			jsr dpush
.2cfe	a5 10				lda GP2
.2d00	a6 11				ldx GP2+1
.2d02	80 03				bra ++
.2d04	a9 00			+	lda #0
.2d06	aa					tax
.2d07	20 37 03		+	jsr dpush
.2d0a	4c 06 02			jmp NEXT
>2d0d	11 28 53 45		-	.ptext "(SEARCH-WORDLIST)"
>2d11	41 52 43 48 2d 57 4f 52 44 4c 49 53 54 29
>2d1f	0d 2d				.word -
>2d21	cf 2c				.word PREVHEADER
=$2d0d						PREVHEADER ::= -
>2d23	22 02			PSEARCHWORDLISTP:	.word DOCOLON
>2d25	23 11 e7 2c			.word FETCH,SEARCH1WORDLIST
>2d29	9b 06				.word UNNEST
>2d2b	06 28 46 49		-	.ptext "(FIND)"
>2d2f	4e 44 29
>2d32	2b 2d				.word -
>2d34	0d 2d				.word PREVHEADER
=$2d2b						PREVHEADER ::= -
>2d36	22 02			PFINDP:	.word DOCOLON
>2d38	bf 0d 47 11			.word DUP,CFETCH,ZEQUAL
>2d3c	f0 17
>2d3e	dd 06 48 2d			.word QBRANCH,+
>2d42	d2 04 b2 06			.word	ZERO,PEXITP
>2d46	0e 07				.word PTHENP
>2d48	16 2b			+	.word CONTEXT
>2d4a	fe 06				.word PBEGINP
>2d4c	bf 0d 23 11		-	.word	DUP,FETCH
>2d50	41 07 86 2d			.word PWHILEP,+++
>2d54	bf 0d 83 11			.word	DUP,TWOFETCH,NOTEQUAL
>2d58	c4 17
>2d5a	dd 06 80 2d			.word	QBRANCH,++
>2d5e	33 0e 4d 13			.word		OVER,COUNT,MAXNAMECHARS,MIN,LIT,2,PICK,FETCH
>2d62	c8 04 eb 1b 74 09 02 00 12 0f 23 11
>2d6e	23 2d d0 0d			.word		PSEARCHWORDLISTP,QDUP
>2d72	dd 06 7e 2d			.word		QBRANCH,+
>2d76	e2 0f 3f 0f			.word			TWOSWAP,TWODROP,PEXITP
>2d7a	b2 06
>2d7c	0e 07				.word		PTHENP
>2d7e	0e 07			+	.word	PTHENP
>2d80	32 1c			+	.word	CELLPLUS
>2d82	53 07 4c 2d			.word PREPEATP,-
>2d86	ea 0d 01 05		+	.word DROP,FALSECON
>2d8a	9b 06				.word UNNEST
>2d8c	04 43 41 50		-	.ptext "CAPS"
>2d90	53
>2d91	8c 2d				.word -
>2d93	2b 2d				.word PREVHEADER
=$2d8c						PREVHEADER ::= -
>2d95	39 02			CAPS:	.word DOVAR
>2d97	ff ff				.word $FFFF
>2d99	0a 3f 55 50		-	.ptext "?UPPERCASE"
>2d9d	50 45 52 43 41 53 45
>2da4	99 2d				.word -
>2da6	8c 2d				.word PREVHEADER
=$2d99						PREVHEADER ::= -
>2da8	22 02			QUPPERCASE:	.word DOCOLON
>2daa	95 2d 23 11			.word CAPS,FETCH
>2dae	dd 06 b6 2d			.word QBRANCH,+
>2db2	21 14				.word	UPPERCASE
>2db4	0e 07				.word PTHENP
>2db6	9b 06			+	.word UNNEST
>2db8	09 43 41 50		-	.ptext "CAPS-FIND"
>2dbc	53 2d 46 49 4e 44
>2dc2	b8 2d				.word -
>2dc4	99 2d				.word PREVHEADER
=$2db8						PREVHEADER ::= -
>2dc6	22 02			CAPSFIND:	.word DOCOLON
>2dc8	bf 0d 4d 13			.word DUP,COUNT,FINDBUFFER,PLACE,FINDBUFFER,QUPPERCASE,PFINDP
>2dcc	5a 2b fa 12 5a 2b a8 2d 36 2d
>2dd6	05 0d				.word DUPTOR
>2dd8	dd 06 e2 2d			.word QBRANCH,+
>2ddc	df 0e				.word	NIP
>2dde	c1 06 e6 2d			.word BRANCH,++
>2de2	ea 0d			+	.word	DROP
>2de4	0e 07				.word PTHENP
>2de6	30 0d			+	.word RFROM
>2de8	9b 06				.word UNNEST
>2dea	04 46 49 4e		-	.ptext "FIND"
>2dee	44
>2def	ea 2d				.word -
>2df1	b8 2d				.word PREVHEADER
=$2dea						PREVHEADER ::= -
>2df3	7f 02			FIND:	.word DODEFER
>2df5	c6 2d				.word CAPSFIND
>2df7	f5 29			-	.word PREVDEFER
>2df9	c6 2d				.word CAPSFIND
=$2df7						PREVDEFER ::= -
>2dfb	07 44 45 46		-	.ptext "DEFINED"
>2dff	49 4e 45 44
>2e03	fb 2d				.word -
>2e05	ea 2d				.word PREVHEADER
=$2dfb						PREVHEADER ::= -
>2e07	22 02			DEFINED:	.word DOCOLON
>2e09	19 05 88 27			.word BL,DOWORD,FIND
>2e0d	f3 2d
>2e0f	9b 06				.word UNNEST
>2e11	01 27			-	.ptext "'"
>2e13	11 2e				.word -
>2e15	fb 2d				.word PREVHEADER
=$2e11						PREVHEADER ::= -
>2e17	22 02			TICK:	.word DOCOLON
>2e19	07 2e f0 17			.word DEFINED,ZEQUAL,QMISSING
>2e1d	bb 29
>2e1f	9b 06				.word UNNEST
>2e21	02 44 50		-	.ptext "DP"
>2e24	21 2e				.word -
>2e26	11 2e				.word PREVHEADER
=$2e21						PREVHEADER ::= -
>2e28	39 02			DP:	.word DOVAR
>2e2a	ed 4a				.word ENDOFKERNEL
>2e2c	08 41 50 50		-	.ptext "APP-HERE"
>2e30	2d 48 45 52 45
>2e35	2c 2e				.word -
>2e37	21 2e				.word PREVHEADER
=$2e2c						PREVHEADER ::= -
>2e39	3b 2e			APPHERE:	.word +
.2e3b					+
.2e3b	ad 2a 2e			lda DP+2
.2e3e	ae 2b 2e			ldx DP+3
.2e41	4c 03 02			jmp PUSHNEXT
>2e44	04 48 45 52		-	.ptext "HERE"
>2e48	45
>2e49	44 2e				.word -
>2e4b	2c 2e				.word PREVHEADER
=$2e44						PREVHEADER ::= -
>2e4d	7f 02			HERE:	.word DODEFER
>2e4f	39 2e				.word APPHERE
>2e51	f7 2d			-	.word PREVDEFER
>2e53	39 2e				.word APPHERE
=$2e51						PREVDEFER ::= -
>2e55	0c 41 50 50		-	.ptext "APP-COMPILE,"
>2e59	2d 43 4f 4d 50 49 4c 45 2c
>2e62	55 2e				.word -
>2e64	44 2e				.word PREVHEADER
=$2e55						PREVHEADER ::= -
>2e66	68 2e			APPCOMPILECOMMA:	.word +
.2e68					+
.2e68	ad 2a 2e			lda DP+2
.2e6b	85 0c				sta GP0
.2e6d	ad 2b 2e			lda DP+3
.2e70	85 0d				sta GP0+1
.2e72	20 41 03			jsr dpop
.2e75	92 0c				sta (GP0)
.2e77	8a					txa
.2e78	a0 01				ldy #1
.2e7a	91 0c				sta (GP0),y
.2e7c	18					clc
.2e7d	ad 2a 2e			lda DP+2
.2e80	69 02				adc #2
.2e82	8d 2a 2e			sta DP+2
.2e85	90 03				bcc +
.2e87	ee 2b 2e			inc DP+3
.2e8a	4c 06 02		+	jmp NEXT
>2e8d	0b 41 50 50		-	.ptext "APP-COMPILE"
>2e91	2d 43 4f 4d 50 49 4c 45
>2e99	8d 2e				.word -
>2e9b	55 2e				.word PREVHEADER
=$2e8d						PREVHEADER ::= -
>2e9d	9f 2e			APPCOMPILE:	.word +
.2e9f					+
.2e9f	ad 2a 2e			lda DP+2
.2ea2	85 0c				sta GP0
.2ea4	ad 2b 2e			lda DP+3
.2ea7	85 0d				sta GP0+1
.2ea9	a0 01				ldy #1
.2eab	b1 04				lda (IP),y
.2ead	91 0c				sta (GP0),y
.2eaf	b2 04				lda (IP)
.2eb1	92 0c				sta (GP0)
.2eb3	18					clc
.2eb4	ad 2a 2e			lda DP+2
.2eb7	69 02				adc #2
.2eb9	8d 2a 2e			sta DP+2
.2ebc	90 03				bcc +
.2ebe	ee 2b 2e			inc DP+3
.2ec1	18				+	clc
.2ec2	a5 04				lda IP
.2ec4	69 02				adc #2
.2ec6	85 04				sta IP
.2ec8	b0 03				bcs +
.2eca	4c 06 02			jmp NEXT
.2ecd	e6 05			+	inc IP+1
.2ecf	4c 06 02			jmp NEXT
>2ed2	07 43 4f 4d		-	.ptext "COMPILE"
>2ed6	50 49 4c 45
>2eda	d2 2e				.word -
>2edc	8d 2e				.word PREVHEADER
=$2ed2						PREVHEADER ::= -
>2ede	7f 02			COMPILE:	.word DODEFER
>2ee0	9d 2e				.word APPCOMPILE
>2ee2	51 2e			-	.word PREVDEFER
>2ee4	9d 2e				.word APPCOMPILE
=$2ee2						PREVDEFER ::= -
>2ee6	05 41 50 50		-	.ptext "APP-,"
>2eea	2d 2c
>2eec	e6 2e				.word -
>2eee	d2 2e				.word PREVHEADER
=$2ee6						PREVHEADER ::= -
>2ef0	22 02			APPCOMMA:	.word DOCOLON
>2ef2	4d 2e bc 10			.word HERE,STORE,TWO,DP,PLUSSTORE
>2ef6	e6 04 28 2e d8 10
>2efc	9b 06				.word UNNEST
>2efe	01 2c			-	.ptext ","
>2f00	fe 2e				.word -
>2f02	e6 2e				.word PREVHEADER
=$2efe						PREVHEADER ::= -
>2f04	7f 02			COMMA:	.word DODEFER
>2f06	f0 2e				.word APPCOMMA
>2f08	e2 2e			-	.word PREVDEFER
>2f0a	f0 2e				.word APPCOMMA
=$2f08						PREVDEFER ::= -
>2f0c	06 41 50 50		-	.ptext "APP-C,"
>2f10	2d 43 2c
>2f13	0c 2f				.word -
>2f15	fe 2e				.word PREVHEADER
=$2f0c						PREVHEADER ::= -
>2f17	22 02			APPCCOMMA:	.word DOCOLON
>2f19	4d 2e f6 10			.word HERE,CSTORE,ONE,DP,PLUSSTORE
>2f1d	dc 04 28 2e d8 10
>2f23	9b 06				.word UNNEST
>2f25	02 43 2c		-	.ptext "C,"
>2f28	25 2f				.word -
>2f2a	0c 2f				.word PREVHEADER
=$2f25						PREVHEADER ::= -
>2f2c	7f 02			CCOMMA:	.word DODEFER
>2f2e	17 2f				.word APPCCOMMA
>2f30	08 2f			-	.word PREVDEFER
>2f32	17 2f				.word APPCCOMMA
=$2f30						PREVDEFER ::= -
>2f34	05 4c 49 4e		-	.ptext "LINK,"
>2f38	4b 2c
>2f3a	34 2f				.word -
>2f3c	25 2f				.word PREVHEADER
=$2f34						PREVHEADER ::= -
>2f3e	22 02			LINKCOMMA:	.word DOCOLON
>2f40	4d 2e 33 0e			.word HERE,OVER,FETCH,COMMA,SWAP,STORE
>2f44	23 11 04 2f fb 0d bc 10
>2f4c	9b 06				.word UNNEST
>2f4e	02 2c 22		-	.ptext ',"'
>2f51	4e 2f				.word -
>2f53	34 2f				.word PREVHEADER
=$2f4e						PREVHEADER ::= -
>2f55	22 02			COMMAQUOTE:	.word DOCOLON
>2f57	74 09 22 00			.word LIT,'"',PARSE,HERE,TOR,DUP,CCOMMA
>2f5b	ea 27 4d 2e f0 0c bf 0d 2c 2f
>2f65	bf 0d c7 31			.word DUP,ALLOT,RFROM,ONEPLUS,SWAP,MOVE,ALIGN,UNNEST
>2f69	30 0d 74 16 fb 0d f0 11 a1 31 9b 06
>2f75	87				-	.byte len("LITERAL") | $80
>2f76	4c 49 54 45			.text "LITERAL"
>2f7a	52 41 4c
>2f7d	75 2f				.word -
>2f7f	4e 2f				.word PREVHEADER
=$2f75						PREVHEADER ::= -
>2f81	22 02			LITERAL:	.word DOCOLON
>2f83	de 2e 74 09			.word COMPILE,LIT,COMMA
>2f87	04 2f
>2f89	9b 06				.word UNNEST
>2f8b	04 4e 45 57		-	.ptext "NEW$"
>2f8f	24
>2f90	8b 2f				.word -
>2f92	75 2f				.word PREVHEADER
=$2f8b						PREVHEADER ::= -
>2f94	39 02			NEWSTRING:	.word DOVAR
>2f96	00 00 00 00			.fill 256,0
>2f9a	00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
;		...repeated 14 times (224 bytes)...
>308a	00 00 00 00 00 00 00 00 00 00 00 00
>3096	82				-	.byte len('S"') | $80
>3097	53 22				.text 'S"'
>3099	96 30				.word -
>309b	8b 2f				.word PREVHEADER
=$3096						PREVHEADER ::= -
>309d	22 02			SQUOTE:	.word DOCOLON
>309f	e5 3d 23 11			.word STATE,FETCH
>30a3	dd 06 b1 30			.word QBRANCH,L1
>30a7	de 2e f1 0a				.word COMPILE,PSQUOTEP,COMMAQUOTE
>30ab	55 2f
>30ad	c1 06 c3 30			.word BRANCH,L2
>30b1	74 09 22 00		L1:		.word LIT,'"',PARSE,NEWSTRING,DUPTOR,PLACE,RFROM,COUNT
>30b5	ea 27 94 2f 05 0d fa 12 30 0d 4d 13
>30c1	0e 07				.word PTHENP
>30c3	9b 06			L2:	.word UNNEST
>30c5	08 43 4f 4d		-	.ptext "COMPILE,"
>30c9	50 49 4c 45 2c
>30ce	c5 30				.word -
>30d0	96 30				.word PREVHEADER
=$30c5						PREVHEADER ::= -
>30d2	7f 02			COMPILECOMMA:	.word DODEFER
>30d4	66 2e				.word APPCOMPILECOMMA
>30d6	30 2f			-	.word PREVDEFER
>30d8	66 2e				.word APPCOMPILECOMMA
=$30d6						PREVDEFER ::= -
>30da	81				-	.byte len("(") | $80
>30db	28					.text "("
>30dc	da 30				.word -
>30de	c5 30				.word PREVHEADER
=$30da						PREVHEADER ::= -
>30e0	7f 02			PAREN:	.word DODEFER
>30e2	00 0b				.word UNDERPAREN
>30e4	d6 30			-	.word PREVDEFER
>30e6	00 0b				.word UNDERPAREN
=$30e4						PREVDEFER ::= -
>30e8	81				-	.byte len("\") | $80
>30e9	5c					.text "\"
>30ea	e8 30				.word -
>30ec	da 30				.word PREVHEADER
=$30e8						PREVHEADER ::= -
>30ee	22 02			BACKSLASH:	.word DOCOLON
>30f0	82 25 9f 25			.word SOURCE,TOIN,STORE,DROP,UNNEST
>30f4	bc 10 ea 0d 9b 06
>30fa	06 3f 53 54		-	.ptext "?STACK"
>30fe	41 43 4b
>3101	fa 30				.word -
>3103	e8 30				.word PREVHEADER
=$30fa						PREVHEADER ::= -
>3105	22 02			QSTACK:	.word DOCOLON
>3107	44 10 d3 17			.word DEPTH,ZLESS,THROWSTACKUNDER,QTHROW
>310b	46 22 b1 20
>310f	9b 06				.word UNNEST
>3111	09 28 4e 55		-	.ptext "(NUMBER,)"
>3115	4d 42 45 52 2c 29
>311b	11 31				.word -
>311d	fa 30				.word PREVHEADER
=$3111						PREVHEADER ::= -
>311f	22 02			PNUMBERCOMMAP:	.word DOCOLON
.3121					PNUMBERCOMMPx
>3121	66 28 f0 17			.word DOUBLEQ,ZEQUAL
>3125	dd 06 2d 31			.word QBRANCH,_L1
>3129	ea 0d					.word DROP
>312b	0e 07				.word PTHENP
>312d	e5 3d 23 11		_L1:.word STATE,FETCH
>3131	dd 06 45 31			.word QBRANCH,_L2
>3135	66 28					.word DOUBLEQ
>3137	dd 06 41 31				.word QBRANCH,_L3
>313b	fb 0d 81 2f					.word SWAP,LITERAL
>313f	0e 07					.word PTHENP
>3141	81 2f			_L3:	.word LITERAL
>3143	0e 07				.word PTHENP
>3145	9b 06			_L2:.word UNNEST
>3147	07 4e 55 4d		-	.ptext "NUMBER,"
>314b	42 45 52 2c
>314f	47 31				.word -
>3151	11 31				.word PREVHEADER
=$3147						PREVHEADER ::= -
>3153	7f 02			NUMBERCOMMA:	.word DODEFER
>3155	1f 31				.word PNUMBERCOMMAP
>3157	e4 30			-	.word PREVDEFER
>3159	1f 31				.word PNUMBERCOMMAP
=$3157						PREVDEFER ::= -
>315b	03 28 5b 29		-	.ptext "([)"
>315f	5b 31				.word -
>3161	47 31				.word PREVHEADER
=$315b						PREVHEADER ::= -
>3163	22 02			PLBRACKETP:	.word DOCOLON
>3165	e5 3d bc 11			.word STATE,OFF
>3169	9b 06				.word UNNEST
>316b	81				-	.byte len("[") | $80
>316c	5b					.text "["
>316d	6b 31				.word -
>316f	5b 31				.word PREVHEADER
=$316b						PREVHEADER ::= -
>3171	7f 02			LBRACKET:	.word DODEFER
>3173	63 31				.word PLBRACKETP
>3175	57 31			-	.word PREVDEFER
>3177	63 31				.word PLBRACKETP
=$3175						PREVDEFER ::= -
>3179	03 28 5d 29		-	.ptext "(])"
>317d	79 31				.word -
>317f	6b 31				.word PREVHEADER
=$3179						PREVHEADER ::= -
>3181	22 02			PRBRACKETP:	.word DOCOLON
>3183	e5 3d a4 11			.word STATE,ON
>3187	9b 06				.word UNNEST
>3189	01 5d			-	.ptext "]"
>318b	89 31				.word -
>318d	79 31				.word PREVHEADER
=$3189						PREVHEADER ::= -
>318f	7f 02			RBRACKET:	.word DODEFER
>3191	81 31				.word PRBRACKETP
>3193	75 31			-	.word PREVDEFER
>3195	81 31				.word PRBRACKETP
=$3193						PREVDEFER ::= -
>3197	05 41 4c 49		-	.ptext "ALIGN"
>319b	47 4e
>319d	97 31				.word -
>319f	89 31				.word PREVHEADER
=$3197						PREVHEADER ::= -
>31a1	7f 02			ALIGN:	.word DODEFER
>31a3	84 0a				.word NOOP
>31a5	93 31			-	.word PREVDEFER
>31a7	84 0a				.word NOOP
=$31a5						PREVDEFER ::= -
>31a9	07 28 41 4c		-	.ptext "(ALLOT)"
>31ad	4c 4f 54 29
>31b1	a9 31				.word -
>31b3	97 31				.word PREVHEADER
=$31a9						PREVHEADER ::= -
>31b5	22 02			PALLOTP:	.word DOCOLON
>31b7	28 2e d8 10			.word DP,PLUSSTORE
>31bb	9b 06				.word UNNEST
>31bd	05 41 4c 4c		-	.ptext "ALLOT"
>31c1	4f 54
>31c3	bd 31				.word -
>31c5	a9 31				.word PREVHEADER
=$31bd						PREVHEADER ::= -
>31c7	7f 02			ALLOT:	.word DODEFER
>31c9	b5 31				.word PALLOTP
>31cb	a5 31			-	.word PREVDEFER
>31cd	b5 31				.word PALLOTP
=$31cb						PREVDEFER ::= -
>31cf	07 3f 4d 45		-	.ptext "?MEMCHK"
>31d3	4d 43 48 4b
>31d7	cf 31				.word -
>31d9	bd 31				.word PREVHEADER
=$31cf						PREVHEADER ::= -
>31db	22 02			QMEMCHK:	.word DOCOLON
>31dd	20 1c 4d 2e			.word ZMAX,HERE,PLUS,TOPOFMEM,ONEMINUS,UGREATER
>31e1	b1 15 2c 05 b0 16 74 18
>31e9	16 22 b1 20			.word THROWOUTOFMEM,QTHROW,UNNEST
>31ed	9b 06
>31ef	04 4c 41 53		-	.ptext "LAST"
>31f3	54
>31f4	ef 31				.word -
>31f6	cf 31				.word PREVHEADER
=$31ef						PREVHEADER ::= -
>31f8	39 02			LAST:	.word DOVAR
>31fa	ac 4a				.word COLDNFA
>31fc	0a 44 45 46		-	.ptext "DEFER-LIST"
>3200	45 52 2d 4c 49 53 54
>3207	fc 31				.word -
>3209	ef 31				.word PREVHEADER
=$31fc						PREVHEADER ::= -
>320b	39 02			DEFERLIST:	.word DOVAR
>320d	cb 31				.word PREVDEFER
>320f	06 28 48 49		-	.ptext "(HIDE)"
>3213	44 45 29
>3216	0f 32				.word -
>3218	fc 31				.word PREVHEADER
=$320f						PREVHEADER ::= -
>321a	22 02			PHIDEP:	.word DOCOLON
>321c	f8 31 23 11			.word LAST,FETCH,NTOLINK,FETCH,CURRENT,FETCH,STORE
>3220	25 2a 23 11 46 2b 23 11 bc 10
>322a	9b 06				.word UNNEST
>322c	04 48 49 44		-	.ptext "HIDE"
>3230	45
>3231	2c 32				.word -
>3233	0f 32				.word PREVHEADER
=$322c						PREVHEADER ::= -
>3235	7f 02			HIDE:	.word DODEFER
>3237	1a 32				.word PHIDEP
>3239	cb 31			-	.word PREVDEFER
>323b	1a 32				.word PHIDEP
=$3239						PREVDEFER ::= -
>323d	08 28 52 45		-	.ptext "(REVEAL)"
>3241	56 45 41 4c 29
>3246	3d 32				.word -
>3248	2c 32				.word PREVHEADER
=$323d						PREVHEADER ::= -
>324a	22 02			PREVEALP:	.word DOCOLON
>324c	f8 31 23 11			.word LAST,FETCH,CURRENT,FETCH,STORE
>3250	46 2b 23 11 bc 10
>3256	9b 06				.word UNNEST
>3258	06 52 45 56		-	.ptext "REVEAL"
>325c	45 41 4c
>325f	58 32				.word -
>3261	3d 32				.word PREVHEADER
=$3258						PREVHEADER ::= -
>3263	7f 02			REVEAL:	.word DODEFER
>3265	4a 32				.word PREVEALP
>3267	39 32			-	.word PREVDEFER
>3269	4a 32				.word PREVEALP
=$3267						PREVDEFER ::= -
>326b	06 22 4e 41		-	.ptext '"NAME,'
>326f	4d 45 2c
>3272	6b 32				.word -
>3274	58 32				.word PREVHEADER
=$326b						PREVHEADER ::= -
>3276	22 02			QUOTENAMECOMMA:	.word DOCOLON
>3278	a1 31 c8 04			.word ALIGN,MAXNAMECHARS,MIN,DUP,ZEQUAL,THROWNAMEREQD,QTHROW
>327c	eb 1b bf 0d f0 17 d1 21 b1 20
>3286	95 2d 23 11			.word CAPS,FETCH
>328a	dd 06 94 32			.word QBRANCH,+
>328e	84 0f 05 14			.word	TWODUP,UPPER
>3292	0e 07				.word PTHENP
>3294	4d 2e f0 0c		+	.word HERE,TOR,DUP,CCOMMA,HERE,SWAP,DUP,ALLOT,MOVE,ALIGN
>3298	bf 0d 2c 2f 4d 2e fb 0d bf 0d c7 31 f0 11 a1 31
>32a8	1c 0d 04 2f			.word RFETCH,COMMA,CURRENT,FETCH,FETCH,COMMA
>32ac	46 2b 23 11 23 11 04 2f
>32b4	30 0d f8 31			.word RFROM,LAST,STORE
>32b8	bc 10
>32ba	9b 06				.word UNNEST
>32bc	09 28 22 48		-	.ptext '("HEADER)'
>32c0	45 41 44 45 52 29
>32c6	bc 32				.word -
>32c8	6b 32				.word PREVHEADER
=$32bc						PREVHEADER ::= -
>32ca	22 02			PQUOTEHEADERP:	.word DOCOLON
>32cc	76 32 f8 31			.word QUOTENAMECOMMA,LAST,FETCH,CURRENT,FETCH,STORE
>32d0	23 11 46 2b 23 11 bc 10
>32d8	9b 06				.word UNNEST
>32da	07 22 48 45		-	.ptext '"HEADER'
>32de	41 44 45 52
>32e2	da 32				.word -
>32e4	bc 32				.word PREVHEADER
=$32da						PREVHEADER ::= -
>32e6	7f 02			QUOTEHEADER:	.word DODEFER
>32e8	ca 32				.word PQUOTEHEADERP
>32ea	67 32			-	.word PREVDEFER
>32ec	ca 32				.word PQUOTEHEADERP
=$32ea						PREVDEFER ::= -
>32ee	08 28 48 45		-	.ptext "(HEADER)"
>32f2	41 44 45 52 29
>32f7	ee 32				.word -
>32f9	da 32				.word PREVHEADER
=$32ee						PREVHEADER ::= -
>32fb	22 02			PHEADERP:	.word DOCOLON
>32fd	74 09 64 00			.word LIT,100,QMEMCHK,BL,DOWORD,COUNT,QUOTEHEADER
>3301	db 31 19 05 88 27 4d 13 e6 32
>330b	9b 06				.word UNNEST
>330d	06 48 45 41		-	.ptext "HEADER"
>3311	44 45 52
>3314	0d 33				.word -
>3316	ee 32				.word PREVHEADER
=$330d						PREVHEADER ::= -
>3318	7f 02			HEADER:	.word DODEFER
>331a	fb 32				.word PHEADERP
>331c	ea 32			-	.word PREVDEFER
>331e	fb 32				.word PHEADERP
=$331c						PREVDEFER ::= -
>3320	03 43 53 50		-	.ptext "CSP"
>3324	20 33				.word -
>3326	0d 33				.word PREVHEADER
=$3320						PREVHEADER ::= -
>3328	39 02			CSP:	.word DOVAR
>332a	00 00				.word 0
>332c	04 21 43 53		-	.ptext "!CSP"
>3330	50
>3331	2c 33				.word -
>3333	20 33				.word PREVHEADER
=$332c						PREVHEADER ::= -
>3335	22 02			STORECSP:	.word DOCOLON
>3337	a7 0c 28 33			.word SPFETCH,CSP,STORE
>333b	bc 10
>333d	9b 06				.word UNNEST
>333f	04 3f 43 53		-	.ptext "?CSP"
>3343	50
>3344	3f 33				.word -
>3346	2c 33				.word PREVHEADER
=$333f						PREVHEADER ::= -
>3348	22 02			QCSP:	.word DOCOLON
>334a	a7 0c 28 33			.word SPFETCH,CSP,FETCH,DOXOR,THROWSTACKCHG,QTHROW
>334e	23 11 16 19 2d 22 b1 20
>3356	9b 06				.word UNNEST
>3358	03 28 3a 29		-	.ptext "(:)"
>335c	58 33				.word -
>335e	3f 33				.word PREVHEADER
=$3358						PREVHEADER ::= -
>3360	22 02			PCOLONP:	.word DOCOLON
>3362	18 33 35 32			.word HEADER,HIDE,DOCOLONCON,COMMA,STORECSP,RBRACKET
>3366	3c 05 04 2f 35 33 8f 31
>336e	9b 06				.word UNNEST
>3370	01 3a			-	.ptext ":"
>3372	70 33				.word -
>3374	58 33				.word PREVHEADER
=$3370						PREVHEADER ::= -
>3376	7f 02			COLON:	.word DODEFER
>3378	60 33				.word PCOLONP
>337a	1c 33			-	.word PREVDEFER
>337c	60 33				.word PCOLONP
=$337a						PREVDEFER ::= -
>337e	05 3f 43 4f		-	.ptext "?COMP"
>3382	4d 50
>3384	7e 33				.word -
>3386	70 33				.word PREVHEADER
=$337e						PREVHEADER ::= -
>3388	22 02			QCOMP:	.word DOCOLON
>338a	e5 3d 23 11			.word STATE,FETCH,ZEQUAL,THROWCOMPONLY,QTHROW
>338e	f0 17 01 21 b1 20
>3394	9b 06				.word UNNEST
>3396	05 3f 45 58		-	.ptext "?EXEC"
>339a	45 43
>339c	96 33				.word -
>339e	7e 33				.word PREVHEADER
=$3396						PREVHEADER ::= -
>33a0	22 02			QEXEC:	.word DOCOLON
>33a2	e5 3d 23 11			.word STATE,FETCH,THROWEXECONLY,QTHROW
>33a6	18 21 b1 20
>33aa	9b 06				.word UNNEST
>33ac	09 44 4f 2d		-	.ptext "DO-;CHAIN"
>33b0	3b 43 48 41 49 4e
>33b6	ac 33				.word -
>33b8	96 33				.word PREVHEADER
=$33ac						PREVHEADER ::= -
>33ba	7f 02			DOSEMICHAIN:	.word DODEFER
>33bc	84 0a				.word NOOP
>33be	7a 33			-	.word PREVDEFER
>33c0	84 0a				.word NOOP
=$33be						PREVDEFER ::= -
>33c2	81				-	.byte len(";") | $80
>33c3	3b					.text ";"
>33c4	c2 33				.word -
>33c6	ac 33				.word PREVHEADER
=$33c2						PREVHEADER ::= -
>33c8	22 02			SEMICOLON:	.word DOCOLON
>33ca	88 33 48 33			.word QCOMP,QCSP,REVEAL
>33ce	63 32
>33d0	de 2e 9b 06			.word COMPILE,UNNEST
>33d4	71 31 ba 33			.word LBRACKET,DOSEMICHAIN
>33d8	9b 06				.word UNNEST
>33da	06 43 52 45		-	.ptext "CREATE"
>33de	41 54 45
>33e1	da 33				.word -
>33e3	c2 33				.word PREVHEADER
=$33da						PREVHEADER ::= -
>33e5	22 02			CREATE:	.word DOCOLON
>33e7	18 33 74 09			.word HEADER,LIT,DOVAR,COMMA
>33eb	39 02 04 2f
>33ef	9b 06				.word UNNEST
>33f1	05 40 28 49		-	.ptext "@(IP)"
>33f5	50 29
>33f7	f1 33				.word -
>33f9	da 33				.word PREVHEADER
=$33f1						PREVHEADER ::= -
>33fb	fd 33			FETCHPIPP:	.word +
.33fd					+
.33fd	a0 02				ldy #2
.33ff	b1 02				lda (RP),y
.3401	85 0c				sta GP0
.3403	c8					iny
.3404	b1 02				lda (RP),y
.3406	85 0d				sta GP0+1
.3408	a0 01				ldy #1
.340a	b1 0c				lda (GP0),y
.340c	aa					tax
.340d	b2 0c				lda (GP0)
.340f	20 37 03			jsr dpush
.3412	18					clc
.3413	a5 0c				lda GP0
.3415	69 02				adc #2
.3417	a0 02				ldy #2
.3419	91 02				sta (RP),y
.341b	c8					iny
.341c	a5 0d				lda GP0+1
.341e	69 00				adc #0
.3420	91 02				sta (RP),y
.3422	4c 06 02			jmp NEXT
>3425	08 56 41 52		-	.ptext "VARIABLE"
>3429	49 41 42 4c 45
>342e	25 34				.word -
>3430	f1 33				.word PREVHEADER
=$3425						PREVHEADER ::= -
>3432	22 02			VARIABLE:	.word DOCOLON
>3434	e5 33 d2 04			.word CREATE,ZERO,COMMA
>3438	04 2f
>343a	9b 06				.word UNNEST
>343c	08 43 4f 4e		-	.ptext "CONSTANT"
>3440	53 54 41 4e 54
>3445	3c 34				.word -
>3447	25 34				.word PREVHEADER
=$343c						PREVHEADER ::= -
>3449	22 02			CONSTANT:	.word DOCOLON
>344b	18 33 48 02			.word HEADER,DOCON,COMMA,COMMA
>344f	04 2f 04 2f
>3453	9b 06				.word UNNEST
>3455	08 49 4d 4d		-	.ptext "IMMEDBIT"
>3459	45 44 42 49 54
>345e	55 34				.word -
>3460	3c 34				.word PREVHEADER
=$3455						PREVHEADER ::= -
>3462	48 02			IMMEDBIT:	.word DOCON
>3464	80 00				.word 128
>3466	09 49 4d 4d		-	.ptext "IMMEDIATE"
>346a	45 44 49 41 54 45
>3470	66 34				.word -
>3472	55 34				.word PREVHEADER
=$3466						PREVHEADER ::= -
>3474	22 02			IMMEDIATE:	.word DOCOLON
>3476	62 34 f8 31			.word IMMEDBIT,LAST,FETCH,TOGGLE
>347a	23 11 d7 11
>347e	9b 06				.word UNNEST
>3480	06 3f 50 41		-	.ptext "?PAIRS"
>3484	49 52 53
>3487	80 34				.word -
>3489	66 34				.word PREVHEADER
=$3480						PREVHEADER ::= -
>348b	22 02			QPAIRS:	.word DOCOLON
>348d	16 19 ba 21			.word DOXOR,THROWMISMATCH,QTHROW
>3491	b1 20
>3493	9b 06				.word UNNEST
>3495	05 3e 4d 41		-	.ptext ">MARK"
>3499	52 4b
>349b	95 34				.word -
>349d	80 34				.word PREVHEADER
=$3495						PREVHEADER ::= -
>349f	22 02			FWDMARK:	.word DOCOLON
>34a1	4d 2e d2 04			.word HERE,ZERO,COMMA
>34a5	04 2f
>34a7	9b 06				.word UNNEST
>34a9	08 3e 52 45		-	.ptext ">RESOLVE"
>34ad	53 4f 4c 56 45
>34b2	a9 34				.word -
>34b4	95 34				.word PREVHEADER
=$34a9						PREVHEADER ::= -
>34b6	22 02			FWDRESOLVE:	.word DOCOLON
>34b8	4d 2e fb 0d			.word HERE,SWAP,STORE
>34bc	bc 10
>34be	9b 06				.word UNNEST
>34c0	05 3c 4d 41		-	.ptext "<MARK"
>34c4	52 4b
>34c6	c0 34				.word -
>34c8	a9 34				.word PREVHEADER
=$34c0						PREVHEADER ::= -
>34ca	22 02			BACKMARK:	.word DOCOLON
>34cc	4d 2e				.word HERE
>34ce	9b 06				.word UNNEST
>34d0	08 3c 52 45		-	.ptext "<RESOLVE"
>34d4	53 4f 4c 56 45
>34d9	d0 34				.word -
>34db	c0 34				.word PREVHEADER
=$34d0						PREVHEADER ::= -
>34dd	22 02			BACKRESOLVE:	.word DOCOLON
>34df	04 2f				.word COMMA
>34e1	9b 06				.word UNNEST
>34e3	85				-	.byte len("AHEAD") | $80
>34e4	41 48 45 41			.text "AHEAD"
>34e8	44
>34e9	e3 34				.word -
>34eb	d0 34				.word PREVHEADER
=$34e3						PREVHEADER ::= -
>34ed	22 02			AHEAD:	.word DOCOLON
>34ef	88 33 de 2e			.word QCOMP,COMPILE,BRANCH,FWDMARK,TWO
>34f3	c1 06 9f 34 e6 04
>34f9	9b 06				.word UNNEST
>34fb	82				-	.byte len("IF") | $80
>34fc	49 46				.text "IF"
>34fe	fb 34				.word -
>3500	e3 34				.word PREVHEADER
=$34fb						PREVHEADER ::= -
>3502	22 02			IF:	.word DOCOLON
>3504	88 33 de 2e			.word QCOMP,COMPILE,QBRANCH,FWDMARK,TWO
>3508	dd 06 9f 34 e6 04
>350e	9b 06				.word UNNEST
>3510	84				-	.byte len("THEN") | $80
>3511	54 48 45 4e			.text "THEN"
>3515	10 35				.word -
>3517	fb 34				.word PREVHEADER
=$3510						PREVHEADER ::= -
>3519	22 02			THEN:	.word DOCOLON
>351b	88 33 e6 04			.word QCOMP,TWO,QPAIRS,COMPILE,PTHENP,FWDRESOLVE
>351f	8b 34 de 2e 0e 07 b6 34
>3527	9b 06				.word UNNEST
>3529	85				-	.byte len("ENDIF") | $80
>352a	45 4e 44 49			.text "ENDIF"
>352e	46
>352f	29 35				.word -
>3531	10 35				.word PREVHEADER
=$3529						PREVHEADER ::= -
>3533	22 02			ENDIF:	.word DOCOLON
>3535	88 33 e6 04			.word QCOMP,TWO,QPAIRS,COMPILE,PTHENP,FWDRESOLVE
>3539	8b 34 de 2e 0e 07 b6 34
>3541	9b 06				.word UNNEST
>3543	84				-	.byte len("ELSE") | $80
>3544	45 4c 53 45			.text "ELSE"
>3548	43 35				.word -
>354a	29 35				.word PREVHEADER
=$3543						PREVHEADER ::= -
>354c	22 02			ELSE:	.word DOCOLON
>354e	88 33 e6 04			.word QCOMP,TWO,QPAIRS,COMPILE,BRANCH,FWDMARK,SWAP,FWDRESOLVE,TWO
>3552	8b 34 de 2e c1 06 9f 34 fb 0d b6 34 e6 04
>3560	9b 06				.word UNNEST
>3562	85				-	.byte len("BEGIN") | $80
>3563	42 45 47 49			.text "BEGIN"
>3567	4e
>3568	62 35				.word -
>356a	43 35				.word PREVHEADER
=$3562						PREVHEADER ::= -
>356c	22 02			BEGIN:	.word DOCOLON
>356e	88 33 de 2e			.word QCOMP,COMPILE,PBEGINP,BACKMARK,ONE
>3572	fe 06 ca 34 dc 04
>3578	9b 06				.word UNNEST
>357a	85				-	.byte len("UNTIL") | $80
>357b	55 4e 54 49			.text "UNTIL"
>357f	4c
>3580	7a 35				.word -
>3582	62 35				.word PREVHEADER
=$357a						PREVHEADER ::= -
>3584	22 02			UNTIL:	.word DOCOLON
>3586	88 33 dc 04			.word QCOMP,ONE,QPAIRS,COMPILE,PUNTILP,BACKRESOLVE
>358a	8b 34 de 2e 1f 07 dd 34
>3592	9b 06				.word UNNEST
>3594	85				-	.byte len("WHILE") | $80
>3595	57 48 49 4c			.text "WHILE"
>3599	45
>359a	94 35				.word -
>359c	7a 35				.word PREVHEADER
=$3594						PREVHEADER ::= -
>359e	22 02			WHILE:	.word DOCOLON
>35a0	88 33 de 2e			.word QCOMP,COMPILE,PWHILEP,FWDMARK,TWO,TWOSWAP
>35a4	41 07 9f 34 e6 04 e2 0f
>35ac	9b 06				.word UNNEST
>35ae	86				-	.byte len("REPEAT") | $80
>35af	52 45 50 45			.text "REPEAT"
>35b3	41 54
>35b5	ae 35				.word -
>35b7	94 35				.word PREVHEADER
=$35ae						PREVHEADER ::= -
>35b9	22 02			REPEAT:	.word DOCOLON
>35bb	88 33 dc 04			.word QCOMP,ONE,QPAIRS,COMPILE,PREPEATP,BACKRESOLVE,TWO,QPAIRS,FWDRESOLVE
>35bf	8b 34 de 2e 53 07 dd 34 e6 04 8b 34 b6 34
>35cd	9b 06				.word UNNEST
>35cf	82				-	.byte len("DO") | $80
>35d0	44 4f				.text "DO"
>35d2	cf 35				.word -
>35d4	ae 35				.word PREVHEADER
=$35cf						PREVHEADER ::= -
>35d6	22 02			DO:	.word DOCOLON
>35d8	88 33 de 2e			.word QCOMP,COMPILE,PDOP,FWDMARK,LIT,3
>35dc	61 08 9f 34 74 09 03 00
>35e4	9b 06				.word UNNEST
>35e6	84				-	.byte len("LOOP") | $80
>35e7	4c 4f 4f 50			.text "LOOP"
>35eb	e6 35				.word -
>35ed	cf 35				.word PREVHEADER
=$35e6						PREVHEADER ::= -
>35ef	22 02			LOOP:	.word DOCOLON
>35f1	88 33 74 09			.word QCOMP,LIT,3,QPAIRS,COMPILE,PLOOPP,DUP,CELLPLUS,BACKRESOLVE,FWDRESOLVE
>35f5	03 00 8b 34 de 2e da 07 bf 0d 32 1c dd 34 b6 34
>3605	9b 06				.word UNNEST
>3607	85				-	.byte len("+LOOP") | $80
>3608	2b 4c 4f 4f			.text "+LOOP"
>360c	50
>360d	07 36				.word -
>360f	e6 35				.word PREVHEADER
=$3607						PREVHEADER ::= -
>3611	22 02			PLUSLOOP:	.word DOCOLON
>3613	88 33 74 09			.word QCOMP,LIT,3,QPAIRS,COMPILE,PPLUSLOOPP,DUP,CELLPLUS,BACKRESOLVE,FWDRESOLVE
>3617	03 00 8b 34 de 2e 1e 08 bf 0d 32 1c dd 34 b6 34
>3627	9b 06				.word UNNEST
>3629	84				-	.byte len("EXIT") | $80
>362a	45 58 49 54			.text "EXIT"
>362e	29 36				.word -
>3630	07 36				.word PREVHEADER
=$3629						PREVHEADER ::= -
>3632	22 02			EXIT:	.word DOCOLON
>3634	88 33 de 2e			.word QCOMP,COMPILE,PEXITP
>3638	b2 06
>363a	9b 06				.word UNNEST
>363c	87				-	.byte len("RECURSE") | $80
>363d	52 45 43 55			.text "RECURSE"
>3641	52 53 45
>3644	3c 36				.word -
>3646	29 36				.word PREVHEADER
=$363c						PREVHEADER ::= -
>3648	22 02			RECURSE:	.word DOCOLON
>364a	88 33 f8 31			.word QCOMP,LAST,FETCH,NAMETO,COMPILECOMMA
>364e	23 11 58 2a d2 30
>3654	9b 06				.word UNNEST
>3656	03 3e 49 53		-	.ptext ">IS"
>365a	56 36				.word -
>365c	3c 36				.word PREVHEADER
=$3656						PREVHEADER ::= -
>365e	22 02			TOIS:	.word DOCOLON
>3660	32 1c				.word CELLPLUS
>3662	9b 06				.word UNNEST
>3664	04 28 49 53		-	.ptext "(IS)"
>3668	29
>3669	64 36				.word -
>366b	56 36				.word PREVHEADER
=$3664						PREVHEADER ::= -
>366d	22 02			PISP:	.word DOCOLON
>366f	fb 33 5e 36			.word FETCHPIPP,TOIS,STORE
>3673	bc 10
>3675	9b 06				.word UNNEST
>3677	03 3f 49 53		-	.ptext "?IS"
>367b	77 36				.word -
>367d	64 36				.word PREVHEADER
=$3677						PREVHEADER ::= -
>367f	22 02			QIS:	.word DOCOLON
>3681	bf 0d 23 11			.word DUP,FETCH,DODEFERCON,NOTEQUAL,THROWNOTDEFER,QTHROW
>3685	86 05 c4 17 e8 21 b1 20
>368d	9b 06				.word UNNEST
>368f	82				-	.byte len("IS") | $80
>3690	49 53				.text "IS"
>3692	8f 36				.word -
>3694	77 36				.word PREVHEADER
=$368f						PREVHEADER ::= -
>3696	22 02			IS:	.word DOCOLON
>3698	e5 3d 23 11			.word STATE,FETCH
>369c	dd 06 ae 36			.word QBRANCH,+
>36a0	de 2e 6d 36			.word	COMPILE,PISP,TICK,QIS,COMMA
>36a4	17 2e 7f 36 04 2f
>36aa	c1 06 b8 36			.word BRANCH,++
>36ae	17 2e 7f 36		+	.word	TICK,QIS,TOIS,STORE
>36b2	5e 36 bc 10
>36b6	0e 07				.word PTHENP
>36b8	9b 06			+	.word UNNEST
>36ba	05 43 41 4c		-	.ptext "CALL,"
>36be	4c 2c
>36c0	ba 36				.word -
>36c2	8f 36				.word PREVHEADER
=$36ba						PREVHEADER ::= -
>36c4	22 02			CALLCOMMA:	.word DOCOLON
>36c6	74 09 ea 20			.word LIT,$20EA,COMMA,COMMA
>36ca	04 2f 04 2f
>36ce	9b 06				.word UNNEST
>36d0	07 28 3b 43		-	.ptext "(;CODE)"
>36d4	4f 44 45 29
>36d8	d0 36				.word -
>36da	ba 36				.word PREVHEADER
=$36d0						PREVHEADER ::= -
>36dc	22 02			PSEMICODEP:	.word DOCOLON
>36de	30 0d f8 31			.word RFROM,LAST,FETCH,NAMETO,STORE
>36e2	23 11 58 2a bc 10
>36e8	9b 06				.word UNNEST
>36ea	85				-	.byte len("DOES>") | $80
>36eb	44 4f 45 53			.text "DOES>"
>36ef	3e
>36f0	ea 36				.word -
>36f2	d0 36				.word PREVHEADER
=$36ea						PREVHEADER ::= -
>36f4	22 02			DOES:	.word DOCOLON
>36f6	88 33 de 2e			.word QCOMP,COMPILE,PSEMICODEP,DODOESCON,CALLCOMMA
>36fa	dc 36 76 05 c4 36
>3700	9b 06				.word UNNEST
>3702	88				-	.byte len("POSTPONE") | $80
>3703	50 4f 53 54			.text "POSTPONE"
>3707	50 4f 4e 45
>370b	02 37				.word -
>370d	ea 36				.word PREVHEADER
=$3702						PREVHEADER ::= -
>370f	22 02			POSTPONE:	.word DOCOLON
>3711	07 2e bf 0d			.word DEFINED,DUP,ZEQUAL,QMISSING,ZLESS
>3715	f0 17 bb 29 d3 17
>371b	dd 06 25 37			.word QBRANCH,+
>371f	de 2e de 2e			.word	COMPILE,COMPILE
>3723	0e 07				.word PTHENP
>3725	d2 30			+	.word COMPILECOMMA
>3727	9b 06				.word UNNEST
>3729	83				-	.byte len("[']") | $80
>372a	5b 27 5d			.text "[']"
>372d	29 37				.word -
>372f	02 37				.word PREVHEADER
=$3729						PREVHEADER ::= -
>3731	22 02			BTICKB:	.word DOCOLON
>3733	17 2e 81 2f			.word TICK,LITERAL
>3737	9b 06				.word UNNEST
>3739	04 43 48 41		-	.ptext "CHAR"
>373d	52
>373e	39 37				.word -
>3740	29 37				.word PREVHEADER
=$3739						PREVHEADER ::= -
>3742	22 02			DOCHAR:	.word DOCOLON
>3744	19 05 88 27			.word BL,DOWORD,ONEPLUS,CFETCH
>3748	74 16 47 11
>374c	9b 06				.word UNNEST
>374e	86				-	.byte len("[CHAR]") | $80
>374f	5b 43 48 41			.text "[CHAR]"
>3753	52 5d
>3755	4e 37				.word -
>3757	39 37				.word PREVHEADER
=$374e						PREVHEADER ::= -
>3759	22 02			BCHARB:	.word DOCOLON
>375b	42 37 81 2f			.word DOCHAR,LITERAL
>375f	9b 06				.word UNNEST
>3761	82				-	.byte len('."') | $80
>3762	2e 22				.text '."'
>3764	61 37				.word -
>3766	4e 37				.word PREVHEADER
=$3761						PREVHEADER ::= -
>3768	22 02			DOTQUOTE:	.word DOCOLON
>376a	de 2e de 0a			.word COMPILE,PDOTQUOTEP,COMMAQUOTE
>376e	55 2f
>3770	9b 06				.word UNNEST
>3772	05 44 45 46		-	.ptext "DEFER"
>3776	45 52
>3778	72 37				.word -
>377a	61 37				.word PREVHEADER
=$3772						PREVHEADER ::= -
>377c	22 02			DEFER:	.word DOCOLON
>377e	18 33 86 05			.word HEADER,DODEFERCON,COMMA,COMPILE,NOOP,DEFERLIST,LINKCOMMA,COMPILE,NOOP
>3782	04 2f de 2e 84 0a 0b 32 3e 2f de 2e 84 0a
>3790	9b 06				.word UNNEST
>3792	08 28 41 42		-	.ptext '(ABORT")'
>3796	4f 52 54 22 29
>379b	92 37				.word -
>379d	72 37				.word PREVHEADER
=$3792						PREVHEADER ::= -
>379f	22 02			PABORTQP:	.word DOCOLON
>37a1	ae 0a fb 0d			.word PPQUOTEPP,SWAP
>37a5	dd 06 b3 37			.word QBRANCH,+
>37a9	2f 24 bc 10			.word	MSG,STORE,THROWABORTQ,THROW
>37ad	ea 20 7c 20
>37b1	0e 07				.word PTHENP
>37b3	ea 0d			+	.word DROP
>37b5	9b 06				.word UNNEST
>37b7	05 41 42 4f		-	.ptext "ABORT"
>37bb	52 54
>37bd	b7 37				.word -
>37bf	92 37				.word PREVHEADER
=$37b7						PREVHEADER ::= -
>37c1	22 02			ABORT:	.word DOCOLON
>37c3	d5 20 7c 20			.word THROWABORT,THROW
>37c7	9b 06				.word UNNEST
>37c9	86				-	.byte len('ABORT"') | $80
>37ca	41 42 4f 52			.text 'ABORT"'
>37ce	54 22
>37d0	c9 37				.word -
>37d2	b7 37				.word PREVHEADER
=$37c9						PREVHEADER ::= -
>37d4	22 02			ABORTQ:	.word DOCOLON
>37d6	de 2e 9f 37			.word COMPILE,PABORTQP,COMMAQUOTE
>37da	55 2f
>37dc	9b 06				.word UNNEST
>37de	09 3f 54 4f		-	.ptext "?TO_CHECK"
>37e2	5f 43 48 45 43 4b
>37e8	de 37				.word -
>37ea	c9 37				.word PREVHEADER
=$37de						PREVHEADER ::= -
>37ec	22 02			QTOCHECK:	.word DOCOLON
>37ee	bf 0d 23 11			.word DUP,FETCH,TOR,TOBODY,DUP,CELLPLUS,FETCH,LIT,$FFFF,EQUAL
>37f2	f0 0c 92 2a bf 0d 32 1c 23 11 74 09 ff ff 98 17
>3802	1c 0d 58 05			.word RFETCH,DOCONCON,EQUAL,DOOR
>3806	98 17 fa 18
>380a	1c 0d 3c 05			.word RFETCH,DOCOLONCON,EQUAL,DOOR
>380e	98 17 fa 18
>3812	1c 0d 4a 05			.word RFETCH,DOVARCON,EQUAL,DOOR
>3816	98 17 fa 18
>381a	30 0d 86 05			.word RFROM,DODEFERCON,EQUAL,DOOR
>381e	98 17 fa 18
>3822	ff 21 b1 20			.word THROWNOTVALUE,QTHROW
>3826	9b 06				.word UNNEST
>3828	0a 54 4f 43		-	.ptext "TOCOMPEXEC"
>382c	4f 4d 50 45 58 45 43
>3833	28 38				.word -
>3835	de 37				.word PREVHEADER
=$3828						PREVHEADER ::= -
>3837	22 02			TOCOMPEXEC:	.word DOCOLON
>3839	17 2e ec 37			.word TICK,QTOCHECK,PLUS,STATE,FETCH
>383d	b1 15 e5 3d 23 11
>3843	dd 06 4d 38			.word QBRANCH,+
>3847	d2 30				.word	COMPILECOMMA
>3849	c1 06 51 38			.word BRANCH,++
>384d	b0 09			+	.word	EXECUTE
>384f	0e 07				.word PTHENP
>3851	9b 06			+	.word UNNEST
>3853	82				-	.byte len("TO") | $80
>3854	54 4f				.text "TO"
>3856	53 38				.word -
>3858	28 38				.word PREVHEADER
=$3853						PREVHEADER ::= -
>385a	22 02			TO:	.word DOCOLON
>385c	0e 05 37 38			.word CELL,TOCOMPEXEC
>3860	9b 06				.word UNNEST
>3862	83				-	.byte len("+TO") | $80
>3863	2b 54 4f			.text "+TO"
>3866	62 38				.word -
>3868	53 38				.word PREVHEADER
=$3862						PREVHEADER ::= -
>386a	22 02			PLUSTO:	.word DOCOLON
>386c	e6 04 56 1c			.word TWO,CELLS,TOCOMPEXEC
>3870	37 38
>3872	9b 06				.word UNNEST
>3874	07 41 4c 49		-	.ptext "ALIGNED"
>3878	47 4e 45 44
>387c	74 38				.word -
>387e	62 38				.word PREVHEADER
=$3874						PREVHEADER ::= -
>3880	7f 02			ALIGNED:	.word DODEFER
>3882	84 0a				.word NOOP
>3884	be 33			-	.word PREVDEFER
>3886	84 0a				.word NOOP
=$3884						PREVDEFER ::= -
>3888	0b 5f 53 41		-	.ptext "_SAVE-INPUT"
>388c	56 45 2d 49 4e 50 55 54
>3894	88 38				.word -
>3896	74 38				.word PREVHEADER
=$3888						PREVHEADER ::= -
>3898	22 02			USAVEINPUT:	.word DOCOLON
>389a	9f 25 23 11			.word TOIN,FETCH,SOURCEPOSITION,SOURCEID,SOURCE,LIT,5
>389e	cd 25 b1 25 82 25 74 09 05 00
>38a8	9b 06				.word UNNEST
>38aa	0e 5f 52 45		-	.ptext "_RESTORE-INPUT"
>38ae	53 54 4f 52 45 2d 49 4e 50 55 54
>38b9	aa 38				.word -
>38bb	88 38				.word PREVHEADER
=$38aa						PREVHEADER ::= -
>38bd	22 02			URESTOREINPUT:	.word DOCOLON
>38bf	74 09 05 00			.word LIT,5,QPAIRS
>38c3	8b 34
>38c5	71 25 5a 11			.word PSOURCEP,TWOSTORE,SOURCEID+4,SOURCEPOSITION+4,TOIN,STORE,ZERO
>38c9	b5 25 d1 25 9f 25 bc 10 d2 04
>38d3	9b 06				.word UNNEST
>38d5	0a 53 41 56		-	.ptext "SAVE-INPUT"
>38d9	45 2d 49 4e 50 55 54
>38e0	d5 38				.word -
>38e2	aa 38				.word PREVHEADER
=$38d5						PREVHEADER ::= -
>38e4	7f 02			SAVEINPUT:	.word DODEFER
>38e6	98 38				.word USAVEINPUT
>38e8	84 38			-	.word PREVDEFER
>38ea	98 38				.word USAVEINPUT
=$38e8						PREVDEFER ::= -
>38ec	0d 52 45 53		-	.ptext "RESTORE-INPUT"
>38f0	54 4f 52 45 2d 49 4e 50 55 54
>38fa	ec 38				.word -
>38fc	d5 38				.word PREVHEADER
=$38ec						PREVHEADER ::= -
>38fe	7f 02			RESTOREINPUT:	.word DODEFER
>3900	bd 38				.word URESTOREINPUT
>3902	e8 38			-	.word PREVDEFER
>3904	bd 38				.word URESTOREINPUT
=$3902						PREVDEFER ::= -
>3906	08 45 56 41		-	.ptext "EVALUATE"
>390a	4c 55 41 54 45
>390f	06 39				.word -
>3911	ec 38				.word PREVHEADER
=$3906						PREVHEADER ::= -
>3913	22 02			EVALUATE:	.word DOCOLON
>3915	e4 38 e6 25			.word SAVEINPUT,PSAVEINPUTP
>3919	71 25 5a 11			.word PSOURCEP,TWOSTORE,TOIN,OFF,LIT,$FFFF,SOURCEID+4,ZERO,SOURCEPOSITION+4
>391d	9f 25 bc 11 74 09 ff ff b5 25 d2 04 d1 25
>392b	74 09 78 3e			.word LIT,INTERPRET,CATCH,DUP
>392f	46 20 bf 0d
>3933	dd 06 3f 39			.word QBRANCH,+
>3937	9f 25 23 11			.word	TOIN,FETCH,SWAP
>393b	fb 0d
>393d	0e 07				.word PTHENP
>393f	23 26 fe 38		+	.word PRESTOREINPUTP,RESTOREINPUT,DROP,DUP
>3943	ea 0d bf 0d
>3947	dd 06 53 39			.word QBRANCH,+
>394b	fb 0d 9f 25			.word	SWAP,TOIN,STORE
>394f	bc 10
>3951	0e 07				.word PTHENP
>3953	7c 20			+	.word THROW
>3955	9b 06				.word UNNEST
>3957	07 3a 4e 4f		-	.ptext ":NONAME"
>395b	4e 41 4d 45
>395f	57 39				.word -
>3961	06 39				.word PREVHEADER
=$3957						PREVHEADER ::= -
>3963	22 02			NONAME:	.word DOCOLON
>3965	a1 31 4d 2e			.word ALIGN,HERE,DOCOLONCON,COMMA,STORECSP,RBRACKET
>3969	3c 05 04 2f 35 33 8f 31
>3971	9b 06				.word UNNEST
>3973	83				-	.byte len("?DO") | $80
>3974	3f 44 4f			.text "?DO"
>3977	73 39				.word -
>3979	57 39				.word PREVHEADER
=$3973						PREVHEADER ::= -
>397b	22 02			QDO:	.word DOCOLON
>397d	88 33 de 2e			.word QCOMP,COMPILE,PQDOP,FWDMARK,LIT,3
>3981	a0 08 9f 34 74 09 03 00
>3989	9b 06				.word UNNEST
>398b	85				-	.byte len("AGAIN") | $80
>398c	41 47 41 49			.text "AGAIN"
>3990	4e
>3991	8b 39				.word -
>3993	73 39				.word PREVHEADER
=$398b						PREVHEADER ::= -
>3995	22 02			AGAIN:	.word DOCOLON
>3997	88 33 dc 04			.word QCOMP,ONE,QPAIRS,COMPILE,PAGAINP,BACKRESOLVE
>399b	8b 34 de 2e 30 07 dd 34
>39a3	9b 06				.word UNNEST
>39a5	84				-	.byte len("CASE") | $80
>39a6	43 41 53 45			.text "CASE"
>39aa	a5 39				.word -
>39ac	8b 39				.word PREVHEADER
=$39a5						PREVHEADER ::= -
>39ae	22 02			CASE:	.word DOCOLON
>39b0	88 33 de 2e			.word QCOMP,COMPILE,PCASEP,ZERO
>39b4	63 07 d2 04
>39b8	9b 06				.word UNNEST
>39ba	82				-	.byte len("OF") | $80
>39bb	4f 46				.text "OF"
>39bd	ba 39				.word -
>39bf	a5 39				.word PREVHEADER
=$39ba						PREVHEADER ::= -
>39c1	22 02			OF:	.word DOCOLON
>39c3	88 33 de 2e			.word QCOMP,COMPILE,POFP,FWDMARK,LIT,4
>39c7	71 07 9f 34 74 09 04 00
>39cf	9b 06				.word UNNEST
>39d1	85				-	.byte len("ENDOF") | $80
>39d2	45 4e 44 4f			.text "ENDOF"
>39d6	46
>39d7	d1 39				.word -
>39d9	ba 39				.word PREVHEADER
=$39d1						PREVHEADER ::= -
>39db	22 02			ENDOF:	.word DOCOLON
>39dd	88 33 74 09			.word QCOMP,LIT,4,QPAIRS,COMPILE,PENDOFP,FWDMARK,SWAP,FWDRESOLVE
>39e1	04 00 8b 34 de 2e a6 07 9f 34 fb 0d b6 34
>39ef	74 09 05 00			.word LIT,5
>39f3	9b 06				.word UNNEST
>39f5	87				-	.byte len("ENDCASE") | $80
>39f6	45 4e 44 43			.text "ENDCASE"
>39fa	41 53 45
>39fd	f5 39				.word -
>39ff	d1 39				.word PREVHEADER
=$39f5						PREVHEADER ::= -
>3a01	22 02			ENDCASE:	.word DOCOLON
>3a03	88 33 de 2e			.word QCOMP,COMPILE,PENDCASEP
>3a07	c7 07
>3a09	fe 06				.word PBEGINP
>3a0b	d0 0d			-	.word	QDUP
>3a0d	41 07 1d 3a			.word PWHILEP,+
>3a11	74 09 05 00			.word	LIT,5,QPAIRS,FWDRESOLVE
>3a15	8b 34 b6 34
>3a19	53 07 0b 3a			.word PREPEATP,-
>3a1d	9b 06			+	.word UNNEST
>3a1f	05 45 52 41		-	.ptext "ERASE"
>3a23	53 45
>3a25	1f 3a				.word -
>3a27	f5 39				.word PREVHEADER
=$3a1f						PREVHEADER ::= -
>3a29	22 02			ERASE:	.word DOCOLON
>3a2b	d2 04 9f 12			.word ZERO,FILL
>3a2f	9b 06				.word UNNEST
>3a31	05 56 41 4c		-	.ptext "VALUE"
>3a35	55 45
>3a37	31 3a				.word -
>3a39	1f 3a				.word PREVHEADER
=$3a31						PREVHEADER ::= -
>3a3b	22 02			VALUE:	.word DOCOLON
>3a3d	18 33 96 05			.word HEADER,DOVALUECON,COMMA,COMMA,DOVALUESTORECON,COMMA,DOVALUEPSTORECON,COMMA
>3a41	04 2f 04 2f a7 05 04 2f b9 05 04 2f
>3a4d	9b 06				.word UNNEST
>3a4f	89				-	.byte len("[COMPILE]") | $80
>3a50	5b 43 4f 4d			.text "[COMPILE]"
>3a54	50 49 4c 45 5d
>3a59	4f 3a				.word -
>3a5b	31 3a				.word PREVHEADER
=$3a4f						PREVHEADER ::= -
>3a5d	22 02			BCOMPILEB:	.word DOCOLON
>3a5f	17 2e d2 30			.word TICK,COMPILECOMMA
>3a63	9b 06				.word UNNEST
>3a65	85				-	.byte len("?EXIT") | $80
>3a66	3f 45 58 49			.text "?EXIT"
>3a6a	54
>3a6b	65 3a				.word -
>3a6d	4f 3a				.word PREVHEADER
=$3a65						PREVHEADER ::= -
>3a6f	22 02			QEXIT:	.word DOCOLON
>3a71	88 33 de 2e			.word QCOMP,COMPILE,QBRANCH,FWDMARK
>3a75	dd 06 9f 34
>3a79	32 36 de 2e			.word EXIT,COMPILE,PTHENP,FWDRESOLVE
>3a7d	0e 07 b6 34
>3a81	9b 06				.word UNNEST
>3a83	03 44 2e 52		-	.ptext "D.R"
>3a87	83 3a				.word -
>3a89	65 3a				.word PREVHEADER
=$3a83						PREVHEADER ::= -
>3a8b	22 02			DDOTR:	.word DOCOLON
>3a8d	f0 0c 47 0c			.word TOR,PDDOTP,RFROM,OVER,MINUS,SPACES,DOTYPE
>3a91	30 0d 33 0e 10 16 a1 1f 37 1d
>3a9b	9b 06				.word UNNEST
>3a9d	02 2e 52		-	.ptext ".R"
>3aa0	9d 3a				.word -
>3aa2	83 3a				.word PREVHEADER
=$3a9d						PREVHEADER ::= -
>3aa4	22 02			DOTR:	.word DOCOLON
>3aa6	f0 0c 55 1b			.word TOR,STOD,RFROM,DDOTR
>3aaa	30 0d 8b 3a
>3aae	9b 06				.word UNNEST
>3ab0	03 55 2e 52		-	.ptext "U.R"
>3ab4	b0 3a				.word -
>3ab6	9d 3a				.word PREVHEADER
=$3ab0						PREVHEADER ::= -
>3ab8	22 02			UDOTR:	.word DOCOLON
>3aba	d2 04 fb 0d			.word ZERO,SWAP,DDOTR
>3abe	8b 3a
>3ac0	9b 06				.word UNNEST
>3ac2	02 48 2e		-	.ptext "H."
>3ac5	c2 3a				.word -
>3ac7	b0 3a				.word PREVHEADER
=$3ac2						PREVHEADER ::= -
>3ac9	22 02			HDOT:	.word DOCOLON
>3acb	13 28 23 11			.word BASE,FETCH,SWAP,HEX,UDOT,BASE,STORE
>3acf	fb 0d 37 28 7f 0c 13 28 bc 10
>3ad9	9b 06				.word UNNEST
>3adb	01 3f			-	.ptext "?"
>3add	db 3a				.word -
>3adf	c2 3a				.word PREVHEADER
=$3adb						PREVHEADER ::= -
>3ae1	22 02			QUESTION:	.word DOCOLON
>3ae3	23 11 5f 0c			.word FETCH,DOT
>3ae7	9b 06				.word UNNEST
>3ae9	03 48 2e 52		-	.ptext "H.R"
>3aed	e9 3a				.word -
>3aef	db 3a				.word PREVHEADER
=$3ae9						PREVHEADER ::= -
>3af1	22 02			HDOTR:	.word DOCOLON
>3af3	13 28 23 11			.word BASE,FETCH,TOR,HEX,TOR,ZERO,BEGNUMBER,NUMBERSIGNS,NUMBEREND
>3af7	f0 0c 37 28 f0 0c d2 04 ea 0b 15 0c 2e 0c
>3b05	30 0d 33 0e			.word RFROM,OVER,MINUS,SPACES,DOTYPE,RFROM,BASE,STORE
>3b09	10 16 a1 1f 37 1d 30 0d 13 28 bc 10
>3b15	9b 06				.word UNNEST
>3b17	03 48 2e 4e		-	.ptext "H.N"
>3b1b	17 3b				.word -
>3b1d	e9 3a				.word PREVHEADER
=$3b17						PREVHEADER ::= -
>3b1f	22 02			HDOTN:	.word DOCOLON
>3b21	13 28 23 11			.word BASE,FETCH,TOR,HEX
>3b25	f0 0c 37 28
>3b29	f0 0c d2 04			.word TOR,ZERO,BEGNUMBER,RFROM,ZERO
>3b2d	ea 0b 30 0d d2 04
>3b33	a0 08 3d 3b			.word PQDOP,+
>3b37	fa 0b			-	.word	NUMBERSIGN
>3b39	da 07 37 3b			.word PLOOPP,-
>3b3d	2e 0c 37 1d		+	.word NUMBEREND,DOTYPE,RFROM,BASE,STORE
>3b41	30 0d 13 28 bc 10
>3b47	9b 06				.word UNNEST
>3b49	03 48 2e 32		-	.ptext "H.2"
>3b4d	49 3b				.word -
>3b4f	17 3b				.word PREVHEADER
=$3b49						PREVHEADER ::= -
>3b51	22 02			HDOTTWO:	.word DOCOLON
>3b53	e6 04 1f 3b			.word TWO,HDOTN
>3b57	9b 06				.word UNNEST
>3b59	03 48 2e 34		-	.ptext "H.4"
>3b5d	59 3b				.word -
>3b5f	49 3b				.word PREVHEADER
=$3b59						PREVHEADER ::= -
>3b61	22 02			HDOTFOUR:	.word DOCOLON
>3b63	74 09 04 00			.word LIT,4,HDOTN
>3b67	1f 3b
>3b69	9b 06				.word UNNEST
>3b6b	03 48 2e 38		-	.ptext "H.8"
>3b6f	6b 3b				.word -
>3b71	59 3b				.word PREVHEADER
=$3b6b						PREVHEADER ::= -
>3b73	22 02			HDOTEIGHT:	.word DOCOLON
>3b75	74 09 08 00			.word LIT,8,HDOTN
>3b79	1f 3b
>3b7b	9b 06				.word UNNEST
>3b7d	03 30 3c 3e		-	.ptext "0<>"
>3b81	7d 3b				.word -
>3b83	6b 3b				.word PREVHEADER
=$3b7d						PREVHEADER ::= -
>3b85	22 02			ZNOTEQUAL:	.word DOCOLON
>3b87	f0 17 35 19			.word ZEQUAL,INVERT
>3b8b	9b 06				.word UNNEST
>3b8d	05 48 4f 4c		-	.ptext "HOLDS"
>3b91	44 53
>3b93	8d 3b				.word -
>3b95	7d 3b				.word PREVHEADER
=$3b8d						PREVHEADER ::= -
>3b97	22 02			HOLDS:	.word DOCOLON
>3b99	27 0b 23 11			.word HLD,FETCH,OVER,MINUS,DUP,HLD,STORE,SWAP,MOVE
>3b9d	33 0e 10 16 bf 0d 27 0b bc 10 fb 0d f0 11
>3bab	9b 06				.word UNNEST
>3bad	0a 50 41 52		-	.ptext "PARSE-NAME"
>3bb1	53 45 2d 4e 41 4d 45
>3bb8	ad 3b				.word -
>3bba	8d 3b				.word PREVHEADER
=$3bad						PREVHEADER ::= -
>3bbc	22 02			PARSENAME:	.word DOCOLON
>3bbe	19 05 88 27			.word BL,DOWORD,COUNT
>3bc2	4d 13
>3bc4	9b 06				.word UNNEST
>3bc6	07 42 55 46		-	.ptext "BUFFER:"
>3bca	46 45 52 3a
>3bce	c6 3b				.word -
>3bd0	ad 3b				.word PREVHEADER
=$3bc6						PREVHEADER ::= -
>3bd2	22 02			BUFFERCOLON:	.word DOCOLON
>3bd4	e5 33 c7 31			.word CREATE,ALLOT
>3bd8	9b 06				.word UNNEST
>3bda	06 44 45 46		-	.ptext "DEFER!"
>3bde	45 52 21
>3be1	da 3b				.word -
>3be3	c6 3b				.word PREVHEADER
=$3bda						PREVHEADER ::= -
>3be5	22 02			DEFERSTORE:	.word DOCOLON
>3be7	7f 36 5e 36			.word QIS,TOIS,STORE
>3beb	bc 10
>3bed	9b 06				.word UNNEST
>3bef	06 44 45 46		-	.ptext "DEFER@"
>3bf3	45 52 40
>3bf6	ef 3b				.word -
>3bf8	da 3b				.word PREVHEADER
=$3bef						PREVHEADER ::= -
>3bfa	22 02			DEFETFETCH:	.word DOCOLON
>3bfc	7f 36 5e 36			.word QIS,TOIS,FETCH
>3c00	23 11
>3c02	9b 06				.word UNNEST
>3c04	89				-	.byte len("ACTION-OF") | $80
>3c05	41 43 54 49			.text "ACTION-OF"
>3c09	4f 4e 2d 4f 46
>3c0e	04 3c				.word -
>3c10	ef 3b				.word PREVHEADER
=$3c04						PREVHEADER ::= -
>3c12	22 02			ACTIONOF:	.word DOCOLON
>3c14	17 2e 7f 36			.word TICK,QIS,TOIS,STATE,FETCH
>3c18	5e 36 e5 3d 23 11
>3c1e	dd 06 2c 3c			.word QBRANCH,+
>3c22	81 2f de 2e			.word	LITERAL,COMPILE,FETCH
>3c26	23 11
>3c28	c1 06 30 3c			.word BRANCH,++
>3c2c	23 11			+	.word	FETCH
>3c2e	0e 07				.word PTHENP
>3c30	9b 06			+	.word UNNEST
>3c32	05 54 45 4d		-	.ptext "TEMP$"
>3c36	50 24
>3c38	32 3c				.word -
>3c3a	04 3c				.word PREVHEADER
=$3c32						PREVHEADER ::= -
>3c3c	39 02			TEMPSTR:	.word DOVAR
>3c3e						.fill MAXBUFSIZE+1
>3d3e	04 4e 45 57		-	.ptext "NEW$"
>3d42	24
>3d43	3e 3d				.word -
>3d45	32 3c				.word PREVHEADER
=$3d3e						PREVHEADER ::= -
>3d47	7f 02			NEWSTR:	.word DODEFER
>3d49	3c 3c				.word TEMPSTR
>3d4b	02 39			-	.word PREVDEFER
>3d4d	3c 3c				.word TEMPSTR
=$3d4b						PREVDEFER ::= -
>3d4f	8a				-	.byte len("LOCALALLOC") | $80
>3d50	4c 4f 43 41			.text "LOCALALLOC"
>3d54	4c 41 4c 4c 4f 43
>3d5a	4f 3d				.word -
>3d5c	3e 3d				.word PREVHEADER
=$3d4f						PREVHEADER ::= -
>3d5e	22 02			LOCALALLOC:	.word DOCOLON
>3d60	de 2e 22 09			.word COMPILE,PLOCALALLOCP
>3d64	9b 06				.word UNNEST
>3d66	07 43 2b 50		-	.ptext "C+PLACE"
>3d6a	4c 41 43 45
>3d6e	66 3d				.word -
>3d70	4f 3d				.word PREVHEADER
=$3d66						PREVHEADER ::= -
>3d72	22 02			CPLUSPLACE:	.word DOCOLON
>3d74	bf 0d 70 12			.word DUP,CINCR,COUNT,PLUS,ONEMINUS,CSTORE
>3d78	4d 13 b1 15 b0 16 f6 10
>3d80	9b 06				.word UNNEST
>3d82	04 28 43 22		-	.ptext '(C")'
>3d86	29
>3d87	82 3d				.word -
>3d89	66 3d				.word PREVHEADER
=$3d82						PREVHEADER ::= -
>3d8b	22 02			PCQUOTEP:	.word DOCOLON
>3d8d	ae 0a				.word PPQUOTEPP
>3d8f	9b 06				.word UNNEST
>3d91	82				-	.byte len('C"') | $80
>3d92	43 22				.text 'C"'
>3d94	91 3d				.word -
>3d96	82 3d				.word PREVHEADER
=$3d91						PREVHEADER ::= -
>3d98	22 02			CQUOTE:	.word DOCOLON
>3d9a	e5 3d 23 11			.word STATE,FETCH
>3d9e	dd 06 ac 3d			.word QBRANCH,+
>3da2	de 2e 8b 3d			.word	COMPILE,PCQUOTEP,COMMAQUOTE
>3da6	55 2f
>3da8	c1 06 c2 3d			.word BRANCH,++
>3dac	74 09 22 00		+	.word	LIT,'"',DOWORD,NEWSTR,DUPTOR,OVER,CFETCH,ONEPLUS,MOVE,RFROM
>3db0	88 27 47 3d 05 0d 33 0e 47 11 74 16 f0 11 30 0d
>3dc0	0e 07				.word PTHENP
>3dc2	9b 06			+	.word UNNEST
>3dc4	06 55 4e 55		-	.ptext "UNUSED"
>3dc8	53 45 44
>3dcb	c4 3d				.word -
>3dcd	91 3d				.word PREVHEADER
=$3dc4						PREVHEADER ::= -
>3dcf	22 02			UNUSED:	.word DOCOLON
>3dd1	2c 05 28 2e			.word TOPOFMEM,DP,FETCH,MINUS
>3dd5	23 11 10 16
>3dd9	9b 06				.word UNNEST
>3ddb	05 53 54 41		-	.ptext "STATE"
>3ddf	54 45
>3de1	db 3d				.word -
>3de3	c4 3d				.word PREVHEADER
=$3ddb						PREVHEADER ::= -
>3de5	39 02			STATE:	.word DOVAR
>3de7	00 00				.word 0
>3de9	08 53 41 56		-	.ptext "SAVE-SRC"
>3ded	45 2d 53 52 43
>3df2	e9 3d				.word -
>3df4	db 3d				.word PREVHEADER
=$3de9						PREVHEADER ::= -
>3df6	7f 02			SAVESRC:	.word DODEFER
>3df8	84 0a				.word NOOP
>3dfa	4b 3d			-	.word PREVDEFER
>3dfc	84 0a				.word NOOP
=$3dfa						PREVDEFER ::= -
>3dfe	0b 3f 55 4e		-	.ptext "?UNSAVE-SRC"
>3e02	53 41 56 45 2d 53 52 43
>3e0a	fe 3d				.word -
>3e0c	e9 3d				.word PREVHEADER
=$3dfe						PREVHEADER ::= -
>3e0e	7f 02			QUNSAVESRC:	.word DODEFER
>3e10	84 0a				.word NOOP
>3e12	fa 3d			-	.word PREVDEFER
>3e14	84 0a				.word NOOP
=$3e12						PREVDEFER ::= -
>3e16	0b 28 49 4e		-	.ptext "(INTERPRET)"
>3e1a	54 45 52 50 52 45 54 29
>3e22	16 3e				.word -
>3e24	fe 3d				.word PREVHEADER
=$3e16						PREVHEADER ::= -
>3e26	22 02			PINTERPRETP:	.word DOCOLON
.3e28					PINTERPRETPx
>3e28	fe 06				.word PBEGINP
>3e2a	19 05 88 27		_L1		.word BL,DOWORD,DUP,CFETCH
>3e2e	bf 0d 47 11
>3e32	41 07 66 3e			.word PWHILEP,_L2
>3e36	f6 3d f3 2d				.word SAVESRC,FIND,QDUP
>3e3a	d0 0d
>3e3c	dd 06 5a 3e				.word QBRANCH,_L3
>3e40	e5 3d 23 11					.word STATE,FETCH,EQUAL
>3e44	98 17
>3e46	dd 06 50 3e					.word QBRANCH,_L4
>3e4a	d2 30							.word COMPILECOMMA
>3e4c	c1 06 56 3e					.word BRANCH,_L5
>3e50	b0 09 05 31		_L4				.word EXECUTE,QSTACK
>3e54	0e 07						.word PTHENP
>3e56	c1 06 60 3e		_L5		.word BRANCH,_L6
>3e5a	f1 29 53 31		_L3			.word NUMBER,NUMBERCOMMA
>3e5e	0e 07					.word PTHENP
>3e60	0e 3e			_L6		.word QUNSAVESRC
>3e62	53 07 2a 3e			.word PREPEATP,_L1
>3e66	ea 0d 9b 06		_L2	.word DROP,UNNEST
>3e6a	09 49 4e 54		-	.ptext "INTERPRET"
>3e6e	45 52 50 52 45 54
>3e74	6a 3e				.word -
>3e76	16 3e				.word PREVHEADER
=$3e6a						PREVHEADER ::= -
>3e78	7f 02			INTERPRET:	.word DODEFER
>3e7a	26 3e				.word PINTERPRETP
>3e7c	12 3e			-	.word PREVDEFER
>3e7e	26 3e				.word PINTERPRETP
=$3e7c						PREVDEFER ::= -
>3e80	08 3f 4c 4f		-	.ptext "?LOADING"
>3e84	41 44 49 4e 47
>3e89	80 3e				.word -
>3e8b	6a 3e				.word PREVHEADER
=$3e80						PREVHEADER ::= -
>3e8d	39 02			QLOADING:	.word DOVAR
>3e8f	00 00				.word 0
>3e91	08 4c 4f 41		-	.ptext "LOADLINE"
>3e95	44 4c 49 4e 45
>3e9a	91 3e				.word -
>3e9c	80 3e				.word PREVHEADER
=$3e91						PREVHEADER ::= -
>3e9e	39 02			LOADLINE:	.word DOVAR
>3ea0	00 00				.word 0
>3ea2	05 2e 53 4d		-	.ptext ".SMAX"
>3ea6	41 58
>3ea8	a2 3e				.word -
>3eaa	91 3e				.word PREVHEADER
=$3ea2						PREVHEADER ::= -
>3eac	39 02			DOTSMAX:	.word DOVAR
>3eae	08 00				.word 8
>3eb0	09 28 2e 50		-	.ptext "(.PROMPT)"
>3eb4	52 4f 4d 50 54 29
>3eba	b0 3e				.word -
>3ebc	a2 3e				.word PREVHEADER
=$3eb0						PREVHEADER ::= -
>3ebe	22 02			PDOTPROMPTP:	.word DOCOLON
>3ec0	dd 1f de 0a			.word CR,PDOTQUOTEP
>3ec4	02 3e 20			.ptext "> "
>3ec7	9b 06				.word UNNEST
>3ec9	05 28 2e 4f		-	.ptext "(.OK)"
>3ecd	4b 29
>3ecf	c9 3e				.word -
>3ed1	b0 3e				.word PREVHEADER
=$3ec9						PREVHEADER ::= -
>3ed3	22 02			PDOTOKP:	.word DOCOLON
.3ed5					PDOTOKPx
>3ed5	de 0a				.word PDOTQUOTEP
>3ed7	03 20 6f 6b			.ptext " ok"
>3edb	44 10 ac 3e			.word DEPTH,DOTSMAX,FETCH,MIN,ZERO
>3edf	23 11 eb 1b d2 04
>3ee5	a0 08 f3 3e			.word PQDOP,_L1
>3ee9	74 09 2e 00		_L2:	.word	LIT,'.',EMIT
>3eed	fd 1c
>3eef	da 07 e9 3e			.word PLOOPP,_L2
>3ef3	9b 06			_L1:.word UNNEST
>3ef5	03 2e 4f 4b		-	.ptext ".OK"
>3ef9	f5 3e				.word -
>3efb	c9 3e				.word PREVHEADER
=$3ef5						PREVHEADER ::= -
>3efd	7f 02			DOTOK:	.word DODEFER
>3eff	d3 3e				.word PDOTOKP
>3f01	7c 3e			-	.word PREVDEFER
>3f03	d3 3e				.word PDOTOKP
=$3f01						PREVDEFER ::= -
>3f05	07 2e 50 52		-	.ptext ".PROMPT"
>3f09	4f 4d 50 54
>3f0d	05 3f				.word -
>3f0f	f5 3e				.word PREVHEADER
=$3f05						PREVHEADER ::= -
>3f11	7f 02			DOTPROMPT:	.word DODEFER
>3f13	be 3e				.word PDOTPROMPTP
>3f15	01 3f			-	.word PREVDEFER
>3f17	be 3e				.word PDOTPROMPTP
=$3f15						PREVDEFER ::= -
>3f19	06 2e 4e 4f		-	.ptext ".NOTOK"
>3f1d	54 4f 4b
>3f20	19 3f				.word -
>3f22	05 3f				.word PREVHEADER
=$3f19						PREVHEADER ::= -
>3f24	7f 02			DOTNOTOK:	.word DODEFER
>3f26	84 0a				.word NOOP
>3f28	15 3f			-	.word PREVDEFER
>3f2a	84 0a				.word NOOP
=$3f28						PREVDEFER ::= -
>3f2c	12 28 45 58		-	.ptext "(EXCEPTION-SOURCE)"
>3f30	43 45 50 54 49 4f 4e 2d 53 4f 55 52 43 45 29
>3f3f	2c 3f				.word -
>3f41	19 3f				.word PREVHEADER
=$3f2c						PREVHEADER ::= -
>3f43	39 02			PEXCEPTIONSOURCEP:	.word DOVAR
>3f45	00 00				.word 0
>3f47	00 00				.word 0
>3f49	05 3f 54 59		-	.ptext "?TYPE"
>3f4d	50 45
>3f4f	49 3f				.word -
>3f51	2c 3f				.word PREVHEADER
=$3f49						PREVHEADER ::= -
>3f53	22 02			QTYPE:	.word DOCOLON
.3f55					QTYPEx
>3f55	4d 13 d0 0d			.word COUNT,QDUP
>3f59	dd 06 65 3f			.word QBRANCH,_L1
>3f5d	37 1d f2 1e			.word	DOTYPE,SPACE
>3f61	c1 06 69 3f			.word BRANCH,_L2
>3f65	ea 0d			_L1:.word	DROP
>3f67	0e 07				.word PTHENP
>3f69	9b 06			_L2:.word UNNEST
>3f6b	09 28 54 59		-	.ptext "(TYPEMSG)"
>3f6f	50 45 4d 53 47 29
>3f75	6b 3f				.word -
>3f77	49 3f				.word PREVHEADER
=$3f6b						PREVHEADER ::= -
>3f79	22 02			PTYPEMSGP:	.word DOCOLON
.3f7b					PTYPEMSGPx
>3f7b	8d 3e 23 11			.word QLOADING,FETCH
>3f7f	dd 06 89 3f			.word QBRANCH,_L1
>3f83	43 3f					.word PEXCEPTIONSOURCEP
>3f85	c1 06 8d 3f			.word BRANCH,_L2
>3f89	71 25			_L1:	.word PSOURCEP
>3f8b	0e 07				.word PTHENP
>3f8d	dd 1f 83 11		_L2:.word CR,TWOFETCH,DOTYPE,CR,TOIN,FETCH,DUP,QLOADING,FETCH
>3f91	37 1d dd 1f 9f 25 23 11 bf 0d 8d 3e 23 11
>3f9f	dd 06 a9 3f			.word QBRANCH,_L3
>3fa3	43 3f					.word PEXCEPTIONSOURCEP
>3fa5	c1 06 ad 3f			.word BRANCH,_L4
>3fa9	71 25			_L3:	.word PSOURCEP
>3fab	0e 07				.word PTHENP
>3fad	23 11 31 18		_L4:.word FETCH,LESS,PLUS,POCKET,CFETCH,DUPTOR,MINUS,ONEMINUS,SPACES
>3fb1	b1 15 7d 26 47 11 05 0d 10 16 b0 16 a1 1f
>3fbf	30 0d dc 04			.word RFROM,ONE,MAX,ZERO
>3fc3	05 1c d2 04
>3fc7	a0 08 d5 3f			.word PQDOP,_L5
>3fcb	74 09 5e 00		_L6:	.word LIT,'^',EMIT
>3fcf	fd 1c
>3fd1	da 07 cb 3f			.word PLOOPP,_L6
>3fd5	13 28 23 11		_L5:	.word BASE,FETCH,TOR,DECIMAL,CR,DOTYPE
>3fd9	f0 0c 23 28 dd 1f 37 1d
>3fe1	de 0a				.word PDOTQUOTEP
>3fe3	01 28				.ptext '('
>3fe5	bf 0d 56 24			.word DUP,LASTERROR+4,STOD,PDDOTP,DOTYPE
>3fe9	55 1b 47 0c 37 1d
>3fef	de 0a				.word PDOTQUOTEP
>3ff1	03 29 3a 20			.ptext '): '
>3ff5	7d 26 53 3f			.word POCKET,QTYPE,THROWMSGS
>3ff9	13 24
>3ffb	fe 06				.word PBEGINP
>3ffd	23 11 d0 0d		_L7:	.word FETCH,QDUP
>4001	41 07 27 40			.word PWHILEP,_L8
>4005	bf 0d 32 1c				.word DUP,CELLPLUS,FETCH,LASTERROR,EQUAL
>4009	23 11 52 24 98 17
>400f	dd 06 23 40				.word QBRANCH,_L9
>4013	e6 04 67 1c					.word TWO,CELLSPLUS,QTYPE,NULLMSG,MSG,STORE,PTRNULL
>4017	53 3f 23 24 2f 24 bc 10 3f 24
>4021	0e 07					.word PTHENP
>4023	53 07 fd 3f		_L9:.word PREPEATP,_L7
>4027	2f 24 23 11		_L8:.word MSG,FETCH,QTYPE,NULLMSG,MSG,STORE,QLOADING,FETCH
>402b	53 3f 23 24 2f 24 bc 10 8d 3e 23 11
>4037	dd 06 61 40			.word QBRANCH,_LA
>403b	de 0a					.word PDOTQUOTEP
>403d	08 69 6e 20				.ptext 'in file '
>4041	66 69 6c 65 20
>4046	7b 04 23 11				.word LOADFILE,FETCH,CELLPLUS,QTYPE
>404a	32 1c 53 3f
>404e	de 0a					.word PDOTQUOTEP
>4050	08 61 74 20				.ptext 'at line '
>4054	6c 69 6e 65 20
>4059	9e 3e 23 11				.word LOADLINE,FETCH,DOT
>405d	5f 0c
>405f	0e 07				.word PTHENP
>4061	30 0d 13 28		_LA:.word RFROM,BASE,STORE,UNNEST
>4065	bc 10 9b 06
>4069	0a 45 44 49		-	.ptext "EDIT-ERROR"
>406d	54 2d 45 52 52 4f 52
>4074	69 40				.word -
>4076	6b 3f				.word PREVHEADER
=$4069						PREVHEADER ::= -
>4078	7f 02			EDITERROR:	.word DODEFER
>407a	84 0a				.word NOOP
>407c	28 3f			-	.word PREVDEFER
>407e	84 0a				.word NOOP
=$407c						PREVDEFER ::= -
>4080	09 28 4d 45		-	.ptext "(MESSAGE)"
>4084	53 53 41 47 45 29
>408a	80 40				.word -
>408c	69 40				.word PREVHEADER
=$4080						PREVHEADER ::= -
>408e	22 02			PMESSAGEP:	.word DOCOLON
.4090					PMESSAGEPx
>4090	bf 0d 74 16			.word DUP,ONEPLUS
>4094	dd 06 b1 40			.word QBRANCH,_L1
>4098	f1 0a				.word 	PSQUOTEP
>409a	06 45 72 72			.ptext 	"Error "
>409e	6f 72 20
>40a1	79 3f				.word 	PTYPEMSGP
>40a3	8d 3e				.word	QLOADING
>40a5	dd 06 ad 40			.word	QBRANCH,_L3
>40a9	78 40				.word		EDITERROR
>40ab	0e 07				.word	PTHENP
>40ad	c1 06 b5 40		_L3:.word BRANCH,_L2
>40b1	ea 0d			_L1:.word 	DROP
>40b3	0e 07				.word PTHENP
>40b5	9b 06			_L2:.word UNNEST
>40b7	07 4d 45 53		-	.ptext "MESSAGE"
>40bb	53 41 47 45
>40bf	b7 40				.word -
>40c1	80 40				.word PREVHEADER
=$40b7						PREVHEADER ::= -
>40c3	7f 02			MESSAGE:	.word DODEFER
>40c5	8e 40				.word PMESSAGEP
>40c7	7c 40			-	.word PREVDEFER
>40c9	8e 40				.word PMESSAGEP
=$40c7						PREVDEFER ::= -
>40cb	0e 28 52 45		-	.ptext "(RESET-STACKS)"
>40cf	53 45 54 2d 53 54 41 43 4b 53 29
>40da	cb 40				.word -
>40dc	b7 40				.word PREVHEADER
=$40cb						PREVHEADER ::= -
>40de	22 02			PRESETSTACKSP:	.word DOCOLON
>40e0	8f 0c 23 11			.word SP0,FETCH,SPSTORE
>40e4	b8 0c
>40e6	9b 06				.word UNNEST
>40e8	0c 52 45 53		-	.ptext "RESET-STACKS"
>40ec	45 54 2d 53 54 41 43 4b 53
>40f5	e8 40				.word -
>40f7	cb 40				.word PREVHEADER
=$40e8						PREVHEADER ::= -
>40f9	7f 02			RESETSTACKS:	.word DODEFER
>40fb	de 40				.word PRESETSTACKSP
>40fd	c7 40			-	.word PREVDEFER
>40ff	de 40				.word PRESETSTACKSP
=$40fd						PREVDEFER ::= -
>4101	0f 51 55 45		-	.ptext "QUERY-INTERPRET"
>4105	52 59 2d 49 4e 54 45 52 50 52 45 54
>4111	01 41				.word -
>4113	e8 40				.word PREVHEADER
=$4101						PREVHEADER ::= -
>4115	22 02			QUERYINTERPRET:	.word DOCOLON
>4117	56 26 f2 1e			.word QUERY,SPACE,INTERPRET
>411b	78 3e
>411d	9b 06				.word UNNEST
>411f	06 28 51 55		-	.ptext "(QUIT)"
>4123	49 54 29
>4126	1f 41				.word -
>4128	01 41				.word PREVHEADER
=$411f						PREVHEADER ::= -
>412a	22 02			PQUITP:	.word DOCOLON
.412c					PQUITPx
>412c	9b 0c 23 11			.word RP0,FETCH,RPSTORE
>4130	dd 0c
>4132	fe 06			_L1:.word PBEGINP
>4134	71 31 8d 3e			.word	LBRACKET,QLOADING,OFF
>4138	bc 11
>413a	fe 06				.word	PBEGINP
>413c	11 3f 74 09		_L2:.word		DOTPROMPT,LIT,QUERYINTERPRET,CATCH,QDUP,ZEQUAL
>4140	15 41 46 20 d0 0d f0 17
>4148	41 07 5e 41			.word	PWHILEP,_L3
>414c	e5 3d 23 11			.word		STATE,FETCH,ZEQUAL
>4150	f0 17
>4152	dd 06 5a 41			.word		QBRANCH,_L4
>4156	fd 3e				.word			DOTOK
>4158	0e 07				.word		PTHENP
>415a	53 07 3c 41		_L4:.word	PREPEATP,_L2
>415e	bf 0d 74 16		_L3:.word 	DUP,ONEPLUS
>4162	dd 06 6a 41			.word	QBRANCH,_L5
>4166	c3 40				.word		MESSAGE
>4168	0e 07				.word	PTHENP
>416a	24 3f f9 40		_L5:.word	DOTNOTOK,RESETSTACKS
>416e	30 07 32 41			.word PAGAINP,_L1
>4172	9b 06				.word UNNEST
>4174	04 51 55 49		-	.ptext "QUIT"
>4178	54
>4179	74 41				.word -
>417b	1f 41				.word PREVHEADER
=$4174						PREVHEADER ::= -
>417d	7f 02			QUIT:	.word DODEFER
>417f	2a 41				.word PQUITP
>4181	fd 40			-	.word PREVDEFER
>4183	2a 41				.word PQUITP
=$4181						PREVDEFER ::= -
>4185	03 52 2f 4f		-	.ptext "R/O"
>4189	85 41				.word -
>418b	74 41				.word PREVHEADER
=$4185						PREVHEADER ::= -
>418d	48 02			READONLY:	.word DOCON
>418f	01 00				.word FILEIO_MODE_READ
>4191	03 52 2f 57		-	.ptext "R/W"
>4195	91 41				.word -
>4197	85 41				.word PREVHEADER
=$4191						PREVHEADER ::= -
>4199	48 02			READWRITE:	.word DOCON
>419b	03 00				.word FILEIO_MODE_RW
>419d	03 57 2f 4f		-	.ptext "W/O"
>41a1	9d 41				.word -
>41a3	91 41				.word PREVHEADER
=$419d						PREVHEADER ::= -
>41a5	48 02			WRITEONLY:	.word DOCON
>41a7	02 00				.word FILEIO_MODE_WRITE
>41a9	03 42 49 4e		-	.ptext "BIN"
>41ad	a9 41				.word -
>41af	9d 41				.word PREVHEADER
=$41a9						PREVHEADER ::= -
>41b1	7f 02			BIN:	.word DODEFER
>41b3	84 0a				.word NOOP
>41b5	81 41			-	.word PREVDEFER
>41b7	84 0a				.word NOOP
=$41b5						PREVDEFER ::= -
>41b9	09 4f 50 45		-	.ptext "OPEN-FILE"
>41bd	4e 2d 46 49 4c 45
>41c3	b9 41				.word -
>41c5	a9 41				.word PREVHEADER
=$41b9						PREVHEADER ::= -
>41c7	c9 41			OPENFILE:	.word +
.41c9					+
.41c9	20 41 03			jsr dpop
.41cc	8d 13 dc			sta FILEIO_CMODE
.41cf	20 68 03			jsr dpopToGP2
.41d2	20 4c 03			jsr dpopToGP0
.41d5	a9 1a				lda #<FILEIO_FILENAME
.41d7	85 0e				sta GP1
.41d9	a9 dc				lda #>FILEIO_FILENAME
.41db	85 0f				sta GP1+1
.41dd	18					clc
.41de	a5 0e				lda GP1
.41e0	65 10				adc GP2
.41e2	85 12				sta GP3
.41e4	a5 0f				lda GP1+1
.41e6	65 11				adc GP2+1
.41e8	85 13				sta GP3+1
.41ea	a9 00				lda #0
.41ec	92 12				sta (GP3)
.41ee	20 56 10			jsr memMove
.41f1	a9 01				lda #FILEIO_CMD_OPEN
.41f3	8d 11 dc			sta FILEIO_CCMD
.41f6	20 d4 03			jsr doFileIO
.41f9	ad 12 dc			lda FILEIO_CFD
.41fc	a2 00				ldx #0
.41fe	20 37 03			jsr dpush
.4201	ad 18 dc			lda FILEIO_CSTATUS
.4204	a2 00				ldx #0
.4206	4c 03 02			jmp PUSHNEXT
>4209	0b 43 52 45		-	.ptext "CREATE-FILE"
>420d	41 54 45 2d 46 49 4c 45
>4215	09 42				.word -
>4217	b9 41				.word PREVHEADER
=$4209						PREVHEADER ::= -
>4219	7f 02			CREATEFILE:	.word DODEFER
>421b	c7 41				.word OPENFILE
>421d	b5 41			-	.word PREVDEFER
>421f	c7 41				.word OPENFILE
=$421d						PREVDEFER ::= -
>4221	0a 43 4c 4f		-	.ptext "CLOSE-FILE"
>4225	53 45 2d 46 49 4c 45
>422c	21 42				.word -
>422e	09 42				.word PREVHEADER
=$4221						PREVHEADER ::= -
>4230	32 42			CLOSEFILE:	.word +
.4232					+
.4232	20 41 03			jsr dpop
.4235	8d 12 dc			sta FILEIO_CFD
.4238	a5 02				lda FILEIO_CMD_CLOSE
.423a	8d 11 dc			sta FILEIO_CCMD
.423d	20 d4 03			jsr doFileIO
.4240	ad 18 dc			lda FILEIO_CSTATUS
.4243	a2 00				ldx #0
.4245	4c 03 02			jmp PUSHNEXT
>4248	09 52 45 41		-	.ptext "READ-FILE"
>424c	44 2d 46 49 4c 45
>4252	48 42				.word -
>4254	21 42				.word PREVHEADER
=$4248						PREVHEADER ::= -
>4256	58 42			READFILE:	.word +
.4258					+
.4258	20 41 03			jsr dpop
.425b	8d 12 dc			sta FILEIO_CFD
.425e	20 5a 03			jsr dpopToGP1
.4261	20 68 03			jsr dpopToGP2
.4264	64 0c				stz GP0				; u2
.4266	64 0d				stz GP0+1
.4268	a9 03				lda #FILEIO_CMD_READ
.426a	8d 11 dc			sta FILEIO_CCMD
.426d	a5 0e			-	lda GP1
.426f	05 0f				ora GP1+1
.4271	f0 18				beq +
.4273	20 d4 03			jsr doFileIO
.4276	ad 18 dc			lda FILEIO_CSTATUS
.4279	d0 10				bne +
.427b	ad 14 dc			lda FILEIO_CDATA_LO
.427e	92 10				sta (GP2)
.4280	20 3e 04			jsr incGP2
.4283	20 32 04			jsr decGP1
.4286	20 18 04			jsr incGP0
.4289	80 e2				bra -
.428b	a5 0c			+	lda GP0
.428d	a6 0d				ldx GP0+1
.428f	20 37 03			jsr dpush
.4292	ad 18 dc			lda FILEIO_CSTATUS
.4295	c5 01				cmp FILEIO_STATUS_EOF
.4297	d0 02				bne +
.4299	a9 00				lda #0
.429b	a2 00			+	ldx #0
.429d	4c 03 02			jmp PUSHNEXT
>42a0	09 52 45 41		-	.ptext "READ-LINE"
>42a4	44 2d 4c 49 4e 45
>42aa	a0 42				.word -
>42ac	48 42				.word PREVHEADER
=$42a0						PREVHEADER ::= -
>42ae	b0 42			READLINE:	.word +
.42b0					+
.42b0	20 41 03			jsr dpop
.42b3	8d 12 dc			sta FILEIO_CFD
.42b6	20 5a 03			jsr dpopToGP1
.42b9	20 68 03			jsr dpopToGP2
.42bc	64 0c				stz GP0				; u2
.42be	64 0d				stz GP0+1
.42c0	a9 03				lda #FILEIO_CMD_READ
.42c2	8d 11 dc			sta FILEIO_CCMD
.42c5	a5 0e			-	lda GP1
.42c7	05 0f				ora GP1+1
.42c9	f0 22				beq +++
.42cb	20 d4 03			jsr doFileIO
.42ce	ad 18 dc			lda FILEIO_CSTATUS
.42d1	d0 1a				bne +++
.42d3	ad 14 dc			lda FILEIO_CDATA_LO
.42d6	c9 0a				cmp #10
.42d8	f0 13				beq +++
.42da	92 10				sta (GP2)
.42dc	e6 10				inc GP2
.42de	d0 02				bne +
.42e0	e6 11				inc GP2+1
.42e2	20 32 04		+	jsr decGP1
.42e5	e6 0c				inc GP0
.42e7	d0 02				bne +
.42e9	e6 0d				inc GP0+1
.42eb	80 d8			+	bra -
.42ed	48				+	pha
.42ee	a5 0c				lda GP0
.42f0	a6 0d				ldx GP0+1
.42f2	20 37 03			jsr dpush
.42f5	68					pla
.42f6	c9 0a				cpa #10
.42f8	f0 1e				beq ++
.42fa	ad 18 dc			lda FILEIO_CSTATUS
.42fd	c5 02				cmp FILEIO_STATUS_ERR
.42ff	d0 0b				bne +
.4301	a9 00				lda #0				; io error
.4303	aa					tax
.4304	20 37 03			jsr dpush
.4307	ad 18 dc			lda FILEIO_CSTATUS
.430a	80 14				bra ++++
.430c	a5 0c			+	lda GP0
.430e	05 0d				ora GP0+1
.4310	d0 06				bne +
.4312	aa					tax
.4313	20 37 03			jsr dpush
.4316	80 06				bra ++
.4318	a9 ff			+	lda #$ff			; got a line
.431a	aa					tax
.431b	20 37 03			jsr dpush
.431e	a9 00			+	lda #0
.4320	aa				+	tax
.4321	4c 03 02			jmp PUSHNEXT
>4324	0a 57 52 49		-	.ptext "WRITE-FILE"
>4328	54 45 2d 46 49 4c 45
>432f	24 43				.word -
>4331	a0 42				.word PREVHEADER
=$4324						PREVHEADER ::= -
>4333	35 43			WRITEFILE:	.word +
.4335					+
.4335	20 41 03			jsr dpop
.4338	8d 12 dc			sta FILEIO_CFD
.433b	20 68 03			jsr dpopToGP2
.433e	20 5a 03			jsr dpopToGP1
.4341	20 db 03			jsr doWriteFile
.4344	4c 03 02			jmp PUSHNEXT
>4347	0a 57 52 49		-	.ptext "WRITE-LINE"
>434b	54 45 2d 4c 49 4e 45
>4352	47 43				.word -
>4354	24 43				.word PREVHEADER
=$4347						PREVHEADER ::= -
>4356	58 43			WRITELINE:	.word +
.4358					+
.4358	20 41 03			jsr dpop
.435b	8d 12 dc			sta FILEIO_CFD
.435e	20 68 03			jsr dpopToGP2
.4361	20 5a 03			jsr dpopToGP1
.4364	20 db 03			jsr doWriteFile
.4367	c9 00				cpa #0
.4369	d0 0d				bne +
.436b	a9 0a				lda #10
.436d	8d 14 dc			sta FILEIO_CDATA_LO
.4370	20 d4 03			jsr doFileIO
.4373	ad 18 dc			lda FILEIO_CSTATUS
.4376	a2 00				ldx #0
.4378	4c 03 02		+	jmp PUSHNEXT
>437b	09 57 41 49		-	.ptext "WAIT-FILE"
>437f	54 2d 46 49 4c 45
>4385	7b 43				.word -
>4387	47 43				.word PREVHEADER
=$437b						PREVHEADER ::= -
>4389	8b 43			WAITFILE:	.word +
.438b					+
.438b	20 ce 03			jsr waitFileIO
.438e	4c 06 02			jmp NEXT
>4391	0b 44 45 4c		-	.ptext "DELETE-FILE"
>4395	45 54 45 2d 46 49 4c 45
>439d	91 43				.word -
>439f	7b 43				.word PREVHEADER
=$4391						PREVHEADER ::= -
>43a1	22 02			DELETEFILE:	.word DOCOLON
>43a3	74 09 1a dc			.word LIT,FILEIO_FILENAME,SWAP,TWODUP,TWOTOR
>43a7	fb 0d 84 0f 53 0d
>43ad	f0 11 70 0d			.word MOVE,TWORFROM,PLUS,ZERO,SWAP,CSTORE
>43b1	b1 15 d2 04 fb 0d f6 10
>43b9	74 09 06 00			.word LIT,FILEIO_CMD_DELETE,LIT,FILEIO_CCMD,CSTORE
>43bd	74 09 11 dc f6 10
>43c3	74 09 01 00			.word LIT,1,LIT,FILEIO_CREADY,CSTORE,WAITFILE
>43c7	74 09 10 dc f6 10 89 43
>43cf	74 09 18 dc			.word LIT,FILEIO_CSTATUS,CFETCH
>43d3	47 11
>43d5	9b 06				.word UNNEST
>43d7	0d 46 49 4c		-	.ptext "FILE-POSITION"
>43db	45 2d 50 4f 53 49 54 49 4f 4e
>43e5	d7 43				.word -
>43e7	91 43				.word PREVHEADER
=$43d7						PREVHEADER ::= -
>43e9	eb 43			FILEPOSITION:	.word +
.43eb					+
.43eb	20 41 03			jsr dpop
.43ee	8d 12 dc			sta FILEIO_CFD
.43f1	a9 07				lda #FILEIO_CMD_FILEPOS
.43f3	8d 11 dc			sta FILEIO_CCMD
.43f6	20 d4 03			jsr doFileIO
.43f9	ad 14 dc			lda FILEIO_CDATA_LO
.43fc	ae 15 dc			ldx FILEIO_CDATA_HI
.43ff	20 37 03			jsr dpush
.4402	ad 16 dc			lda FILEIO_CDATA_LO2
.4405	ae 17 dc			ldx FILEIO_CDATA_HI2
.4408	20 37 03			jsr dpush
.440b	ad 18 dc			lda FILEIO_CSTATUS
.440e	a2 00				ldx #0
.4410	4c 03 02			jmp PUSHNEXT
>4413	09 46 49 4c		-	.ptext "FILE-SIZE"
>4417	45 2d 53 49 5a 45
>441d	13 44				.word -
>441f	d7 43				.word PREVHEADER
=$4413						PREVHEADER ::= -
>4421	23 44			FILESIZE:	.word +
.4423					+
.4423	20 41 03			jsr dpop
.4426	8d 12 dc			sta FILEIO_CFD
.4429	a9 08				lda #FILEIO_CMD_FILESIZ
.442b	8d 11 dc			sta FILEIO_CCMD
.442e	20 d4 03			jsr doFileIO
.4431	ad 14 dc			lda FILEIO_CDATA_LO
.4434	ae 15 dc			ldx FILEIO_CDATA_HI
.4437	20 37 03			jsr dpush
.443a	ad 16 dc			lda FILEIO_CDATA_LO2
.443d	ae 17 dc			ldx FILEIO_CDATA_HI2
.4440	20 37 03			jsr dpush
.4443	ad 18 dc			lda FILEIO_CSTATUS
.4446	a2 00				ldx #0
.4448	4c 03 02			jmp PUSHNEXT
>444b	0f 52 45 50		-	.ptext "REPOSITION-FILE"
>444f	4f 53 49 54 49 4f 4e 2d 46 49 4c 45
>445b	4b 44				.word -
>445d	13 44				.word PREVHEADER
=$444b						PREVHEADER ::= -
>445f	61 44			REPOSITIONFILE:	.word +
.4461					+
.4461	20 41 03			jsr dpop
.4464	8d 12 dc			sta FILEIO_CFD
.4467	20 41 03			jsr dpop
.446a	8d 16 dc			sta FILEIO_CDATA_LO2
.446d	8e 17 dc			stx FILEIO_CDATA_HI2
.4470	20 41 03			jsr dpop
.4473	8d 14 dc			sta FILEIO_CDATA_LO
.4476	8e 15 dc			stx FILEIO_CDATA_HI
.4479	a9 05				lda #FILEIO_CMD_SEEK
.447b	8d 11 dc			sta FILEIO_CCMD
.447e	20 d4 03			jsr doFileIO
.4481	ad 18 dc			lda FILEIO_CSTATUS
.4484	a2 00				ldx #0
.4486	4c 03 02			jmp PUSHNEXT
>4489	0b 52 45 53		-	.ptext "RESIZE-FILE"
>448d	49 5a 45 2d 46 49 4c 45
>4495	89 44				.word -
>4497	4b 44				.word PREVHEADER
=$4489						PREVHEADER ::= -
>4499	9b 44			RESIZEFILE:	.word +
.449b					+
.449b	20 41 03			jsr dpop
.449e	8d 12 dc			sta FILEIO_CFD
.44a1	20 41 03			jsr dpop
.44a4	8d 16 dc			sta FILEIO_CDATA_LO2
.44a7	8e 17 dc			stx FILEIO_CDATA_HI2
.44aa	20 41 03			jsr dpop
.44ad	8d 14 dc			sta FILEIO_CDATA_LO
.44b0	8e 15 dc			stx FILEIO_CDATA_HI
.44b3	a9 0a				lda #FILEIO_CMD_RESIZE
.44b5	8d 11 dc			sta FILEIO_CCMD
.44b8	20 d4 03			jsr doFileIO
.44bb	ad 18 dc			lda FILEIO_CSTATUS
.44be	a2 00				ldx #0
.44c0	4c 03 02			jmp PUSHNEXT
>44c3	0a 46 4c 55		-	.ptext "FLUSH-FILE"
>44c7	53 48 2d 46 49 4c 45
>44ce	c3 44				.word -
>44d0	89 44				.word PREVHEADER
=$44c3						PREVHEADER ::= -
>44d2	d4 44			FLUSHFILE:	.word +
.44d4					+
.44d4	20 41 03			jsr dpop
.44d7	8d 12 dc			sta FILEIO_CFD
.44da	a9 09				lda #FILEIO_CMD_FLUSH
.44dc	8d 11 dc			sta FILEIO_CCMD
.44df	20 d4 03			jsr doFileIO
.44e2	ad 18 dc			lda FILEIO_CSTATUS
.44e5	a2 00				ldx #0
.44e7	4c 03 02			jmp PUSHNEXT
>44ea	07 4f 50 45		-	.ptext "OPENBUF"
>44ee	4e 42 55 46
>44f2	ea 44				.word -
>44f4	c3 44				.word PREVHEADER
=$44ea						PREVHEADER ::= -
>44f6	39 02			OPENBUF:	.word DOVAR
>44f8	00 00 00 00			.fill MAXBUFSIZE,0
>44fc	00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
;		...repeated 14 times (224 bytes)...
>45ec	00 00 00 00 00 00 00 00 00 00 00
>45f7	08 43 55 52		-	.ptext "CUR-FILE"
>45fb	2d 46 49 4c 45
>4600	f7 45				.word -
>4602	ea 44				.word PREVHEADER
=$45f7						PREVHEADER ::= -
>4604	39 02			CURFILE:	.word DOVAR
>4606	00 00 00 00			.fill MAXBUFSIZE,0
>460a	00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
;		...repeated 14 times (224 bytes)...
>46fa	00 00 00 00 00 00 00 00 00 00 00
>4705	08 43 55 52		-	.ptext "CUR-LINE"
>4709	2d 4c 49 4e 45
>470e	05 47				.word -
>4710	f7 45				.word PREVHEADER
=$4705						PREVHEADER ::= -
>4712	39 02			CURLINE:	.word DOVAR
>4714	00 00				.word 0
>4716	08 4c 49 4e		-	.ptext "LINKFILE"
>471a	4b 46 49 4c 45
>471f	16 47				.word -
>4721	05 47				.word PREVHEADER
=$4716						PREVHEADER ::= -
>4723	22 02			LINKFILE:	.word DOCOLON
>4725	8d 3e 23 11			.word QLOADING,FETCH
>4729	dd 06 45 47			.word QBRANCH,+
>472d	a1 31 7b 04			.word	ALIGN,LOADFILE,LINKCOMMA
>4731	3e 2f
>4733	4d 13 4d 2e			.word	COUNT,HERE,PLACE,HERE,CFETCH,ONEPLUS,ALLOT
>4737	fa 12 4d 2e 47 11 74 16 c7 31
>4741	c1 06 49 47			.word BRANCH,++
>4745	ea 0d			+	.word	DROP
>4747	0e 07				.word PTHENP
>4749	9b 06			+	.word UNNEST
>474b	0a 53 54 41		-	.ptext "START-LINE"
>474f	52 54 2d 4c 49 4e 45
>4756	4b 47				.word -
>4758	16 47				.word PREVHEADER
=$474b						PREVHEADER ::= -
>475a	39 02			STARTLINE:	.word DOVAR
>475c	00 00				.word 0
>475e	08 3f 2e 52		-	.ptext "?.REFILL"
>4762	45 46 49 4c 4c
>4767	5e 47				.word -
>4769	4b 47				.word PREVHEADER
=$475e						PREVHEADER ::= -
>476b	22 02			QDOTREFILL:	.word DOCOLON
>476d	2c 4a 23 11			.word ECHO,FETCH
>4771	dd 06 7d 47			.word QBRANCH,+
>4775	dd 1f 82 25			.word	CR,SOURCE,DOTYPE
>4779	37 1d
>477b	0e 07				.word PTHENP
>477d	9b 06			+	.word UNNEST
>477f	07 2e 52 45		-	.ptext ".REFILL"
>4783	46 49 4c 4c
>4787	7f 47				.word -
>4789	5e 47				.word PREVHEADER
=$477f						PREVHEADER ::= -
>478b	7f 02			DOTREFILL:	.word DODEFER
>478d	6b 47				.word QDOTREFILL
>478f	1d 42			-	.word PREVDEFER
>4791	6b 47				.word QDOTREFILL
=$478f						PREVDEFER ::= -
>4793	0a 49 4e 43		-	.ptext "INCLUDING?"
>4797	4c 55 44 49 4e 47 3f
>479e	93 47				.word -
>47a0	7f 47				.word PREVHEADER
=$4793						PREVHEADER ::= -
>47a2	95 02			INCLUDINGQ: .word DOVALUE
>47a4	00 00				.word 0
>47a6	a0 02				.word DOVALUESTORE
>47a8	c0 02				.word DOVALUEPSTORE
>47aa	08 4c 45 4e		-	.ptext "LEN-PREV"
>47ae	2d 50 52 45 56
>47b3	aa 47				.word -
>47b5	93 47				.word PREVHEADER
=$47aa						PREVHEADER ::= -
>47b7	95 02			LENPREV: .word DOVALUE
>47b9	00 00				.word 0
>47bb	a0 02				.word DOVALUESTORE
>47bd	c0 02				.word DOVALUEPSTORE
>47bf	06 52 45 46		-	.ptext "REFILL"
>47c3	49 4c 4c
>47c6	bf 47				.word -
>47c8	aa 47				.word PREVHEADER
=$47bf						PREVHEADER ::= -
>47ca	22 02			REFILL:	.word DOCOLON
>47cc	b1 25 d0 0d			.word SOURCEID,QDUP
>47d0	dd 06 26 48			.word QBRANCH,++++
>47d4	74 16					.word ONEPLUS
>47d6	dd 06 20 48				.word QBRANCH,+++
>47da	dc 04 9e 3e					.word ONE,LOADLINE,PLUSSTORE,TIB,DUP,MAXSTRING
>47de	d8 10 62 24 bf 0d 9e 04
>47e6	b7 47 d3 25					.word LENPREV,SOURCEPOSITION+6
>47ea	b1 25 ae 42					.word SOURCEID,READLINE,THROWFILEREADFAIL,QTHROW
>47ee	87 21 b1 20
>47f2	dd 06 16 48					.word QBRANCH,+
>47f6	bf 0d e6 04						.word DUP,TWO,PLUS,LENPREV+4,TWODUP
>47fa	b1 15 bb 47 84 0f
>4800	43 3f 5a 11						.word PEXCEPTIONSOURCEP,TWOSTORE,PSOURCEP,TWOSTORE
>4804	71 25 5a 11
>4808	9f 25 bc 11						.word TOIN,OFF,DOTREFILL,TRUECON,PEXITP
>480c	8b 47 f3 04 b2 06
>4812	c1 06 1c 48					.word BRANCH,++
>4816	d2 04 bb 47		+				.word ZERO,LENPREV+4
>481a	0e 07						.word PTHENP
>481c	3f 0f			+			.word TWODROP
>481e	0e 07					.word PTHENP
>4820	01 05 b2 06		+		.word FALSECON,PEXITP
>4824	0e 07				.word PTHENP
>4826	dd 1f 56 26		+	.word CR,QUERY,TRUECON
>482a	f3 04
>482c	9b 06				.word UNNEST
>482e	05 3e 4c 49		-	.ptext ">LINE"
>4832	4e 45
>4834	2e 48				.word -
>4836	bf 47				.word PREVHEADER
=$482e						PREVHEADER ::= -
>4838	22 02			TOLINE:	.word DOCOLON
>483a	b0 16 d2 04			.word ONEMINUS,ZERO,MAX,QDUP
>483e	05 1c d0 0d
>4842	dd 06 56 48			.word QBRANCH,++
>4846	d2 04				.word	ZERO
>4848	61 08 54 48			.word	PDOP,+
>484c	ca 47 ea 0d		-	.word		REFILL,DROP
>4850	da 07 4c 48			.word	PLOOPP,-
>4854	0e 07			+	.word PTHENP
>4856	9b 06			+	.word UNNEST
>4858	0b 53 54 41		-	.ptext "STACK-CHECK"
>485c	43 4b 2d 43 48 45 43 4b
>4864	58 48				.word -
>4866	2e 48				.word PREVHEADER
=$4858						PREVHEADER ::= -
>4868	7f 02			STACKCHECK:	.word DODEFER
>486a	84 0a				.word NOOP
>486c	8f 47			-	.word PREVDEFER
>486e	84 0a				.word NOOP
=$486c						PREVDEFER ::= -
>4870	0a 44 4f 2d		-	.ptext "DO-INCLUDE"
>4874	49 4e 43 4c 55 44 45
>487b	70 48				.word -
>487d	58 48				.word PREVHEADER
=$4870						PREVHEADER ::= -
>487f	22 02			DOINCLUDE:	.word DOCOLON
>4881	a2 47 f0 0c			.word INCLUDINGQ,TOR,TRUECON,INCLUDINGQ+4
>4885	f3 04 a6 47
>4889	5a 47 23 11			.word STARTLINE,FETCH,TOLINE,STARTLINE,OFF
>488d	38 48 5a 47 bc 11
>4893	cd 25 f0 0c			.word SOURCEPOSITION,TOR,ZERO,SOURCEPOSITION+4
>4897	d2 04 d1 25
>489b	b7 47 f0 0c			.word LENPREV,TOR,ZERO,LENPREV+4
>489f	d2 04 bb 47
>48a3	fe 06				.word PBEGINP
>48a5	ca 47 a2 47		-	.word	REFILL,INCLUDINGQ,DOAND
>48a9	df 18
>48ab	41 07 b7 48			.word PWHILEP,+
>48af	78 3e 68 48			.word	INTERPRET,STACKCHECK
>48b3	53 07 a5 48			.word PREPEATP,-
>48b7	30 0d bb 47		+	.word RFROM,LENPREV+4,RFROM,SOURCEPOSITION+4,RFROM,INCLUDINGQ+4
>48bb	30 0d d1 25 30 0d a6 47
>48c3	9b 06				.word UNNEST
>48c5	0d 53 54 41		-	.ptext "START-INCLUDE"
>48c9	52 54 2d 49 4e 43 4c 55 44 45
>48d3	c5 48				.word -
>48d5	70 48				.word PREVHEADER
=$48c5						PREVHEADER ::= -
>48d7	7f 02			STARTINCLUDE:	.word DODEFER
>48d9	84 0a				.word NOOP
>48db	6c 48			-	.word PREVDEFER
>48dd	84 0a				.word NOOP
=$48db						PREVDEFER ::= -
>48df	0b 45 4e 44		-	.ptext "END-INCLUDE"
>48e3	2d 49 4e 43 4c 55 44 45
>48eb	df 48				.word -
>48ed	c5 48				.word PREVHEADER
=$48df						PREVHEADER ::= -
>48ef	7f 02			ENDINCLUDE:	.word DODEFER
>48f1	84 0a				.word NOOP
>48f3	db 48			-	.word PREVDEFER
>48f5	84 0a				.word NOOP
=$48f3						PREVDEFER ::= -
>48f7	0c 49 4e 43		-	.ptext "INCLUDE-FILE"
>48fb	4c 55 44 45 2d 46 49 4c 45
>4904	f7 48				.word -
>4906	df 48				.word PREVHEADER
=$48f7						PREVHEADER ::= -
>4908	22 02			INCLUDEFILE:	.word DOCOLON
>490a	9e 04 22 09			.word MAXSTRING,PLOCALALLOCP,TOR
>490e	f0 0c
>4910	62 24 1c 0d			.word TIB,RFETCH,MAXSTRING,MOVE
>4914	9e 04 f0 11
>4918	7b 04 23 11			.word LOADFILE,FETCH,CELLPLUS,TOR,QLOADING,FETCH,TOR
>491c	32 1c f0 0c 8d 3e 23 11 f0 0c
>4926	9e 3e 23 11			.word LOADLINE,FETCH,TOR,TOIN,FETCH,TOR,SOURCEID,TOR
>492a	f0 0c 9f 25 23 11 f0 0c b1 25 f0 0c
>4936	b5 25 82 25			.word SOURCEID+4,SOURCE,TWOTOR,SOURCEPOSITION,TOR
>493a	53 0d cd 25 f0 0c
>4940	8d 3e a4 11			.word QLOADING,ON,POCKET,LINKFILE,LOADLINE,OFF
>4944	7d 26 23 47 9e 3e bc 11
>494c	d2 04 d1 25			.word ZERO,SOURCEPOSITION+4
>4950	d7 48				.word STARTINCLUDE
>4952	74 09 7f 48			.word LIT,DOINCLUDE,CATCH,SOURCEID,CLOSEFILE,DROP
>4956	46 20 b1 25 30 42 ea 0d
>495e	30 0d d1 25			.word RFROM,SOURCEPOSITION+4,TWORFROM,PSOURCEP,TWOSTORE
>4962	70 0d 71 25 5a 11
>4968	30 0d b5 25			.word RFROM,SOURCEID+4
>496c	ef 48				.word ENDINCLUDE
>496e	7c 20				.word THROW
>4970	30 0d 9f 25			.word RFROM,TOIN,STORE,RFROM,LOADLINE,STORE
>4974	bc 10 30 0d 9e 3e bc 10
>497c	30 0d 8d 3e			.word RFROM,QlOADING,STORE
>4980	bc 10
>4982	a1 31 30 0d			.word ALIGN,RFROM,LINKFILE
>4986	23 47
>4988	30 0d 62 24			.word RFROM,TIB,MAXSTRING,MOVE,QLOADING,FETCH
>498c	9e 04 f0 11 8d 3e 23 11
>4994	dd 06 a8 49			.word QBRANCH,+
>4998	7b 04 23 11			.word	LOADFILE,FETCH,CELLPLUS,COUNT,CLIPSTRING,CURFILE,PLACE
>499c	32 1c 4d 13 d2 12 04 46 fa 12
>49a6	0e 07				.word PTHENP
>49a8	64 09 9b 06		+	.word PLOCALFREEP,UNNEST
>49ac	07 28 22 4f		-	.ptext '("OPEN)'
>49b0	50 45 4e 29
>49b4	ac 49				.word -
>49b6	f7 48				.word PREVHEADER
=$49ac						PREVHEADER ::= -
>49b8	22 02			PQUOTEOPENP:	.word DOCOLON
>49ba	f6 44 fa 12			.word OPENBUF,PLACE
>49be	f6 44 4d 13			.word OPENBUF,COUNT,READWRITE,OPENFILE,DUP,ZEQUAL
>49c2	99 41 c7 41 bf 0d f0 17
>49ca	dd 06 d8 49			.word QBRANCH,+
>49ce	f6 44 4d 13			.word	OPENBUF,COUNT,CURFILE,PLACE
>49d2	04 46 fa 12
>49d6	0e 07				.word PTHENP
>49d8	f6 44 4d 13		+	.word OPENBUF,COUNT,POCKET,PLACE,UNNEST
>49dc	7d 26 fa 12 9b 06
>49e2	05 22 4f 50		-	.ptext '"OPEN'
>49e6	45 4e
>49e8	e2 49				.word -
>49ea	ac 49				.word PREVHEADER
=$49e2						PREVHEADER ::= -
>49ec	7f 02			QUOTEOPEN:	.word DODEFER
>49ee	b8 49				.word PQUOTEOPENP
>49f0	f3 48			-	.word PREVDEFER
>49f2	b8 49				.word PQUOTEOPENP
=$49f0						PREVDEFER ::= -
>49f4	08 49 4e 43		-	.ptext "INCLUDED"
>49f8	4c 55 44 45 44
>49fd	f4 49				.word -
>49ff	e2 49				.word PREVHEADER
=$49f4						PREVHEADER ::= -
>4a01	22 02			INCLUDED:	.word DOCOLON
>4a03	ec 49 6c 21			.word QUOTEOPEN,THROWFILENOTFOUND,QTHROW,INCLUDEFILE
>4a07	b1 20 08 49
>4a0b	9b 06				.word UNNEST
>4a0d	05 46 4c 4f		-	.ptext "FLOAD"
>4a11	41 44
>4a13	0d 4a				.word -
>4a15	f4 49				.word PREVHEADER
=$4a0d						PREVHEADER ::= -
>4a17	22 02			FLOAD:	.word DOCOLON
>4a19	19 05 88 27			.word BL,DOWORD,COUNT,INCLUDED
>4a1d	4d 13 01 4a
>4a21	9b 06				.word UNNEST
>4a23	04 45 43 48		-	.ptext "ECHO"
>4a27	4f
>4a28	23 4a				.word -
>4a2a	0d 4a				.word PREVHEADER
=$4a23						PREVHEADER ::= -
>4a2c	39 02			ECHO:	.word DOVAR
>4a2e	00 00				.word 0
>4a30	11 46 4f 52		-	.ptext "FORTH-KERNEL-SIZE"
>4a34	54 48 2d 4b 45 52 4e 45 4c 2d 53 49 5a 45
>4a42	30 4a				.word -
>4a44	23 4a				.word PREVHEADER
=$4a30						PREVHEADER ::= -
>4a46	22 02			FORTHKERNELSIZE:	.word DOCOLON
>4a48	28 2e 23 11			.word DP,FETCH,FORTHKERNELSTARTCON,MINUS
>4a4c	f3 05 10 16
>4a50	9b 06				.word UNNEST
>4a52	05 46 53 41		-	.ptext "FSAVE"
>4a56	56 45
>4a58	52 4a				.word -
>4a5a	30 4a				.word PREVHEADER
=$4a52						PREVHEADER ::= -
>4a5c	22 02			FSAVE:	.word DOCOLON
>4a5e	19 05 88 27			.word BL,DOWORD,COUNT
>4a62	4d 13
>4a64	a5 41 c7 41			.word WRITEONLY,OPENFILE,THROWFILECREATEFAIL,QTHROW,TOR
>4a68	51 21 b1 20 f0 0c
>4a6e	f3 05 4d 2e			.word FORTHKERNELSTARTCON,HERE,STORE,HERE,LIT,2
>4a72	bc 10 4d 2e 74 09 02 00
>4a7a	1c 0d 33 43			.word RFETCH,WRITEFILE,THROWFILEWRITEFAIL,QTHROW
>4a7e	a3 21 b1 20
>4a82	f3 05 46 4a			.word FORTHKERNELSTARTCON,FORTHKERNELSIZE
>4a86	1c 0d 33 43			.word RFETCH,WRITEFILE,THROWFILEWRITEFAIL,QTHROW
>4a8a	a3 21 b1 20
>4a8e	30 0d 30 42			.word RFROM,CLOSEFILE,THROWFILECLOSEFAIL,QTHROW
>4a92	34 21 b1 20
>4a96	9b 06				.word UNNEST
>4a98	07 57 45 4c		-	.ptext "WELCOME"
>4a9c	43 4f 4d 45
>4aa0	98 4a				.word -
>4aa2	52 4a				.word PREVHEADER
=$4a98						PREVHEADER ::= -
>4aa4	7f 02			WELCOME:	.word DODEFER
>4aa6	84 0a				.word NOOP
>4aa8	f0 49			-	.word PREVDEFER
>4aaa	84 0a				.word NOOP
=$4aa8						PREVDEFER ::= -
>4aac	04 43 4f 4c		-	.ptext "COLD"
>4ab0	44
>4ab1	ac 4a				.word -
>4ab3	98 4a				.word PREVHEADER
=$4aac						PREVHEADER ::= -
>4ab5	22 02			COLD:	.word DOCOLON
>4ab7	a4 4a 7d 41			.word WELCOME,QUIT
>4abb	9b 06				.word UNNEST
=$4aac						COLDNFA = PREVHEADER
.4abd					ICOLD:
.4abd	d8					cld
.4abe	a9 ee				lda #<DSTACK_TOP
.4ac0	85 00				sta SP
.4ac2	8d 91 0c			sta SP0+2
.4ac5	a9 db				lda #>DSTACK_TOP
.4ac7	85 01				sta SP+1
.4ac9	8d 92 0c			sta SP0+3
.4acc	a9 ee				lda #<RSTACK_TOP
.4ace	85 02				sta RP
.4ad0	8d 9d 0c			sta RP0+2
.4ad3	a9 d7				lda #>RSTACK_TOP
.4ad5	85 03				sta RP+1
.4ad7	8d 9e 0c			sta RP0+3
.4ada	a9 b5				lda #<COLD
.4adc	85 06				sta CFA
.4ade	a9 4a				lda #>COLD
.4ae0	85 07				sta CFA+1
.4ae2	a9 0a				lda #10
.4ae4	8d 15 28			sta BASE+2
.4ae7	9c 16 28			stz BASE+3
.4aea	4c 15 02			jmp EXEC
.4aed					ENDOFKERNEL:

;******  End of listing
